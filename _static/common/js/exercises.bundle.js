var Bundle=function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=7)}([function(t,n,r){"use strict";var e;Object.defineProperty(n,"__esModule",{value:!0}),n.Color=n.MatlabMath=n.getQueryString=n.cloneArray=n.assert=n.asMutable=void 0,n.asMutable=function(t){return t},n.assert=function(t,n){if(void 0===n&&(n=""),!t)throw Error("Assert failed: "+n)},n.cloneArray=function(t){return t.slice()},n.getQueryString=function(){for(var t={},n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var e=n[r].split("=");if(void 0===t[e[0]])t[e[0]]=decodeURIComponent(e[1]);else if("string"==typeof t[e[0]]){var i=[t[e[0]],decodeURIComponent(e[1])];t[e[0]]=i}else t[e[0]].push(decodeURIComponent(e[1]))}return t},function(t){var n=0;function r(t,n,r){void 0===n&&(n=0),void 0===r&&(r=1);var e=t%233280/233280;return e=n+e*(r-n),e=Math.max(n,Math.min(r,e))}t.setRandomSeed=function(t){n=t},t.random=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),r(n=(9301*n+49297)%233280,t,e)},t.randomInteger=function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t)+t)},t.randomIntegerInclusive=function(t,n){return t=Math.ceil(t),n=Math.floor(n),Math.floor(Math.random()*(n-t+1)+t)},t.seededRandom=r,t.range=function(t,n,r){void 0===r&&(r=1);for(var e=[];t<=n;)e.push(t),t+=r;return e}}(e=n.MatlabMath||(n.MatlabMath={})),function(t){t.WHITE="#FFFFFF",t.LIGHT_LETTERS="ABCDEF",t.toColor=function(t,n){void 0===n&&(n="123456789ABCDEF");for(var r=t.toString(),i=0,u=0;i<r.length;u=r.charCodeAt(i++)+((u<<5)-u));return function(t,n){void 0===n&&(n="123456789ABCDEF"),n=n||"0123456789ABCDEF";var r="#";e.setRandomSeed(t);for(var i=0;i<6;i++)r+=n[Math.floor(e.random()*n.length)];return r}(Math.abs(u),n)},t.randomColor=function(t){void 0===t&&(t="123456789ABCDEF"),t=t||"0123456789ABCDEF";for(var n="#",r=0;r<6;r++)n+=t[Math.floor(e.random()*t.length)];return n}}(n.Color||(n.Color={}))},function(t,n,r){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0}),n.parse=n.SyntaxError=void 0;var u=function(t){function n(r,e,i,u){var a=t.call(this)||this;return a.message=r,a.expected=e,a.found=i,a.location=u,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,n),a}return i(n,t),n.buildMessage=function(t,n){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function e(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function u(t){switch(t.type){case"literal":return'"'+e(t.text)+'"';case"class":var n=t.parts.map(function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)});return"["+(t.inverted?"^":"")+n+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var n,r,e=t.map(u);if(e.sort(),e.length>0){for(n=1,r=1;n<e.length;n++)e[n-1]!==e[n]&&(e[r]=e[n],r++);e.length=r}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+((a=n)?'"'+e(a)+'"':"end of input")+" found.";var a},n}(Error);n.SyntaxError=u,n.parse=function(t,n){n=void 0!==n?n:{};var r,e={},i={start:fn},a=fn,o=";",c=en(";",!1),s=/^[\n\r]/,l=un(["\n","\r"],!1,!1),f=function(t){return t},h=function(t){return 1===t.length?t[0]:{what:"statement_group",statements:t}},p="=",d=en("=",!1),v=function(t,n){return{what:"indexed_assignment",lhs:t,rhs:n}},g=function(t,n){return{what:"assignment",identifier:t,exp:n}},m="[",_=en("[",!1),y=/^[\r\n]/,b=un(["\r","\n"],!1,!1),w=function(t,n){return n},x="]",A=en("]",!1),C=function(t,n){return 0===n.length?t:(n.unshift(t),{what:"matrix_exp",rows:n})},S=",",I=en(",",!1),k=function(t,n){return n},E=function(t,n){return 0===n.length?t:(n.unshift(t),{what:"row_exp",cols:n})},T=":",M=en(":",!1),z=function(t,n,r){return r},j=function(t,n,r){return{what:"range_exp",start:t,end:r||n,step:r&&n||void 0}},O="|",$=en("|",!1),R=function(t,n,r){return[n,r]},L=function(t,n){return Mn(t,n,"left","or_exp")},V="&",N=en("&",!1),F=function(t,n){return Mn(t,n,"left","and_exp")},D="==",W=en("==",!1),U="~=",B=en("~=",!1),P=function(t,n){return Mn(t,n,"left","eq_exp")},H="<=",q=en("<=",!1),G="<",Z=en("<",!1),K=">=",J=en(">=",!1),Y=">",Q=en(">",!1),X=function(t,n){return Mn(t,n,"left","rel_exp")},tt="+",nt=en("+",!1),rt="-",et=en("-",!1),it=function(t,n){return Mn(t,n,"left","add_exp")},ut="*",at=en("*",!1),ot="/",ct=en("/",!1),st="^",lt=en("^",!1),ft=".*",ht=en(".*",!1),pt="./",dt=en("./",!1),vt=".^",gt=en(".^",!1),mt=function(t,n){return Mn(t,n,"left","mult_exp")},_t="~",yt=en("~",!1),bt=function(t,n){return{what:"unary_exp",sub:n,op:t}},wt="'",xt=en("'",!1),At=function(t,n){return{what:"transpose_exp",sub:t,transposes:n}},Ct="(",St=en("(",!1),It=function(t,n,r){return r},kt=")",Et=en(")",!1),Tt=function(t,n,r){return r.unshift(n),{what:"call_exp",target:t.identifier,args:r}},Mt="end",zt=en("end",!1),jt=function(){return{what:"end_exp"}},Ot=function(t){return t},$t=function(){return{what:"colon_exp"}},Rt=/^[0-9.]/,Lt=un([["0","9"],"."],!1,!1),Vt=function(t,n){return n.indexOf(".")==n.lastIndexOf(".")&&-1!=n.indexOf(".")},Nt=function(t,n){return{what:"float",value:parseFloat((t||"")+n.join(""))}},Ft=an("integer"),Dt=/^[0-9]/,Wt=un([["0","9"]],!1,!1),Ut=function(t,n){return{what:"integer",value:parseInt((t||"")+n.join(""),10)}},Bt=an("identifier"),Pt=function(t,n){return{what:"identifier",identifier:t+n.join("")}},Ht=/^[a-zA-Z0-9_]/,qt=un([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Gt=/^[a-zA-Z]/,Zt=un([["a","z"],["A","Z"]],!1,!1),Kt=an("whitespace"),Jt=/^[ \t]/,Yt=un([" ","\t"],!1,!1),Qt=0,Xt=[{line:1,column:1}],tn=0,nn=[],rn=0;if(void 0!==n.startRule){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function en(t,n){return{type:"literal",text:t,ignoreCase:n}}function un(t,n,r){return{type:"class",parts:t,inverted:n,ignoreCase:r}}function an(t){return{type:"other",description:t}}function on(n){var r,e=Xt[n];if(e)return e;for(r=n-1;!Xt[r];)r--;for(e={line:(e=Xt[r]).line,column:e.column};r<n;)10===t.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return Xt[n]=e,e}function cn(t,n){var r=on(t),e=on(n);return{start:{offset:t,line:r.line,column:r.column},end:{offset:n,line:e.line,column:e.column}}}function sn(t){Qt<tn||(Qt>tn&&(tn=Qt,nn=[]),nn.push(t))}function ln(t,n,r){return new u(u.buildMessage(t,n),t,n,r)}function fn(){return function(){var n,r,i,u,a,p,d;if(n=Qt,(r=En())!==e){if(i=[],u=Qt,(a=hn())!==e){for(p=[],59===t.charCodeAt(Qt)?(d=o,Qt++):(d=e,0===rn&&sn(c)),d===e&&(s.test(t.charAt(Qt))?(d=t.charAt(Qt),Qt++):(d=e,0===rn&&sn(l)),d===e&&(d=Tn()));d!==e;)p.push(d),59===t.charCodeAt(Qt)?(d=o,Qt++):(d=e,0===rn&&sn(c)),d===e&&(s.test(t.charAt(Qt))?(d=t.charAt(Qt),Qt++):(d=e,0===rn&&sn(l)),d===e&&(d=Tn()));p!==e?(a=f(a),u=a):(Qt=u,u=e)}else Qt=u,u=e;for(;u!==e;)if(i.push(u),u=Qt,(a=hn())!==e){for(p=[],59===t.charCodeAt(Qt)?(d=o,Qt++):(d=e,0===rn&&sn(c)),d===e&&(s.test(t.charAt(Qt))?(d=t.charAt(Qt),Qt++):(d=e,0===rn&&sn(l)),d===e&&(d=Tn()));d!==e;)p.push(d),59===t.charCodeAt(Qt)?(d=o,Qt++):(d=e,0===rn&&sn(c)),d===e&&(s.test(t.charAt(Qt))?(d=t.charAt(Qt),Qt++):(d=e,0===rn&&sn(l)),d===e&&(d=Tn()));p!==e?(a=f(a),u=a):(Qt=u,u=e)}else Qt=u,u=e;i!==e?(r=h(i),n=r):(Qt=n,n=e)}else Qt=n,n=e;return n}()}function hn(){var n;return(n=function(){var n,r,i,u;return n=Qt,(r=An())!==e&&En()!==e?(61===t.charCodeAt(Qt)?(i=p,Qt++):(i=e,0===rn&&sn(d)),i!==e&&En()!==e&&(u=dn())!==e?(r=v(r,u),n=r):(Qt=n,n=e)):(Qt=n,n=e),n===e&&(n=Qt,(r=In())!==e&&En()!==e?(61===t.charCodeAt(Qt)?(i=p,Qt++):(i=e,0===rn&&sn(d)),i!==e&&En()!==e&&(u=dn())!==e?(r=g(r,u),n=r):(Qt=n,n=e)):(Qt=n,n=e)),n}())===e&&(n=dn()),n}function pn(){var n,r,i,u,a,o,c;if(n=Qt,(r=dn())!==e){for(i=[],u=Qt,a=Qt,(o=En())!==e?(44===t.charCodeAt(Qt)?(c=S,Qt++):(c=e,0===rn&&sn(I)),c!==e?a=o=[o,c]:(Qt=a,a=e)):(Qt=a,a=e),a===e&&(a=Tn()),a!==e&&(o=En())!==e&&(c=dn())!==e?u=a=k(r,c):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,a=Qt,(o=En())!==e?(44===t.charCodeAt(Qt)?(c=S,Qt++):(c=e,0===rn&&sn(I)),c!==e?a=o=[o,c]:(Qt=a,a=e)):(Qt=a,a=e),a===e&&(a=Tn()),a!==e&&(o=En())!==e&&(c=dn())!==e?u=a=k(r,c):(Qt=u,u=e);i!==e?n=r=E(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function dn(){var n;return(n=function(){var n,r,i,u,a,o,c,s;return n=Qt,(r=vn())!==e&&En()!==e?(58===t.charCodeAt(Qt)?(i=T,Qt++):(i=e,0===rn&&sn(M)),i!==e&&En()!==e&&(u=vn())!==e?(a=Qt,(o=En())!==e?(58===t.charCodeAt(Qt)?(c=T,Qt++):(c=e,0===rn&&sn(M)),c!==e&&En()!==e&&(s=vn())!==e?(o=z(r,u,s),a=o):(Qt=a,a=e)):(Qt=a,a=e),a===e&&(a=null),a!==e?(r=j(r,u,a),n=r):(Qt=n,n=e)):(Qt=n,n=e)):(Qt=n,n=e),n===e&&(n=vn()),n}())===e&&(n=An())===e&&(n=Cn()),n}function vn(){var n,r,i,u,a,o;if(n=Qt,(r=gn())!==e){for(i=[],u=Qt,En()!==e?(124===t.charCodeAt(Qt)?(a=O,Qt++):(a=e,0===rn&&sn($)),a!==e&&En()!==e&&(o=gn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(124===t.charCodeAt(Qt)?(a=O,Qt++):(a=e,0===rn&&sn($)),a!==e&&En()!==e&&(o=gn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=L(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function gn(){var n,r,i,u,a,o;if(n=Qt,(r=mn())!==e){for(i=[],u=Qt,En()!==e?(38===t.charCodeAt(Qt)?(a=V,Qt++):(a=e,0===rn&&sn(N)),a!==e&&En()!==e&&(o=mn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(38===t.charCodeAt(Qt)?(a=V,Qt++):(a=e,0===rn&&sn(N)),a!==e&&En()!==e&&(o=mn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=F(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function mn(){var n,r,i,u,a,o;if(n=Qt,(r=_n())!==e){for(i=[],u=Qt,En()!==e?(t.substr(Qt,2)===D?(a=D,Qt+=2):(a=e,0===rn&&sn(W)),a===e&&(t.substr(Qt,2)===U?(a=U,Qt+=2):(a=e,0===rn&&sn(B))),a!==e&&En()!==e&&(o=_n())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(t.substr(Qt,2)===D?(a=D,Qt+=2):(a=e,0===rn&&sn(W)),a===e&&(t.substr(Qt,2)===U?(a=U,Qt+=2):(a=e,0===rn&&sn(B))),a!==e&&En()!==e&&(o=_n())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=P(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function _n(){var n,r,i,u,a,o;if(n=Qt,(r=yn())!==e){for(i=[],u=Qt,En()!==e?(t.substr(Qt,2)===H?(a=H,Qt+=2):(a=e,0===rn&&sn(q)),a===e&&(60===t.charCodeAt(Qt)?(a=G,Qt++):(a=e,0===rn&&sn(Z)),a===e&&(t.substr(Qt,2)===K?(a=K,Qt+=2):(a=e,0===rn&&sn(J)),a===e&&(62===t.charCodeAt(Qt)?(a=Y,Qt++):(a=e,0===rn&&sn(Q))))),a!==e&&En()!==e&&(o=yn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(t.substr(Qt,2)===H?(a=H,Qt+=2):(a=e,0===rn&&sn(q)),a===e&&(60===t.charCodeAt(Qt)?(a=G,Qt++):(a=e,0===rn&&sn(Z)),a===e&&(t.substr(Qt,2)===K?(a=K,Qt+=2):(a=e,0===rn&&sn(J)),a===e&&(62===t.charCodeAt(Qt)?(a=Y,Qt++):(a=e,0===rn&&sn(Q))))),a!==e&&En()!==e&&(o=yn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=X(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function yn(){var n,r,i,u,a,o;if(n=Qt,(r=bn())!==e){for(i=[],u=Qt,En()!==e?(43===t.charCodeAt(Qt)?(a=tt,Qt++):(a=e,0===rn&&sn(nt)),a===e&&(45===t.charCodeAt(Qt)?(a=rt,Qt++):(a=e,0===rn&&sn(et))),a!==e&&En()!==e&&(o=bn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(43===t.charCodeAt(Qt)?(a=tt,Qt++):(a=e,0===rn&&sn(nt)),a===e&&(45===t.charCodeAt(Qt)?(a=rt,Qt++):(a=e,0===rn&&sn(et))),a!==e&&En()!==e&&(o=bn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=it(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function bn(){var n,r,i,u,a,o;if(n=Qt,(r=wn())!==e){for(i=[],u=Qt,En()!==e?(42===t.charCodeAt(Qt)?(a=ut,Qt++):(a=e,0===rn&&sn(at)),a===e&&(47===t.charCodeAt(Qt)?(a=ot,Qt++):(a=e,0===rn&&sn(ct)),a===e&&(94===t.charCodeAt(Qt)?(a=st,Qt++):(a=e,0===rn&&sn(lt)),a===e&&(t.substr(Qt,2)===ft?(a=ft,Qt+=2):(a=e,0===rn&&sn(ht)),a===e&&(t.substr(Qt,2)===pt?(a=pt,Qt+=2):(a=e,0===rn&&sn(dt)),a===e&&(t.substr(Qt,2)===vt?(a=vt,Qt+=2):(a=e,0===rn&&sn(gt))))))),a!==e&&En()!==e&&(o=wn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);u!==e;)i.push(u),u=Qt,En()!==e?(42===t.charCodeAt(Qt)?(a=ut,Qt++):(a=e,0===rn&&sn(at)),a===e&&(47===t.charCodeAt(Qt)?(a=ot,Qt++):(a=e,0===rn&&sn(ct)),a===e&&(94===t.charCodeAt(Qt)?(a=st,Qt++):(a=e,0===rn&&sn(lt)),a===e&&(t.substr(Qt,2)===ft?(a=ft,Qt+=2):(a=e,0===rn&&sn(ht)),a===e&&(t.substr(Qt,2)===pt?(a=pt,Qt+=2):(a=e,0===rn&&sn(dt)),a===e&&(t.substr(Qt,2)===vt?(a=vt,Qt+=2):(a=e,0===rn&&sn(gt))))))),a!==e&&En()!==e&&(o=wn())!==e?u=R(r,a,o):(Qt=u,u=e)):(Qt=u,u=e);i!==e?n=r=mt(r,i):(Qt=n,n=e)}else Qt=n,n=e;return n}function wn(){var n,r,i;return(n=xn())===e&&(n=Qt,43===t.charCodeAt(Qt)?(r=tt,Qt++):(r=e,0===rn&&sn(nt)),r===e&&(45===t.charCodeAt(Qt)?(r=rt,Qt++):(r=e,0===rn&&sn(et)),r===e&&(126===t.charCodeAt(Qt)?(r=_t,Qt++):(r=e,0===rn&&sn(yt)))),r!==e&&En()!==e&&(i=xn())!==e?n=r=bt(r,i):(Qt=n,n=e)),n}function xn(){var n,r,i,u;if(n=Qt,(r=Cn())===e&&(r=An()),r!==e)if(En()!==e){if(i=[],39===t.charCodeAt(Qt)?(u=wt,Qt++):(u=e,0===rn&&sn(xt)),u!==e)for(;u!==e;)i.push(u),39===t.charCodeAt(Qt)?(u=wt,Qt++):(u=e,0===rn&&sn(xt));else i=e;i!==e?n=r=At(r,i):(Qt=n,n=e)}else Qt=n,n=e;else Qt=n,n=e;return n===e&&(n=An())===e&&(n=Cn()),n}function An(){var n,r,i,u,a,o,c,s,l;if(n=Qt,(r=In())!==e)if(En()!==e)if(40===t.charCodeAt(Qt)?(i=Ct,Qt++):(i=e,0===rn&&sn(St)),i!==e)if(En()!==e)if((u=Sn())!==e){for(a=[],o=Qt,(c=En())!==e?(44===t.charCodeAt(Qt)?(s=S,Qt++):(s=e,0===rn&&sn(I)),s!==e&&En()!==e&&(l=Sn())!==e?o=c=It(r,u,l):(Qt=o,o=e)):(Qt=o,o=e);o!==e;)a.push(o),o=Qt,(c=En())!==e?(44===t.charCodeAt(Qt)?(s=S,Qt++):(s=e,0===rn&&sn(I)),s!==e&&En()!==e&&(l=Sn())!==e?o=c=It(r,u,l):(Qt=o,o=e)):(Qt=o,o=e);a!==e&&(o=En())!==e?(41===t.charCodeAt(Qt)?(c=kt,Qt++):(c=e,0===rn&&sn(Et)),c!==e?n=r=Tt(r,u,a):(Qt=n,n=e)):(Qt=n,n=e)}else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;return n}function Cn(){var n,r,i,u;return(n=function(){var n,r,i,u,a,s,l,f,h;if(n=Qt,91===t.charCodeAt(Qt)?(r=m,Qt++):(r=e,0===rn&&sn(_)),r!==e)if(En()!==e)if((i=pn())!==e){if(u=[],a=Qt,(s=En())!==e){if(l=[],59===t.charCodeAt(Qt)?(f=o,Qt++):(f=e,0===rn&&sn(c)),f===e&&(y.test(t.charAt(Qt))?(f=t.charAt(Qt),Qt++):(f=e,0===rn&&sn(b))),f!==e)for(;f!==e;)l.push(f),59===t.charCodeAt(Qt)?(f=o,Qt++):(f=e,0===rn&&sn(c)),f===e&&(y.test(t.charAt(Qt))?(f=t.charAt(Qt),Qt++):(f=e,0===rn&&sn(b)));else l=e;l!==e&&(f=En())!==e&&(h=pn())!==e?a=s=w(i,h):(Qt=a,a=e)}else Qt=a,a=e;for(;a!==e;)if(u.push(a),a=Qt,(s=En())!==e){if(l=[],59===t.charCodeAt(Qt)?(f=o,Qt++):(f=e,0===rn&&sn(c)),f===e&&(y.test(t.charAt(Qt))?(f=t.charAt(Qt),Qt++):(f=e,0===rn&&sn(b))),f!==e)for(;f!==e;)l.push(f),59===t.charCodeAt(Qt)?(f=o,Qt++):(f=e,0===rn&&sn(c)),f===e&&(y.test(t.charAt(Qt))?(f=t.charAt(Qt),Qt++):(f=e,0===rn&&sn(b)));else l=e;l!==e&&(f=En())!==e&&(h=pn())!==e?a=s=w(i,h):(Qt=a,a=e)}else Qt=a,a=e;u!==e&&(a=En())!==e?(93===t.charCodeAt(Qt)?(s=x,Qt++):(s=e,0===rn&&sn(A)),s!==e?n=r=C(i,u):(Qt=n,n=e)):(Qt=n,n=e)}else Qt=n,n=e;else Qt=n,n=e;else Qt=n,n=e;return n}())===e&&(n=Qt,t.substr(Qt,3)===Mt?(r=Mt,Qt+=3):(r=e,0===rn&&sn(zt)),r!==e&&(r=jt()),(n=r)===e&&(n=In())===e&&(n=function(){var n;return(n=function(){var n,r,i,u;if(n=Qt,45===t.charCodeAt(Qt)?(r=rt,Qt++):(r=e,0===rn&&sn(et)),r===e&&(r=null),r!==e){if(i=[],Rt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Lt)),u!==e)for(;u!==e;)i.push(u),Rt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Lt));else i=e;i!==e&&(u=(u=Vt(r,i))?void 0:e)!==e?(r=Nt(r,i),n=r):(Qt=n,n=e)}else Qt=n,n=e;return n}())===e&&(n=function(){var n,r,i,u;if(rn++,n=Qt,45===t.charCodeAt(Qt)?(r=rt,Qt++):(r=e,0===rn&&sn(et)),r===e&&(r=null),r!==e){if(i=[],Dt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Wt)),u!==e)for(;u!==e;)i.push(u),Dt.test(t.charAt(Qt))?(u=t.charAt(Qt),Qt++):(u=e,0===rn&&sn(Wt));else i=e;i!==e?(r=Ut(r,i),n=r):(Qt=n,n=e)}else Qt=n,n=e;return rn--,n===e&&(r=e,0===rn&&sn(Ft)),n}()),n}())===e&&(n=Qt,40===t.charCodeAt(Qt)?(r=Ct,Qt++):(r=e,0===rn&&sn(St)),r!==e&&En()!==e&&(i=dn())!==e&&En()!==e?(41===t.charCodeAt(Qt)?(u=kt,Qt++):(u=e,0===rn&&sn(Et)),u!==e?n=r=Ot(i):(Qt=n,n=e)):(Qt=n,n=e))),n}function Sn(){var n,r;return n=Qt,58===t.charCodeAt(Qt)?(r=T,Qt++):(r=e,0===rn&&sn(M)),r!==e&&(r=$t()),(n=r)===e&&(n=dn()),n}function In(){var n,r,i,u;if(rn++,n=Qt,(r=function(){var n;return Gt.test(t.charAt(Qt))?(n=t.charAt(Qt),Qt++):(n=e,0===rn&&sn(Zt)),n}())!==e){for(i=[],u=kn();u!==e;)i.push(u),u=kn();i!==e?n=r=Pt(r,i):(Qt=n,n=e)}else Qt=n,n=e;return rn--,n===e&&(r=e,0===rn&&sn(Bt)),n}function kn(){var n;return Ht.test(t.charAt(Qt))?(n=t.charAt(Qt),Qt++):(n=e,0===rn&&sn(qt)),n}function En(){var n,r;for(rn++,n=[],Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt));r!==e;)n.push(r),Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt));return rn--,n===e&&(r=e,0===rn&&sn(Kt)),n}function Tn(){var n,r;if(rn++,n=[],Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt)),r!==e)for(;r!==e;)n.push(r),Jt.test(t.charAt(Qt))?(r=t.charAt(Qt),Qt++):(r=e,0===rn&&sn(Yt));else n=e;return rn--,n===e&&(r=e,0===rn&&sn(Kt)),n}function Mn(t,n,r,e){if(r=r||"left",e=e||"binaryOp",!n||0===n.length)return t;if("left"===r){var i=n.pop();return{what:e,op:i[0],left:Mn(t,n,r,e),right:i[1],associativity:r}}var u=n.shift();return{what:e,op:u[0],left:t,right:Mn(u[1],n,r,e),associativity:r}}if((r=a())!==e&&Qt===t.length)return r;throw r!==e&&Qt<t.length&&sn({type:"end"}),ln(nn,tn<t.length?t.charAt(tn):null,tn<t.length?cn(tn,tn+1):cn(tn,tn))}},function(t,n,r){"use strict";var e,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0}),n.EndExpression=n.IdentifierExpression=n.LiteralExpression=n.TransposeExpression=n.UnaryOperatorExpression=n.StatementGroup=n.Assignment=n.Expression=n.allSuccess=n.CodeConstruct=n.ImshowFigure=n.Environment=n.MatlabFunction=n.Variable=n.Matrix=n.MatlabError=void 0;var u=r(0),a=r(3),o=function(){return function(t,n){this.message=n,this.construct=t}}();n.MatlabError=o;var c=function(){function t(t,n,r,e){this.numDims=2,this.rows=t,this.cols=n,this.height=t,this.width=n,this.numel=t*n,this.data=u.cloneArray(r),this.dataType=e,this.isScalar=1===t&&1===n,this.isVector=1===t||1===n,this.color=u.Color.toColor([this.rows,this.height,this.data],u.Color.LIGHT_LETTERS)}return t.formatNumber=function(t){return Math.trunc(t)==t?t.toString():t.toPrecision(2)},t.scalar=function(n,r){return new t(1,1,[n],r)},t.createSized=function(n,r,e){return new t(n,r,new Array(n*r),e)},t.prototype.toString=function(){return"Rows: "+this.rows+" Cols: "+this.cols+"\nData: "+JSON.stringify(this.data)},t.prototype.clone=function(){return new t(this.rows,this.cols,this.data.slice(),this.dataType)},t.prototype.equals=function(t){return this.width===t.width&&this.height===t.height&&this.data.every(function(n,r){return n===t.data[r]})},t.prototype.linearIndex=function(t,n){return t-=1,(n-=1)*this.rows+t+1},t.prototype.atLinear=function(t){return this.data[t-1]},t.prototype.setLinear=function(t,n){return this.data[t-1]=n,this},t.prototype.at=function(t,n){return t-=1,n-=1,this.data[n*this.rows+t]},t.prototype.setAt=function(t,n,r){return t-=1,n-=1,this.data[n*this.rows+t]=r,this},t.prototype.fill=function(t){for(var n=0;n<this.data.length;++n)this.data[n]=t;return this},t.prototype.setAll=function(t){u.assert(this.data.length===t.length,"new data must have same number of elements");for(var n=0;n<this.data.length;++n)this.data[n]=t[n];return this},t.prototype.operateAll=function(t){this.setAll(this.data.map(t))},t.prototype.length=function(t){return 1===t?this.rows:this.cols},t.prototype.scalarValue=function(){return this.data[0]},t.prototype.contains=function(t){return-1!==this.data.indexOf(t)},t.prototype.colData=function(t){return this.data.slice((t-1)*this.rows,t*this.rows)},t.prototype.setColData=function(t,n){for(var r=1,e=0;r<=this.rows;++r)this.setAt(r,t,n[e++])},t.prototype.rowData=function(t){var n=this;return a.range(1,this.cols+1).map(function(r){return n.at(t,r)})},t.prototype.setRowData=function(t,n){for(var r=1,e=0;r<=this.cols;++r)this.setAt(t,r,n[e++])},t.prototype.accumulateCols=function(n){var r=this;return new t(1,this.cols,a.range(1,this.cols+1).map(function(t){return r.colData(t).reduce(n)}),"double")},t.prototype.accumulateRows=function(n){var r=this;return new t(this.rows,1,a.range(1,this.rows+1).map(function(t){return r.rowData(t).reduce(n)}),"double")},t.prototype.visualize_html=function(n){var r=$("<table></table>");r.addClass("matlab-table"),"logical"!==this.dataType&&r.css("background-color",this.color);for(var e=1;e<=this.rows;++e){var i=$("<tr></tr>");r.append(i);for(var u=1;u<=this.cols;++u){var a=$("<td class='matlab-matrix-cell'></td>"),o=$("<div></div>");o.addClass("matlab-scalar"),"logical"===this.dataType&&a.addClass(this.at(e,u)?"logical-1":"logical-0");var c=$("<span></span>");c.html(t.formatNumber(this.at(e,u))),o.append(c),a.append(o),i.append(a)}}return r[0].outerHTML},t}();n.Matrix=c;var s=function(){return function(){}}(),l=function(t){function n(n,r){var e=t.call(this)||this;return e.rowIndexer=n,e.colIndexer=r,e}return i(n,t),n.create=function(t,r){return new n(f.create(1,t),f.create(2,r))},n.prototype.indexingText=function(){return"("+this.rowIndexer.indexingText()+", "+this.colIndexer.indexingText()+")"},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index");var r=new Set(this.rowIndexer.getSelectedIndices(t)),e=new Set(this.colIndexer.getSelectedIndices(t)),i=$("<tr></tr>").appendTo(n);i.append($("<td></td>"));for(var u=1;u<=t.cols;++u){var a=$("<td class='matlab-column-index'>"+u+"</td>").appendTo(i);e.has(u)&&a.addClass("selected")}for(var o=1;o<=t.rows;++o){var c=$("<tr></tr>");n.append(c);var s=$("<td class='matlab-row-index'>"+o+"</td>").appendTo(c);r.has(o)&&s.addClass("selected");for(var l=1;l<=t.cols;++l){var f=$("<td class='matlab-matrix-cell'><div class='highlight'></div></td>");f.css("background-color",t.color),r.has(o)&&e.has(l)&&f.addClass("selected");var h=$("<div></div>");h.addClass("matlab-scalar");var p=$("<span></span>");p.html(""+t.at(o,l)),h.append(p),f.append(h),c.append(f)}}return n[0].outerHTML},n.prototype.readValue=function(t){var n=[],r=this.rowIndexer.getSelectedIndices(t),e=this.colIndexer.getSelectedIndices(t);return e.forEach(function(e){r.forEach(function(r){n.push(t.at(r,e))})}),new c(r.length,e.length,n,t.dataType)},n.prototype.assign=function(t,n){var r=this.rowIndexer.getSelectedIndices(t),e=this.colIndexer.getSelectedIndices(t),i=r.length,u=e.length,a=i*u;if(n.isScalar)e.forEach(function(e,i){r.forEach(function(r,i){t.setAt(r,e,n.scalarValue())})});else{if(!(i===n.rows&&u===n.cols||(1===i||1===u)&&n.isVector&&a==n.numel))throw"Subscripted assignment dimension mismatch. The left hand side indexing expression selects a "+i+"x"+u+" while the right hand side is a "+n.rows+"x"+n.cols+".";var o=1;e.forEach(function(e,i){r.forEach(function(r,i){t.setAt(r,e,n.atLinear(o++))})})}},n.prototype.verify=function(t){this.rowIndexer.verify(t),this.colIndexer.verify(t)},n}(s),f=function(){function t(t){this.dimension=t}return t.create=function(t,n){return":"===n?new p(t):"logical"===n.dataType?new d(t,n):new h(t,n)},t.DIMENSION_NAMES=["","row","column"],t}(),h=function(t){function n(n,r){var e=t.call(this,n)||this;return e.selectedIndices=r.data,e}return i(n,t),n.prototype.getSelectedIndices=function(t){return this.selectedIndices},n.prototype.indexingText=function(){return this.selectedIndices.join(",")},n.prototype.verify=function(t){var n=this,r=t.length(this.dimension);this.selectedIndices.forEach(function(t){if(t<1||r<t)throw f.DIMENSION_NAMES[n.dimension]+" index "+t+" is out of bounds for the source matrix."})},n}(f),p=function(t){function n(n){return t.call(this,n)||this}return i(n,t),n.prototype.getSelectedIndices=function(t){return u.MatlabMath.range(1,t.length(this.dimension))},n.prototype.indexingText=function(){return":"},n.prototype.verify=function(t){},n}(f),d=function(t){function n(n,r){var e=t.call(this,n)||this,i=[];return r.data.forEach(function(t,n){return t&&i.push(n+1)}),e.selectedIndices=i,e.logicalSelection=r,e}return i(n,t),n.prototype.getSelectedIndices=function(t){return this.selectedIndices},n.prototype.indexingText=function(){return"logical"},n.prototype.verify=function(t){var n=this.logicalSelection.numel,r=t.length(this.dimension);if(n>r)throw"Logical index matrix to select "+f.DIMENSION_NAMES[this.dimension]+"s has "+n+" elements, but source matrix only has "+r+f.DIMENSION_NAMES[this.dimension]+"s."},n}(f),v=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.create=function(t){return":"===t?new m:"logical"===t.dataType?new _(t):new g(t)},n}(s),g=function(t){function n(n){var r=t.call(this)||this;return r.selectedIndices=n,r}return i(n,t),n.prototype.verify=function(t){this.selectedIndices.data.forEach(function(n){if(n<1||t.numel<n)throw"Index "+n+" is out of bounds for the source matrix."})},n.prototype.readValue=function(t){return new c(this.selectedIndices.rows,this.selectedIndices.cols,this.selectedIndices.data.map(function(n){return t.atLinear(n)}),t.dataType)},n.prototype.assign=function(t,n){if(n.isScalar){var r=n.scalarValue();this.selectedIndices.data.forEach(function(n){t.setLinear(n,r)})}else{if(this.selectedIndices.numel!=n.numel)throw"The length of the RHS matrix ("+n.numel+") does not match the number of indices selected from the matrix on the LHS ("+this.selectedIndices.numel+").";this.selectedIndices.data.forEach(function(r,e){t.setLinear(r,n.atLinear(e))})}},n.prototype.indexingText=function(){return"("+this.selectedIndices.data.join(",")+")"},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=new Set(this.selectedIndices.data),e=1;e<=t.rows;++e){var i=$("<tr></tr>");n.append(i);for(var u=1;u<=t.cols;++u){var a=$("<td class='matlab-matrix-cell'><div class='highlight'></div></td>");r.has(t.linearIndex(e,u))&&a.addClass("selected");var o=$("<div></div>");o.addClass("matlab-raw-index"),o.html(""+t.linearIndex(e,u)),a.append(o);var c=$("<div></div>");c.addClass("matlab-scalar");var s=$("<span></span>");s.html(""+t.at(e,u)),c.append(s),a.append(c),i.append(a)}}return n[0].outerHTML},n}(v),m=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.verify=function(t){},n.prototype.readValue=function(t){return new c(t.numel,1,t.data,t.dataType)},n.prototype.assign=function(t,n){if(n.isScalar)t.fill(n.scalarValue());else{if(t.numel!=n.numel)throw"The length of the RHS matrix ("+n.numel+") does not match the number of indices selected from the matrix on the LHS ("+t.numel+").";t.setAll(n.data)}},n.prototype.indexingText=function(){return"(:)"},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=1;r<=t.rows;++r){var e=$("<tr></tr>");n.append(e);for(var i=1;i<=t.cols;++i){var u=$("<td class='matlab-matrix-cell'><div class='highlight'></div></td>");u.addClass("selected");var a=$("<div></div>");a.addClass("matlab-raw-index"),a.html(""+t.linearIndex(r,i)),u.append(a);var o=$("<div></div>");o.addClass("matlab-scalar");var c=$("<span></span>");c.html(""+t.at(r,i)),o.append(c),u.append(o),e.append(u)}}return n[0].outerHTML},n}(v),_=function(t){function n(n){var r=t.call(this)||this;r.logicalSelection=n,u.assert("logical"===n.dataType);var e=[];return n.data.forEach(function(t,n){return t&&e.push(n+1)}),r.selectedIndices=e,r}return i(n,t),n.prototype.verify=function(t){var n=this.logicalSelection.numel,r=t.numel;if(n>r)throw"Logical index matrix has "+n+" elements, but source matrix only has "+r+" elements."},n.prototype.readValue=function(t){var n=this.selectedIndices.map(function(n){return t.atLinear(n)});return 1===this.logicalSelection.rows?new c(1,n.length,n,t.dataType):new c(n.length,1,n,t.dataType)},n.prototype.assign=function(t,n){if(n.isScalar){var r=n.scalarValue();this.selectedIndices.forEach(function(n){return t.setLinear(n,r)})}else{if(this.selectedIndices.length!==n.numel)throw"The number of elements in the RHS matrix ("+n.numel+") does not match the number of selected elements in the logically indexed matrix on the LHS ("+this.selectedIndices.length+").";this.selectedIndices.forEach(function(r,e){return t.setLinear(r,n.data[e])})}},n.prototype.indexingText=function(){return"(logical)"},n.prototype.visualize_selection=function(t){var n=$("<table></table>");n.addClass("matlab-index"),n.css("background-color",t.color);for(var r=new Set(this.selectedIndices),e=1;e<=t.rows;++e){var i=$("<tr></tr>");n.append(i);for(var u=1;u<=t.cols;++u){var a=$("<td class='matlab-matrix-cell'><div class='highlight'></div></td>"),o=r.has(t.linearIndex(e,u));o&&a.addClass("selected");var c=$("<div></div>");c.addClass("matlab-raw-index"),c.html(o?"1":"0"),a.append(c);var s=$("<div></div>");s.addClass("matlab-scalar");var l=$("<span></span>");l.html(""+t.at(e,u)),s.append(l),a.append(s),i.append(a)}}return n[0].outerHTML},n}(v),y=function(){function t(t,n){this.name=t,this.value=n,this.elem=$('<li class="list-group-item"><span class="badge matlab-var-badge">'+t+"</span></li>").prepend(this.valueElem=$('<span class="matlab-var-holder"></span>')),this.refresh()}return t.prototype.refresh=function(){var t=this.elem.find(".matlab-var-holder");t.empty(),t.html(this.value.visualize_html())},t.prototype.setValue=function(t){this.value=t.clone(),this.refresh()},t.prototype.visualize_html=function(t){return this.value.visualize_html(t)},t}();n.Variable=y;var b=function(){function t(t,n){this.numArgs=t,this.func=n}return t.prototype.operate=function(t,n){try{return O(this.func(n,t))}catch(n){return R(new o(t,n))}},t.prototype.isValidNumberOfArgs=function(n){return Array.isArray(this.numArgs)?this.numArgs[0]<=n&&(n<=this.numArgs[1]||this.numArgs[1]===t.ARGS_INF):n===this.numArgs},t.ARGS_INF=-1,t}();function w(t){if(0===t.length)return new c(1,1,[0],"double");if(1===t.length){var n=t[0];if(n.isScalar){var r=n.scalarValue();return new c(r,r,new Array(r*r),"double").fill(0)}if(1!==n.rows)throw"The one-argument version of this function requires a numeric row vector as an input.";return new c(n.atLinear(1),n.atLinear(2),new Array(n.atLinear(1)*n.atLinear(2)),"double").fill(0)}if(2===t.length){var e=t[0],i=t[1];if(!e.isScalar)throw"The argument for the number of rows must be a scalar.";if(!i.isScalar)throw"The argument for the number of columns must be a scalar.";return new c(e.scalarValue(),i.scalarValue(),new Array(e.scalarValue()*i.scalarValue()).fill(0),"double")}throw"Sorry, MatCrab does not support matrices with more than two dimensions."}function x(t,n,r){var e=1;if(n){if(!n.isScalar||n.scalarValue()<1||!Number.isInteger(n.scalarValue()))throw"The second argument specifying the operation dimension must be a positive integer scalar.";e=n.scalarValue()}return t.isVector?new c(1,1,[t.data.reduce(r)],"double"):1===e?t.accumulateCols(r):2===e?t.accumulateRows(r):t.clone()}function A(t,n){return(t=t.clone()).operateAll(n),t}function C(t){for(var n=t[0],r=n.clone(),e=1;e<=n.cols;++e)for(var i=1,u=r.rows;i<=n.rows;++i,--u)r.setAt(u,e,n.at(i,e));return r}function S(t){for(var n=t[0],r=n.clone(),e=1;e<=n.rows;++e)for(var i=1,u=r.cols;i<=n.cols;++i,--u)r.setAt(e,u,n.at(e,i));return r}n.MatlabFunction=b;var I,k={fliplr:new b(1,S),flipud:new b(1,C),flip:new b([1,2],function(t){if(1===t.length)return C(t);var n=t[1];if(!n.isScalar||n.scalarValue()<1||!Number.isInteger(n.scalarValue()))throw"The second argument specifying the flip dimension must be a positive integer scalar.";var r=n.scalarValue();return 1===r?C(t):2===r?S(t):t[0].clone()}),rot90:new b(1,function(t){for(var n=t[0],r=c.createSized(n.cols,n.rows,"double"),e=n.cols,i=1;e>=1;--e,++i)r.setRowData(i,n.colData(e));return r}),zeros:new b([0,b.ARGS_INF],function(t){return w(t).fill(0)}),ones:new b([0,b.ARGS_INF],function(t){return w(t).fill(1)}),eye:new b([0,b.ARGS_INF],function(t){for(var n=w(t).fill(0),r=Math.min(n.rows,n.cols),e=1;e<=r;++e)n.setAt(e,e,1);return n}),randi:new b([0,b.ARGS_INF],function(t){var n,r=t[0],e=1;if(!r.data.every(function(t){return Number.isInteger(t)}))throw"The first argument to randi must specify integral value(s).";if(1===r.numel)n=r.scalarValue();else{if(2!==r.numel)throw"The first argument to randi may only be either a scalar or a two-element vector.";if(e=r.atLinear(1),n=r.atLinear(2),e>n)throw"The specified lower bound for randi must be <= the specified upper bound."}t.shift();var i=w(t);return i.operateAll(function(){return u.MatlabMath.randomIntegerInclusive(e,n)}),i}),linspace:new b([2,3],function(t){var n=3===t.length?t[2].scalarValue():100,r=t[0].scalarValue(),e=t[1].scalarValue(),i=(e-r)/(n-1),u=a.range(r,e+i,i);return new c(1,n,u,"double")}),magic:new b(1,function(t){var n=w(t),r=n.rows;if(r%2!=0)for(var e=1,i=0,u=Math.floor(r/2),a=0;a<r;++a){for(var o=0;o<r;++o)n.setAt(i+1,u+1,e++),i=(i-1+r)%r,u=(u+1+r)%r;i=(i+2+r)%r,u=(u-1+r)%r}else if(2===r)n.setAll([1,4,3,2]);else if(4===r)n.setAll([16,5,9,4,2,11,7,14,3,10,6,15,13,8,12,1]);else if(6===r)n.setAll([35,3,31,8,30,4,1,32,9,28,5,36,6,7,2,33,34,29,26,21,22,17,12,13,19,23,27,10,14,18,24,25,20,15,16,11]);else if(8===r)n.setAll([64,9,17,40,32,41,49,8,2,55,47,26,34,23,15,58,3,54,46,27,35,22,14,59,61,12,20,37,29,44,52,5,60,13,21,36,28,45,53,4,6,51,43,30,38,19,11,62,7,50,42,31,39,18,10,63,57,16,24,33,25,48,56,1]);else{if(10!==r)throw"Sorry, MatCrab does not support magic matrices of even size greater than size 10.";n.setAll([92,98,4,85,86,17,23,79,10,11,99,80,81,87,93,24,5,6,12,18,1,7,88,19,25,76,82,13,94,100,8,14,20,21,2,83,89,95,96,77,15,16,22,3,9,90,91,97,78,84,67,73,54,60,61,42,48,29,35,36,74,55,56,62,68,49,30,31,37,43,51,57,63,69,75,26,32,38,44,50,58,64,70,71,52,33,39,45,46,27,40,41,47,28,34,65,66,72,53,59])}return n}),numel:new b(1,function(t){return c.scalar(t[0].numel,"double")}),length:new b(1,function(t){return c.scalar(Math.max(t[0].rows,t[0].cols),"double")}),size:new b(1,function(t){return new c(1,2,[t[0].rows,t[0].cols],"double")}),sum:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return t+n})}),prod:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return t*n})}),min:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return Math.min(t,n)})}),max:new b([1,2],function(t){return x(t[0],t[1],function(t,n){return Math.max(t,n)})}),sqrt:new b(1,function(t){return A(t[0],function(t){return Math.sqrt(t)})}),sin:new b(1,function(t){return A(t[0],function(t){return Math.sin(t)})}),cos:new b(1,function(t){return A(t[0],function(t){return Math.cos(t)})}),tan:new b(1,function(t){return A(t[0],function(t){return Math.tan(t)})}),asin:new b(1,function(t){return A(t[0],function(t){return Math.asin(t)})}),acos:new b(1,function(t){return A(t[0],function(t){return Math.acos(t)})}),atan:new b(1,function(t){return A(t[0],function(t){return Math.atan(t)})}),sinh:new b(1,function(t){return A(t[0],function(t){return Math.sinh(t)})}),cosh:new b(1,function(t){return A(t[0],function(t){return Math.cosh(t)})}),tanh:new b(1,function(t){return A(t[0],function(t){return Math.tanh(t)})}),asinh:new b(1,function(t){return A(t[0],function(t){return Math.asinh(t)})}),acosh:new b(1,function(t){return A(t[0],function(t){return Math.acosh(t)})}),atanh:new b(1,function(t){return A(t[0],function(t){return Math.atanh(t)})}),display:new b([1,b.ARGS_INF],(I="display",function(t){throw"Sorry, MatCrab does not support the "+I+" function."})),imshow:new b(1,function(t,n){return n.env.imshow(t[0]),new c(1,1,[1],"double")})},E=function(){function t(t,n){for(var r in this.vars={},this.functions={},this.endValueStack=[],this.listeners=[],this.elem=t,n&&(this.imshowFigure=new T(n),this.imshowFigure.imshow(new c(4,4,[25,234,72,100,25,234,72,100,25,234,72,100,25,234,72,100],"double"))),k)this.setFunction(r,k[r])}return t.setGlobalEnvironment=function(n){var r=new t(n);u.asMutable(t).global=r},t.prototype.hasVar=function(t){return this.vars.hasOwnProperty(t)},t.prototype.lookup=function(t){var n=this.vars[t];return n||this.functions[t]},t.prototype.varLookup=function(t){return this.vars[t]},t.prototype.functionLookup=function(t){return this.functions[t]},t.prototype.setVar=function(t,n){var r=this.vars[t];r?r.setValue(n):(r=new y(t,n),this.elem&&("ans"!==t?this.elem.append(r.elem):this.elem.prepend(r.elem)),this.vars[t]=r),this.listeners.forEach(function(t){return t.onVariableSet(r)})},t.prototype.varUpdated=function(t){var n=this.vars[t];u.assert(n),this.listeners.forEach(function(t){return t.onVariableSet(n)})},t.prototype.setFunction=function(t,n){this.functions[t]=n},t.prototype.pushEndValue=function(t){this.endValueStack.push(t)},t.prototype.popEndValue=function(){this.endValueStack.pop()},t.prototype.getEndValue=function(){return this.endValueStack[this.endValueStack.length-1]},t.prototype.imshow=function(t){var n;null===(n=this.imshowFigure)||void 0===n||n.imshow(t)},t.prototype.addListener=function(t){this.listeners.push(t)},t.prototype.clear=function(){var t;this.vars={},null===(t=this.elem)||void 0===t||t.empty()},t}();n.Environment=E;var T=function(){function t(t){this.elem=t,this.context=t[0].getContext("2d")}return t.prototype.imshow=function(t){if(this.context){this.elem[0].width=t.width,this.elem[0].height=t.height;for(var n=this.context.createImageData(t.width,t.height),r=0;r<t.rows;++r)for(var e=0;e<t.cols;++e){var i=r*t.width+e,u=t.at(r+1,e+1);n.data[4*i]=u,n.data[4*i+1]=u,n.data[4*i+2]=u,n.data[4*i+3]=255}this.context.putImageData(n,0,0)}},t}();n.ImshowFigure=T;var M=function(){function t(t,n){this.ast=t,this.env=n}return t.createRedX=function(){return $('<svg class="matlab-error-svg"><line x1="-20" y1="80%" x2="100%" y2="20%" style="stroke:rgba(255,0,0, 0.3);stroke-width:5" transform="translate(10,0)"></line><line style="stroke:rgba(255,0,0, 0.3);stroke-width:5" y2="80%" x2="100%" y1="20%" x1="-20" transform="translate(10,0)"></line></svg>')},t.create=function(t,n){return"statement_group"===t.what?new F(t,n):"assignment"===t.what?new V(t,n):"indexed_assignment"===t.what?new N(t,n):L.create(t,n)},t}();n.CodeConstruct=M;var z={kind:"unexecuted"};function j(t){return t.every(function(t){return"success"===t.kind})}function O(t){return{kind:"success",value:t}}function R(t){return{kind:"error",error:t}}n.allSuccess=j;var L=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.result=z,n}return i(n,t),n.create=function(t,n){return this.grammarToSubclass[t.what](t,n)},n.prototype.setResult=function(t){this.result=t},n.prototype.execute=function(){var t=this.evaluate();return this.setResult(t),t},n.prototype.visualize_html=function(t){var n=$("<div></div>"),r=$('<div class="matlab-exp">'+this.visualize_expr(t)+"</div>").appendTo(n);if("error"===this.result.kind&&this.result.error.construct===this){r.append(M.createRedX());var e=$('\n            <div class="matlab-exp-bottom">\n                <div class="matlab-exp-error">\n                    '+this.result.error.message+"\n                </div>\n            </div>");n.append(e)}return n[0].outerHTML},n.grammarToSubclass={matrix_exp:function(t,n){return new D(t,n)},row_exp:function(t,n){return new W(t,n)},range_exp:function(t,n){return new U(t,n)},or_exp:function(t,n){return new q(t,n)},and_exp:function(t,n){return new G(t,n)},eq_exp:function(t,n){return new Z(t,n)},rel_exp:function(t,n){return new K(t,n)},add_exp:function(t,n){return new P(t,n)},mult_exp:function(t,n){return new H(t,n)},unary_exp:function(t,n){return new J(t,n)},transpose_exp:function(t,n){return new Y(t,n)},call_exp:function(t,n){return new Q(t,n)},colon_exp:function(t,n){return new X(t,n)},end_exp:function(t,n){return new et(t,n)},integer:function(t,n){return new nt(t,n)},float:function(t,n){return new nt(t,n)},identifier:function(t,n){return new rt(t,n)}},n}(M);n.Expression=L;var V=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.lhs=L.create(n.identifier,r),e.rhs=L.create(n.exp,r),e}return i(n,t),n.prototype.execute=function(){var t=this.rhs.execute();if("success"!==t.kind)return t;var n=this.env,r=this.lhs.name;return n.setVar(r,t.value),this.updatedValue=t.value,t},n.prototype.visualize_html=function(){var t=$("<div></div>"),n='<div class="matlab-assignment">\n            '+this.lhs.name+"\n            &nbsp;=&nbsp;\n            "+this.rhs.visualize_html()+"\n        </div>";if(t.append(n),this.updatedValue){var r='<div class="matlab-assignment-result">\n                '+this.lhs.name+" is now "+this.updatedValue.visualize_html()+"\n            </div>";t.append(r)}return t[0].outerHTML},n}(M);n.Assignment=V;var N=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.targetName=n.lhs.target,e.indicies=n.lhs.args.map(function(t){return L.create(t,r)}),e.rhs=L.create(n.rhs,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this,n=this.env.lookup(this.targetName);if(!n||n instanceof b)return R(new o(this,"Sorry, I can't find a variable named "+this.targetName));var r=n.value;if(this.originalMatrix=r.clone(),this.indicies.length>2)return R(new o(this,"Sorry, indexing in more that two dimensions is not currently supported."));var e=this.rhs.execute();if("success"!==e.kind)return e;var i=this.indicies.map(function(n,e){1===t.indicies.length?t.env.pushEndValue(r.numel):t.env.pushEndValue(r.length(e+1));var i=n.execute();return t.env.popEndValue(),i});if(!j(i))return i.find(function(t){return"success"!==t.kind});1===i.length?this.subarrayResult=v.create(this.indicies[0]instanceof X?":":i[0].value):this.subarrayResult=l.create(this.indicies[0]instanceof X?":":i[0].value,this.indicies[1]instanceof X?":":i[1].value);try{return this.subarrayResult.verify(n.value),this.subarrayResult.assign(n.value,e.value),n.refresh(),this.env.varUpdated(n.name),this.updatedMatrix=n.value.clone(),O(this.updatedMatrix)}catch(t){return R(new o(this,t))}},n.prototype.visualize_expr=function(t){return"<div>\n            "+('<div class="matlab-assignment">\n            <div>\n                <div class="matlab-exp-index">\n                    '+(this.originalMatrix&&this.subarrayResult?this.subarrayResult.visualize_selection(this.originalMatrix):"")+"\n                    "+(this.subarrayResult?'<div class="matlab-identifier-name">'+this.targetName+'<span class="matlab-indexing-text">'+this.subarrayResult.indexingText()+"</span></div>":'<div class="matlab-identifier-name">'+this.targetName+"</div>")+"\n                </div>\n                \n            </div>\n            &nbsp;=&nbsp;\n            "+this.rhs.visualize_html()+"\n        </div>")+"\n            "+(this.updatedMatrix?'\n            <div class="matlab-assignment-result">\n                '+this.targetName+" is now "+this.updatedMatrix.visualize_html()+"\n            </div>":"")+"\n        </div>"},n}(L),F=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.statements=n.statements.map(function(t){return M.create(t,r)}),u.assert(e.statements.length>0),e}return i(n,t),n.prototype.execute=function(){for(var t,n=0;n<this.statements.length;++n){var r=this.statements[n];if(this.lastStatementExecuted=r,"success"!==(t=r.execute()).kind)return t}return t},n.prototype.visualize_html=function(){return this.lastStatementExecuted.visualize_html()},n}(M);n.StatementGroup=F;var D=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.rows=n.rows.map(function(t){return L.create(t,r)}),e}return i(n,t),n.prototype.evaluate=function(){var t=this.rows.map(function(t){return t.execute()});return j(t)?this.append_rows(t.map(function(t){return t.value})):t.find(function(t){return"success"!==t.kind})},n.prototype.append_rows=function(t){for(var n=[],r=t[0].cols,e=0,i=0;i<r;++i)n.push([]);for(i=0;i<t.length;++i){var u=t[i];if(e+=u.rows,u.cols!==r)return R(new o(this,"Mismatched matrix number of columns."));for(var a=0;a<r;++a)for(var s=0;s<u.rows;++s)n[a].push(u.at(s+1,a+1))}var l=[].concat.apply([],n);return O(new c(e,r,l,t.some(function(t){return"double"===t.dataType})?"double":t[0].dataType))},n.prototype.visualize_expr=function(){var t=$("<table></table>");t.addClass("matlab-table");var n=u.Color.WHITE;"success"===this.result.kind&&(n=this.result.value.color),t.css("background-color",n);for(var r=this.rows,e=0;e<r.length;++e){var i=$("<tr></tr>");t.append(i);var a=$("<td class='matlab-matrix-cell'></td>");i.append(a),a.html(r[e].visualize_html({contained:!0}))}return t[0].outerHTML},n}(L),W=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.cols=n.cols.map(function(t){return L.create(t,r)}),e}return i(n,t),n.prototype.evaluate=function(){var t=this.cols.map(function(t){return t.execute()});return j(t)?this.append_cols(t.map(function(t){return t.value})):t.find(function(t){return"success"!==t.kind})},n.prototype.append_cols=function(t){var n=t[0].rows;return t.some(function(t){return t.rows!=n})?R(new o(this,"Mismatched matrix number of rows.")):O(new c(t[0].rows,t.reduce(function(t,n){return t+n.cols},0),t.reduce(function(t,n){return t=t.concat(n.data)},[]),t.some(function(t){return"double"===t.dataType})?"double":t[0].dataType))},n.prototype.visualize_expr=function(){var t=this.cols;if(1==t.length)return t[0].visualize_html();var n=$("<table></table>");n.addClass("matlab-table");var r=u.Color.WHITE;"success"===this.result.kind&&(r=this.result.value.color),n.css("background-color",r);var e=$("<tr></tr>");n.append(e);for(var i=0;i<t.length;++i){var a=$("<td class='matlab-matrix-cell'></td>");e.append(a);t[i];a.html(t[i].visualize_html({contained:!0}))}return n[0].outerHTML},n}(L),U=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.start=L.create(n.start,r),e.end=L.create(n.end,r),e.step=n.step?L.create(n.step,r):null,e}return i(n,t),n.prototype.evaluate=function(){var t=this.start.execute(),n=this.end.execute(),r=this.step&&this.step.execute();if("success"!==t.kind)return t;if("success"!==n.kind)return n;if(r&&"success"!==r.kind)return r;var e=t.value.scalarValue(),i=n.value.scalarValue(),u=r?r.value.scalarValue():1,a=[];if(u>0){if(e<=i)for(;e<=i;)a.push(e),e+=u}else if(i<=e)for(;i<=e;)a.push(e),e+=u;return O(new c(1,a.length,a,"double"))},n.prototype.visualize_expr=function(){var t=void 0;if("success"===this.result.kind){for(var n=this.result.value,r="",e=1;e<=n.numel;++e)r+="<td class='matlab-matrix-cell'>\n                    "+tt(n.atLinear(e))+"\n                </td>";t='\n            <div class="matlab-range-result">\n                <table class="matlab-table" style="background-color: '+u.Color.toColor(n,u.Color.LIGHT_LETTERS)+'">\n                    <svg class="matlab-range-svg">\n                        <defs>\n                            <marker id="arrow" markerWidth="10" markerHeight="10" refx="9" refy="3" orient="auto" markerUnits="strokeWidth">\n                                <path d="M0,0 L0,6 L9,3 z" fill="#000" />\n                            </marker>\n                        </defs>\n                        <g transform="translate(-10,0)">\n                            <line x1="22" y1="25" x2="100%" y2="25" stroke="#000" stroke-width="1" marker-end="url(#arrow)" />\n                        </g>\n                    </svg>\n                    <tr>'+r+"</tr>\n                </table>\n            </div>"}return'<div class="matlab-range">\n            <div class="matlab-range-header">\n                <table class="matlab-table">\n                    <tr>\n                        <th>start</th>\n                        '+(this.step?"<th>step</th>":"")+"\n                        <th>end</th>\n                    </tr>\n                    <tr>\n                        <td class='matlab-matrix-cell'>"+this.start.visualize_html()+"</td>\n                        "+(this.step?"<td class='matlab-matrix-cell'>"+this.step.visualize_html()+"</td>":"")+"\n                        <td class='matlab-matrix-cell'>"+this.end.visualize_html()+"</td>\n                    </tr>\n                </table>\n            </div>\n            "+t+"\n        </div>"},n}(L),B=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.op=n.op,e.left=L.create(n.left,r),e.right=L.create(n.right,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this.left.execute(),n=this.right.execute();if("success"!==t.kind)return t;if("success"!==n.kind)return n;var r=this.checkOperands(t,n);return r||this.binaryOp(t.value,n.value,this.op,this.operators[this.op],this.dataType)},n.prototype.checkOperands=function(t,n){return null},n.prototype.binaryOp=function(t,n,r,e,i){var u,a,s=[];if(t.rows===n.rows&&t.cols===n.cols){for(var l=1;l<=t.numel;++l)s.push(e(t.atLinear(l),n.atLinear(l)));u=t.rows,a=t.cols}else if(t.isScalar){var f=t.scalarValue();for(l=1;l<=n.numel;++l)s.push(e(f,n.atLinear(l)));u=n.rows,a=n.cols}else{if(!n.isScalar)return R(new o(this,"Mismatched dimensions for operator "+r+". LHS is a "+t.rows+"x"+t.cols+" and RHS is a "+n.rows+"x"+n.cols+"."));var h=n.scalarValue();for(l=1;l<=t.numel;++l)s.push(e(t.atLinear(l),h));u=t.rows,a=t.cols}return O(new c(u,a,s,i))},n.prototype.visualize_expr=function(){return'<div class="matlab-exp-binaryOp">\n            <div>'+this.left.visualize_html()+"</div>\n            <div>&nbsp;"+this.op+"&nbsp;</div>\n            <div>"+this.right.visualize_html()+"</div>\n        </div>"},n}(L),P=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="double",n.operators={"+":function(t,n){return t+n},"-":function(t,n){return t-n}},n}return i(n,t),n}(B),H=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="double",n.operators={"*":function(t,n){return t*n},"/":function(t,n){return t/n},".*":function(t,n){return t*n},"./":function(t,n){return t/n},".^":function(t,n){return Math.pow(t,n)}},n}return i(n,t),n.prototype.checkOperands=function(t,n){return"*"!==this.op&&"/"!==this.op&&"^"!==this.op||t.value.isScalar||n.value.isScalar?null:R(new o(this,"Sorry, matrix multiplication, division, and exponentiation are not supported. You may use the element-wise versions (i.e. .*, ./, .^)."))},n}(B),q=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"|":function(t,n){return t||n?1:0}},n}return i(n,t),n}(B),G=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"&":function(t,n){return t&&n?1:0}},n}return i(n,t),n}(B),Z=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"==":function(t,n){return t===n?1:0},"~=":function(t,n){return t!==n?1:0}},n}return i(n,t),n}(B),K=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dataType="logical",n.operators={"<":function(t,n){return t<n?1:0},"<=":function(t,n){return t<=n?1:0},">":function(t,n){return t>n?1:0},">=":function(t,n){return t>=n?1:0}},n}return i(n,t),n}(B),J=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.operators={"+":function(t){return t},"-":function(t){return-t},"~":function(t){return t?0:1}},e.operatorDataTypes={"+":"double","-":"double","~":"logical"},e.op=n.op,e.operand=L.create(n.sub,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this.operand.execute();if("success"!==t.kind)return t;var n=this.checkOperand(t);return n||this.unaryOp(t.value,this.operators[this.op],this.operatorDataTypes[this.op])},n.prototype.checkOperand=function(t){return null},n.prototype.unaryOp=function(t,n,r){return O(new c(t.rows,t.cols,t.data.map(n),r))},n.prototype.visualize_expr=function(){return'<div class="matlab-exp-unaryOp">\n            <div>'+this.op+"&nbsp;</div>\n            <div>"+this.operand.visualize_html()+"</div>\n        </div>"},n}(L);n.UnaryOperatorExpression=J;var Y=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.numTransposes=n.transposes.length,e.operand=L.create(n.sub,r),e}return i(n,t),n.prototype.evaluate=function(){var t=this.operand.execute();if("success"!==t.kind)return t;for(var n=t.value,r=[],e=1;e<=n.rows;++e)for(var i=1;i<=n.cols;++i)r.push(n.at(e,i));return O(new c(n.cols,n.rows,r,n.dataType))},n.prototype.visualize_expr=function(){return'<div class="matlab-exp-unaryOp">\n            <div>transpose&nbsp;</div>\n            <div>'+this.operand.visualize_html()+"</div>\n        </div>"},n}(L);n.TransposeExpression=Y;var Q=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.targetName=n.target,e.indiciesOrArgs=n.args.map(function(t){return L.create(t,r)}),e}return i(n,t),n.prototype.evaluate=function(){var t=this,n=this.env.lookup(this.targetName);if(!n)return R(new o(this,"Sorry, I can't find a variable or function named "+this.targetName));if(!(n instanceof y)){var r=this.executedFunction=n;if(!r.isValidNumberOfArgs(this.indiciesOrArgs.length))return R(new o(this,"Invalid number of arguments for the "+this.targetName+" function."));var e=this.indiciesOrArgs.map(function(t){return t.execute()});return j(e)?r.operate(this,e.map(function(t){return t.value})):e.find(function(t){return"success"!==t.kind})}var i=n.value;if(this.originalMatrix=i.clone(),this.indiciesOrArgs.length>2)return R(new o(this,"Sorry, indexing in more that two dimensions is not currently supported."));var u=this.indiciesOrArgs.map(function(n,r){1===t.indiciesOrArgs.length?t.env.pushEndValue(i.numel):t.env.pushEndValue(i.length(r+1));var e=n.execute();return t.env.popEndValue(),e});if(!j(u))return u.find(function(t){return"success"!==t.kind});1===u.length?this.subarrayResult=v.create(this.indiciesOrArgs[0]instanceof X?":":u[0].value):this.subarrayResult=l.create(this.indiciesOrArgs[0]instanceof X?":":u[0].value,this.indiciesOrArgs[1]instanceof X?":":u[1].value);try{return this.subarrayResult.verify(i),O(this.subarrayResult.readValue(i))}catch(t){return R(new o(this,t))}},n.prototype.visualize_expr=function(t){return $("<div></div>").addClass("matlab-exp-index"),this.originalMatrix&&this.subarrayResult?'<div class="matlab-exp-index">\n                '+this.subarrayResult.visualize_selection(this.originalMatrix)+"\n                "+(this.subarrayResult?'<div class="matlab-identifier-name">'+(this.targetName+this.subarrayResult.indexingText())+"</div>":'<div class="matlab-identifier-name">'+this.targetName+"</div>")+"\n            </div>":this.executedFunction?'<div class="matlab-exp-call">\n                '+this.targetName+"(\n                    "+this.indiciesOrArgs.map(function(t){return'<div class="matlab-call-arg">'+t.visualize_html()+"</div>"}).join(",")+"\n                )</div>":""},n}(L),X=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.evaluate=function(){return O(new c(1,1,[1],"double"))},n.prototype.visualize_expr=function(){return"<span>:</span>"},n}(L);function tt(t){var n=c.formatNumber(t);return'<div class="matlab-scalar'+(n.length>3?" double":"")+'">\n        <span>'+n+"</span>\n    </div>"}var nt=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.literalValue=c.scalar(e.ast.value,"double"),e}return i(n,t),n.prototype.evaluate=function(){return O(this.literalValue)},n.prototype.visualize_expr=function(t){return t&&t.contained?tt(this.literalValue.scalarValue()):this.literalValue.visualize_html()},n}(L);n.LiteralExpression=nt;var rt=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.name=n.identifier,e}return i(n,t),n.prototype.evaluate=function(){var t=this.env.lookup(this.name);return!t||t instanceof b?R(new o(this,"Cannot find variable "+this.name)):O(t.value)},n.prototype.visualize_expr=function(){return'<div class="matlab-identifier">\n            '+("success"===this.result.kind?this.result.value.visualize_html():"")+'\n            <div class="matlab-identifier-name">'+this.name+"</div>\n        </div>"},n}(L);n.IdentifierExpression=rt;var et=function(t){function n(n,r){return t.call(this,n,r)||this}return i(n,t),n.prototype.evaluate=function(){var t=this.env.getEndValue();return t?O(c.scalar(t,"double")):R(new o(this,"The end keyword is only allowed within the context of an indexing expression."))},n.prototype.visualize_expr=function(){return'<div class="matlab-identifier">\n            '+("success"===this.result.kind?this.result.value.visualize_html():"")+'\n            <div class="matlab-identifier-name">end</div>\n        </div>'},n}(L);n.EndExpression=et},function(t,n,r){(function(t,e){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var u,a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",s="__lodash_hash_undefined__",l=500,f="__lodash_placeholder__",h=1,p=2,d=4,v=1,g=2,m=1,_=2,y=4,b=8,w=16,x=32,A=64,C=128,S=256,I=512,k=30,E="...",T=800,M=16,z=1,j=2,O=1/0,$=9007199254740991,R=1.7976931348623157e308,L=NaN,V=4294967295,N=V-1,F=V>>>1,D=[["ary",C],["bind",m],["bindKey",_],["curry",b],["curryRight",w],["flip",I],["partial",x],["partialRight",A],["rearg",S]],W="[object Arguments]",U="[object Array]",B="[object AsyncFunction]",P="[object Boolean]",H="[object Date]",q="[object DOMException]",G="[object Error]",Z="[object Function]",K="[object GeneratorFunction]",J="[object Map]",Y="[object Number]",Q="[object Null]",X="[object Object]",tt="[object Proxy]",nt="[object RegExp]",rt="[object Set]",et="[object String]",it="[object Symbol]",ut="[object Undefined]",at="[object WeakMap]",ot="[object WeakSet]",ct="[object ArrayBuffer]",st="[object DataView]",lt="[object Float32Array]",ft="[object Float64Array]",ht="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",vt="[object Uint8Array]",gt="[object Uint8ClampedArray]",mt="[object Uint16Array]",_t="[object Uint32Array]",yt=/\b__p \+= '';/g,bt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,At=/[&<>"']/g,Ct=RegExp(xt.source),St=RegExp(At.source),It=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mt=/^\w*$/,zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Ot=RegExp(jt.source),$t=/^\s+|\s+$/g,Rt=/^\s+/,Lt=/\s+$/,Vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ft=/,? & /,Dt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bt=/\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Gt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,Yt=/['\n\r\u2028\u2029\\]/g,Qt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="[\\ud800-\\udfff]",nn="["+Xt+"]",rn="["+Qt+"]",en="\\d+",un="[\\u2700-\\u27bf]",an="[a-z\\xdf-\\xf6\\xf8-\\xff]",on="[^\\ud800-\\udfff"+Xt+en+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",cn="\\ud83c[\\udffb-\\udfff]",sn="[^\\ud800-\\udfff]",ln="(?:\\ud83c[\\udde6-\\uddff]){2}",fn="[\\ud800-\\udbff][\\udc00-\\udfff]",hn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pn="(?:"+an+"|"+on+")",dn="(?:"+hn+"|"+on+")",vn="(?:"+rn+"|"+cn+")"+"?",gn="[\\ufe0e\\ufe0f]?"+vn+("(?:\\u200d(?:"+[sn,ln,fn].join("|")+")[\\ufe0e\\ufe0f]?"+vn+")*"),mn="(?:"+[un,ln,fn].join("|")+")"+gn,_n="(?:"+[sn+rn+"?",rn,ln,fn,tn].join("|")+")",yn=RegExp("[']","g"),bn=RegExp(rn,"g"),wn=RegExp(cn+"(?="+cn+")|"+_n+gn,"g"),xn=RegExp([hn+"?"+an+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[nn,hn,"$"].join("|")+")",dn+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[nn,hn+pn,"$"].join("|")+")",hn+"?"+pn+"+(?:['](?:d|ll|m|re|s|t|ve))?",hn+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",en,mn].join("|"),"g"),An=RegExp("[\\u200d\\ud800-\\udfff"+Qt+"\\ufe0e\\ufe0f]"),Cn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],In=-1,kn={};kn[lt]=kn[ft]=kn[ht]=kn[pt]=kn[dt]=kn[vt]=kn[gt]=kn[mt]=kn[_t]=!0,kn[W]=kn[U]=kn[ct]=kn[P]=kn[st]=kn[H]=kn[G]=kn[Z]=kn[J]=kn[Y]=kn[X]=kn[nt]=kn[rt]=kn[et]=kn[at]=!1;var En={};En[W]=En[U]=En[ct]=En[st]=En[P]=En[H]=En[lt]=En[ft]=En[ht]=En[pt]=En[dt]=En[J]=En[Y]=En[X]=En[nt]=En[rt]=En[et]=En[it]=En[vt]=En[gt]=En[mt]=En[_t]=!0,En[G]=En[Z]=En[at]=!1;var Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mn=parseFloat,zn=parseInt,jn="object"==typeof t&&t&&t.Object===Object&&t,On="object"==typeof self&&self&&self.Object===Object&&self,$n=jn||On||Function("return this")(),Rn=n&&!n.nodeType&&n,Ln=Rn&&"object"==typeof e&&e&&!e.nodeType&&e,Vn=Ln&&Ln.exports===Rn,Nn=Vn&&jn.process,Fn=function(){try{var t=Ln&&Ln.require&&Ln.require("util").types;return t||Nn&&Nn.binding&&Nn.binding("util")}catch(t){}}(),Dn=Fn&&Fn.isArrayBuffer,Wn=Fn&&Fn.isDate,Un=Fn&&Fn.isMap,Bn=Fn&&Fn.isRegExp,Pn=Fn&&Fn.isSet,Hn=Fn&&Fn.isTypedArray;function qn(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function Gn(t,n,r,e){for(var i=-1,u=null==t?0:t.length;++i<u;){var a=t[i];n(e,a,r(a),t)}return e}function Zn(t,n){for(var r=-1,e=null==t?0:t.length;++r<e&&!1!==n(t[r],r,t););return t}function Kn(t,n){for(var r=null==t?0:t.length;r--&&!1!==n(t[r],r,t););return t}function Jn(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function Yn(t,n){for(var r=-1,e=null==t?0:t.length,i=0,u=[];++r<e;){var a=t[r];n(a,r,t)&&(u[i++]=a)}return u}function Qn(t,n){return!!(null==t?0:t.length)&&cr(t,n,0)>-1}function Xn(t,n,r){for(var e=-1,i=null==t?0:t.length;++e<i;)if(r(n,t[e]))return!0;return!1}function tr(t,n){for(var r=-1,e=null==t?0:t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}function nr(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}function rr(t,n,r,e){var i=-1,u=null==t?0:t.length;for(e&&u&&(r=t[++i]);++i<u;)r=n(r,t[i],i,t);return r}function er(t,n,r,e){var i=null==t?0:t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function ir(t,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}var ur=hr("length");function ar(t,n,r){var e;return r(t,function(t,r,i){if(n(t,r,i))return e=r,!1}),e}function or(t,n,r,e){for(var i=t.length,u=r+(e?1:-1);e?u--:++u<i;)if(n(t[u],u,t))return u;return-1}function cr(t,n,r){return n==n?function(t,n,r){var e=r-1,i=t.length;for(;++e<i;)if(t[e]===n)return e;return-1}(t,n,r):or(t,lr,r)}function sr(t,n,r,e){for(var i=r-1,u=t.length;++i<u;)if(e(t[i],n))return i;return-1}function lr(t){return t!=t}function fr(t,n){var r=null==t?0:t.length;return r?vr(t,n)/r:L}function hr(t){return function(n){return null==n?u:n[t]}}function pr(t){return function(n){return null==t?u:t[n]}}function dr(t,n,r,e,i){return i(t,function(t,i,u){r=e?(e=!1,t):n(r,t,i,u)}),r}function vr(t,n){for(var r,e=-1,i=t.length;++e<i;){var a=n(t[e]);a!==u&&(r=r===u?a:r+a)}return r}function gr(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}function mr(t){return function(n){return t(n)}}function _r(t,n){return tr(n,function(n){return t[n]})}function yr(t,n){return t.has(n)}function br(t,n){for(var r=-1,e=t.length;++r<e&&cr(n,t[r],0)>-1;);return r}function wr(t,n){for(var r=t.length;r--&&cr(n,t[r],0)>-1;);return r}var xr=pr({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Ar=pr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cr(t){return"\\"+Tn[t]}function Sr(t){return An.test(t)}function Ir(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function kr(t,n){return function(r){return t(n(r))}}function Er(t,n){for(var r=-1,e=t.length,i=0,u=[];++r<e;){var a=t[r];a!==n&&a!==f||(t[r]=f,u[i++]=r)}return u}function Tr(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function Mr(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=[t,t]}),r}function zr(t){return Sr(t)?function(t){var n=wn.lastIndex=0;for(;wn.test(t);)++n;return n}(t):ur(t)}function jr(t){return Sr(t)?function(t){return t.match(wn)||[]}(t):function(t){return t.split("")}(t)}var Or=pr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var $r=function t(n){var r,e=(n=null==n?$n:$r.defaults($n.Object(),n,$r.pick($n,Sn))).Array,i=n.Date,Qt=n.Error,Xt=n.Function,tn=n.Math,nn=n.Object,rn=n.RegExp,en=n.String,un=n.TypeError,an=e.prototype,on=Xt.prototype,cn=nn.prototype,sn=n["__core-js_shared__"],ln=on.toString,fn=cn.hasOwnProperty,hn=0,pn=(r=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",dn=cn.toString,vn=ln.call(nn),gn=$n._,mn=rn("^"+ln.call(fn).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_n=Vn?n.Buffer:u,wn=n.Symbol,An=n.Uint8Array,Tn=_n?_n.allocUnsafe:u,jn=kr(nn.getPrototypeOf,nn),On=nn.create,Rn=cn.propertyIsEnumerable,Ln=an.splice,Nn=wn?wn.isConcatSpreadable:u,Fn=wn?wn.iterator:u,ur=wn?wn.toStringTag:u,pr=function(){try{var t=Nu(nn,"defineProperty");return t({},"",{}),t}catch(t){}}(),Rr=n.clearTimeout!==$n.clearTimeout&&n.clearTimeout,Lr=i&&i.now!==$n.Date.now&&i.now,Vr=n.setTimeout!==$n.setTimeout&&n.setTimeout,Nr=tn.ceil,Fr=tn.floor,Dr=nn.getOwnPropertySymbols,Wr=_n?_n.isBuffer:u,Ur=n.isFinite,Br=an.join,Pr=kr(nn.keys,nn),Hr=tn.max,qr=tn.min,Gr=i.now,Zr=n.parseInt,Kr=tn.random,Jr=an.reverse,Yr=Nu(n,"DataView"),Qr=Nu(n,"Map"),Xr=Nu(n,"Promise"),te=Nu(n,"Set"),ne=Nu(n,"WeakMap"),re=Nu(nn,"create"),ee=ne&&new ne,ie={},ue=la(Yr),ae=la(Qr),oe=la(Xr),ce=la(te),se=la(ne),le=wn?wn.prototype:u,fe=le?le.valueOf:u,he=le?le.toString:u;function pe(t){if(Eo(t)&&!mo(t)&&!(t instanceof me)){if(t instanceof ge)return t;if(fn.call(t,"__wrapped__"))return fa(t)}return new ge(t)}var de=function(){function t(){}return function(n){if(!ko(n))return{};if(On)return On(n);t.prototype=n;var r=new t;return t.prototype=u,r}}();function ve(){}function ge(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=u}function me(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function _e(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function ye(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function be(t){var n=-1,r=null==t?0:t.length;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function we(t){var n=-1,r=null==t?0:t.length;for(this.__data__=new be;++n<r;)this.add(t[n])}function xe(t){var n=this.__data__=new ye(t);this.size=n.size}function Ae(t,n){var r=mo(t),e=!r&&go(t),i=!r&&!e&&wo(t),u=!r&&!e&&!i&&Lo(t),a=r||e||i||u,o=a?gr(t.length,en):[],c=o.length;for(var s in t)!n&&!fn.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||u&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Hu(s,c))||o.push(s);return o}function Ce(t){var n=t.length;return n?t[wi(0,n-1)]:u}function Se(t,n){return oa(ru(t),$e(n,0,t.length))}function Ie(t){return oa(ru(t))}function ke(t,n,r){(r===u||ho(t[n],r))&&(r!==u||n in t)||je(t,n,r)}function Ee(t,n,r){var e=t[n];fn.call(t,n)&&ho(e,r)&&(r!==u||n in t)||je(t,n,r)}function Te(t,n){for(var r=t.length;r--;)if(ho(t[r][0],n))return r;return-1}function Me(t,n,r,e){return Fe(t,function(t,i,u){n(e,t,r(t),u)}),e}function ze(t,n){return t&&eu(n,ic(n),t)}function je(t,n,r){"__proto__"==n&&pr?pr(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}function Oe(t,n){for(var r=-1,i=n.length,a=e(i),o=null==t;++r<i;)a[r]=o?u:Xo(t,n[r]);return a}function $e(t,n,r){return t==t&&(r!==u&&(t=t<=r?t:r),n!==u&&(t=t>=n?t:n)),t}function Re(t,n,r,e,i,a){var o,c=n&h,s=n&p,l=n&d;if(r&&(o=i?r(t,e,i,a):r(t)),o!==u)return o;if(!ko(t))return t;var f=mo(t);if(f){if(o=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&fn.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return ru(t,o)}else{var v=Wu(t),g=v==Z||v==K;if(wo(t))return Ji(t,c);if(v==X||v==W||g&&!i){if(o=s||g?{}:Bu(t),!c)return s?function(t,n){return eu(t,Du(t),n)}(t,function(t,n){return t&&eu(n,uc(n),t)}(o,t)):function(t,n){return eu(t,Fu(t),n)}(t,ze(o,t))}else{if(!En[v])return i?t:{};o=function(t,n,r){var e,i=t.constructor;switch(n){case ct:return Yi(t);case P:case H:return new i(+t);case st:return function(t,n){var r=n?Yi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case lt:case ft:case ht:case pt:case dt:case vt:case gt:case mt:case _t:return Qi(t,r);case J:return new i;case Y:case et:return new i(t);case nt:return function(t){var n=new t.constructor(t.source,Bt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case rt:return new i;case it:return e=t,fe?nn(fe.call(e)):{}}}(t,v,c)}}a||(a=new xe);var m=a.get(t);if(m)return m;if(a.set(t,o),Oo(t))return t.forEach(function(e){o.add(Re(e,n,r,e,t,a))}),o;if(To(t))return t.forEach(function(e,i){o.set(i,Re(e,n,r,i,t,a))}),o;var _=f?u:(l?s?zu:Mu:s?uc:ic)(t);return Zn(_||t,function(e,i){_&&(e=t[i=e]),Ee(o,i,Re(e,n,r,i,t,a))}),o}function Le(t,n,r){var e=r.length;if(null==t)return!e;for(t=nn(t);e--;){var i=r[e],a=n[i],o=t[i];if(o===u&&!(i in t)||!a(o))return!1}return!0}function Ve(t,n,r){if("function"!=typeof t)throw new un(c);return ea(function(){t.apply(u,r)},n)}function Ne(t,n,r,e){var i=-1,u=Qn,o=!0,c=t.length,s=[],l=n.length;if(!c)return s;r&&(n=tr(n,mr(r))),e?(u=Xn,o=!1):n.length>=a&&(u=yr,o=!1,n=new we(n));t:for(;++i<c;){var f=t[i],h=null==r?f:r(f);if(f=e||0!==f?f:0,o&&h==h){for(var p=l;p--;)if(n[p]===h)continue t;s.push(f)}else u(n,h,e)||s.push(f)}return s}pe.templateSettings={escape:It,evaluate:kt,interpolate:Et,variable:"",imports:{_:pe}},pe.prototype=ve.prototype,pe.prototype.constructor=pe,ge.prototype=de(ve.prototype),ge.prototype.constructor=ge,me.prototype=de(ve.prototype),me.prototype.constructor=me,_e.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},_e.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},_e.prototype.get=function(t){var n=this.__data__;if(re){var r=n[t];return r===s?u:r}return fn.call(n,t)?n[t]:u},_e.prototype.has=function(t){var n=this.__data__;return re?n[t]!==u:fn.call(n,t)},_e.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=re&&n===u?s:n,this},ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(t){var n=this.__data__,r=Te(n,t);return!(r<0||(r==n.length-1?n.pop():Ln.call(n,r,1),--this.size,0))},ye.prototype.get=function(t){var n=this.__data__,r=Te(n,t);return r<0?u:n[r][1]},ye.prototype.has=function(t){return Te(this.__data__,t)>-1},ye.prototype.set=function(t,n){var r=this.__data__,e=Te(r,t);return e<0?(++this.size,r.push([t,n])):r[e][1]=n,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(Qr||ye),string:new _e}},be.prototype.delete=function(t){var n=Lu(this,t).delete(t);return this.size-=n?1:0,n},be.prototype.get=function(t){return Lu(this,t).get(t)},be.prototype.has=function(t){return Lu(this,t).has(t)},be.prototype.set=function(t,n){var r=Lu(this,t),e=r.size;return r.set(t,n),this.size+=r.size==e?0:1,this},we.prototype.add=we.prototype.push=function(t){return this.__data__.set(t,s),this},we.prototype.has=function(t){return this.__data__.has(t)},xe.prototype.clear=function(){this.__data__=new ye,this.size=0},xe.prototype.delete=function(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r},xe.prototype.get=function(t){return this.__data__.get(t)},xe.prototype.has=function(t){return this.__data__.has(t)},xe.prototype.set=function(t,n){var r=this.__data__;if(r instanceof ye){var e=r.__data__;if(!Qr||e.length<a-1)return e.push([t,n]),this.size=++r.size,this;r=this.__data__=new be(e)}return r.set(t,n),this.size=r.size,this};var Fe=au(Ge),De=au(Ze,!0);function We(t,n){var r=!0;return Fe(t,function(t,e,i){return r=!!n(t,e,i)}),r}function Ue(t,n,r){for(var e=-1,i=t.length;++e<i;){var a=t[e],o=n(a);if(null!=o&&(c===u?o==o&&!Ro(o):r(o,c)))var c=o,s=a}return s}function Be(t,n){var r=[];return Fe(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function Pe(t,n,r,e,i){var u=-1,a=t.length;for(r||(r=Pu),i||(i=[]);++u<a;){var o=t[u];n>0&&r(o)?n>1?Pe(o,n-1,r,e,i):nr(i,o):e||(i[i.length]=o)}return i}var He=ou(),qe=ou(!0);function Ge(t,n){return t&&He(t,n,ic)}function Ze(t,n){return t&&qe(t,n,ic)}function Ke(t,n){return Yn(n,function(n){return Co(t[n])})}function Je(t,n){for(var r=0,e=(n=qi(n,t)).length;null!=t&&r<e;)t=t[sa(n[r++])];return r&&r==e?t:u}function Ye(t,n,r){var e=n(t);return mo(t)?e:nr(e,r(t))}function Qe(t){return null==t?t===u?ut:Q:ur&&ur in nn(t)?function(t){var n=fn.call(t,ur),r=t[ur];try{t[ur]=u;var e=!0}catch(t){}var i=dn.call(t);return e&&(n?t[ur]=r:delete t[ur]),i}(t):function(t){return dn.call(t)}(t)}function Xe(t,n){return t>n}function ti(t,n){return null!=t&&fn.call(t,n)}function ni(t,n){return null!=t&&n in nn(t)}function ri(t,n,r){for(var i=r?Xn:Qn,a=t[0].length,o=t.length,c=o,s=e(o),l=1/0,f=[];c--;){var h=t[c];c&&n&&(h=tr(h,mr(n))),l=qr(h.length,l),s[c]=!r&&(n||a>=120&&h.length>=120)?new we(c&&h):u}h=t[0];var p=-1,d=s[0];t:for(;++p<a&&f.length<l;){var v=h[p],g=n?n(v):v;if(v=r||0!==v?v:0,!(d?yr(d,g):i(f,g,r))){for(c=o;--c;){var m=s[c];if(!(m?yr(m,g):i(t[c],g,r)))continue t}d&&d.push(g),f.push(v)}}return f}function ei(t,n,r){var e=null==(t=ta(t,n=qi(n,t)))?t:t[sa(xa(n))];return null==e?u:qn(e,t,r)}function ii(t){return Eo(t)&&Qe(t)==W}function ui(t,n,r,e,i){return t===n||(null==t||null==n||!Eo(t)&&!Eo(n)?t!=t&&n!=n:function(t,n,r,e,i,a){var o=mo(t),c=mo(n),s=o?U:Wu(t),l=c?U:Wu(n),f=(s=s==W?X:s)==X,h=(l=l==W?X:l)==X,p=s==l;if(p&&wo(t)){if(!wo(n))return!1;o=!0,f=!1}if(p&&!f)return a||(a=new xe),o||Lo(t)?Eu(t,n,r,e,i,a):function(t,n,r,e,i,u,a){switch(r){case st:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ct:return!(t.byteLength!=n.byteLength||!u(new An(t),new An(n)));case P:case H:case Y:return ho(+t,+n);case G:return t.name==n.name&&t.message==n.message;case nt:case et:return t==n+"";case J:var o=Ir;case rt:var c=e&v;if(o||(o=Tr),t.size!=n.size&&!c)return!1;var s=a.get(t);if(s)return s==n;e|=g,a.set(t,n);var l=Eu(o(t),o(n),e,i,u,a);return a.delete(t),l;case it:if(fe)return fe.call(t)==fe.call(n)}return!1}(t,n,s,r,e,i,a);if(!(r&v)){var d=f&&fn.call(t,"__wrapped__"),m=h&&fn.call(n,"__wrapped__");if(d||m){var _=d?t.value():t,y=m?n.value():n;return a||(a=new xe),i(_,y,r,e,a)}}return!!p&&(a||(a=new xe),function(t,n,r,e,i,a){var o=r&v,c=Mu(t),s=c.length,l=Mu(n).length;if(s!=l&&!o)return!1;for(var f=s;f--;){var h=c[f];if(!(o?h in n:fn.call(n,h)))return!1}var p=a.get(t);if(p&&a.get(n))return p==n;var d=!0;a.set(t,n),a.set(n,t);for(var g=o;++f<s;){h=c[f];var m=t[h],_=n[h];if(e)var y=o?e(_,m,h,n,t,a):e(m,_,h,t,n,a);if(!(y===u?m===_||i(m,_,r,e,a):y)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var b=t.constructor,w=n.constructor;b!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(d=!1)}return a.delete(t),a.delete(n),d}(t,n,r,e,i,a))}(t,n,r,e,ui,i))}function ai(t,n,r,e){var i=r.length,a=i,o=!e;if(null==t)return!a;for(t=nn(t);i--;){var c=r[i];if(o&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var s=(c=r[i])[0],l=t[s],f=c[1];if(o&&c[2]){if(l===u&&!(s in t))return!1}else{var h=new xe;if(e)var p=e(l,f,s,t,n,h);if(!(p===u?ui(f,l,v|g,e,h):p))return!1}}return!0}function oi(t){return!(!ko(t)||(n=t,pn&&pn in n))&&(Co(t)?mn:qt).test(la(t));var n}function ci(t){return"function"==typeof t?t:null==t?Mc:"object"==typeof t?mo(t)?di(t[0],t[1]):pi(t):Fc(t)}function si(t){if(!Ju(t))return Pr(t);var n=[];for(var r in nn(t))fn.call(t,r)&&"constructor"!=r&&n.push(r);return n}function li(t){if(!ko(t))return function(t){var n=[];if(null!=t)for(var r in nn(t))n.push(r);return n}(t);var n=Ju(t),r=[];for(var e in t)("constructor"!=e||!n&&fn.call(t,e))&&r.push(e);return r}function fi(t,n){return t<n}function hi(t,n){var r=-1,i=yo(t)?e(t.length):[];return Fe(t,function(t,e,u){i[++r]=n(t,e,u)}),i}function pi(t){var n=Vu(t);return 1==n.length&&n[0][2]?Qu(n[0][0],n[0][1]):function(r){return r===t||ai(r,t,n)}}function di(t,n){return Gu(t)&&Yu(n)?Qu(sa(t),n):function(r){var e=Xo(r,t);return e===u&&e===n?tc(r,t):ui(n,e,v|g)}}function vi(t,n,r,e,i){t!==n&&He(n,function(a,o){if(ko(a))i||(i=new xe),function(t,n,r,e,i,a,o){var c=na(t,r),s=na(n,r),l=o.get(s);if(l)ke(t,r,l);else{var f=a?a(c,s,r+"",t,n,o):u,h=f===u;if(h){var p=mo(s),d=!p&&wo(s),v=!p&&!d&&Lo(s);f=s,p||d||v?mo(c)?f=c:bo(c)?f=ru(c):d?(h=!1,f=Ji(s,!0)):v?(h=!1,f=Qi(s,!0)):f=[]:zo(s)||go(s)?(f=c,go(c)?f=Po(c):ko(c)&&!Co(c)||(f=Bu(s))):h=!1}h&&(o.set(s,f),i(f,s,e,a,o),o.delete(s)),ke(t,r,f)}}(t,n,o,r,vi,e,i);else{var c=e?e(na(t,o),a,o+"",t,n,i):u;c===u&&(c=a),ke(t,o,c)}},uc)}function gi(t,n){var r=t.length;if(r)return Hu(n+=n<0?r:0,r)?t[n]:u}function mi(t,n,r){var e=-1;return n=tr(n.length?n:[Mc],mr(Ru())),function(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}(hi(t,function(t,r,i){return{criteria:tr(n,function(n){return n(t)}),index:++e,value:t}}),function(t,n){return function(t,n,r){for(var e=-1,i=t.criteria,u=n.criteria,a=i.length,o=r.length;++e<a;){var c=Xi(i[e],u[e]);if(c){if(e>=o)return c;var s=r[e];return c*("desc"==s?-1:1)}}return t.index-n.index}(t,n,r)})}function _i(t,n,r){for(var e=-1,i=n.length,u={};++e<i;){var a=n[e],o=Je(t,a);r(o,a)&&Ii(u,qi(a,t),o)}return u}function yi(t,n,r,e){var i=e?sr:cr,u=-1,a=n.length,o=t;for(t===n&&(n=ru(n)),r&&(o=tr(t,mr(r)));++u<a;)for(var c=0,s=n[u],l=r?r(s):s;(c=i(o,l,c,e))>-1;)o!==t&&Ln.call(o,c,1),Ln.call(t,c,1);return t}function bi(t,n){for(var r=t?n.length:0,e=r-1;r--;){var i=n[r];if(r==e||i!==u){var u=i;Hu(i)?Ln.call(t,i,1):Ni(t,i)}}return t}function wi(t,n){return t+Fr(Kr()*(n-t+1))}function xi(t,n){var r="";if(!t||n<1||n>$)return r;do{n%2&&(r+=t),(n=Fr(n/2))&&(t+=t)}while(n);return r}function Ai(t,n){return ia(Xu(t,n,Mc),t+"")}function Ci(t){return Ce(pc(t))}function Si(t,n){var r=pc(t);return oa(r,$e(n,0,r.length))}function Ii(t,n,r,e){if(!ko(t))return t;for(var i=-1,a=(n=qi(n,t)).length,o=a-1,c=t;null!=c&&++i<a;){var s=sa(n[i]),l=r;if(i!=o){var f=c[s];(l=e?e(f,s,c):u)===u&&(l=ko(f)?f:Hu(n[i+1])?[]:{})}Ee(c,s,l),c=c[s]}return t}var ki=ee?function(t,n){return ee.set(t,n),t}:Mc,Ei=pr?function(t,n){return pr(t,"toString",{configurable:!0,enumerable:!1,value:kc(n),writable:!0})}:Mc;function Ti(t){return oa(pc(t))}function Mi(t,n,r){var i=-1,u=t.length;n<0&&(n=-n>u?0:u+n),(r=r>u?u:r)<0&&(r+=u),u=n>r?0:r-n>>>0,n>>>=0;for(var a=e(u);++i<u;)a[i]=t[i+n];return a}function zi(t,n){var r;return Fe(t,function(t,e,i){return!(r=n(t,e,i))}),!!r}function ji(t,n,r){var e=0,i=null==t?e:t.length;if("number"==typeof n&&n==n&&i<=F){for(;e<i;){var u=e+i>>>1,a=t[u];null!==a&&!Ro(a)&&(r?a<=n:a<n)?e=u+1:i=u}return i}return Oi(t,n,Mc,r)}function Oi(t,n,r,e){n=r(n);for(var i=0,a=null==t?0:t.length,o=n!=n,c=null===n,s=Ro(n),l=n===u;i<a;){var f=Fr((i+a)/2),h=r(t[f]),p=h!==u,d=null===h,v=h==h,g=Ro(h);if(o)var m=e||v;else m=l?v&&(e||p):c?v&&p&&(e||!d):s?v&&p&&!d&&(e||!g):!d&&!g&&(e?h<=n:h<n);m?i=f+1:a=f}return qr(a,N)}function $i(t,n){for(var r=-1,e=t.length,i=0,u=[];++r<e;){var a=t[r],o=n?n(a):a;if(!r||!ho(o,c)){var c=o;u[i++]=0===a?0:a}}return u}function Ri(t){return"number"==typeof t?t:Ro(t)?L:+t}function Li(t){if("string"==typeof t)return t;if(mo(t))return tr(t,Li)+"";if(Ro(t))return he?he.call(t):"";var n=t+"";return"0"==n&&1/t==-O?"-0":n}function Vi(t,n,r){var e=-1,i=Qn,u=t.length,o=!0,c=[],s=c;if(r)o=!1,i=Xn;else if(u>=a){var l=n?null:xu(t);if(l)return Tr(l);o=!1,i=yr,s=new we}else s=n?[]:c;t:for(;++e<u;){var f=t[e],h=n?n(f):f;if(f=r||0!==f?f:0,o&&h==h){for(var p=s.length;p--;)if(s[p]===h)continue t;n&&s.push(h),c.push(f)}else i(s,h,r)||(s!==c&&s.push(h),c.push(f))}return c}function Ni(t,n){return null==(t=ta(t,n=qi(n,t)))||delete t[sa(xa(n))]}function Fi(t,n,r,e){return Ii(t,n,r(Je(t,n)),e)}function Di(t,n,r,e){for(var i=t.length,u=e?i:-1;(e?u--:++u<i)&&n(t[u],u,t););return r?Mi(t,e?0:u,e?u+1:i):Mi(t,e?u+1:0,e?i:u)}function Wi(t,n){var r=t;return r instanceof me&&(r=r.value()),rr(n,function(t,n){return n.func.apply(n.thisArg,nr([t],n.args))},r)}function Ui(t,n,r){var i=t.length;if(i<2)return i?Vi(t[0]):[];for(var u=-1,a=e(i);++u<i;)for(var o=t[u],c=-1;++c<i;)c!=u&&(a[u]=Ne(a[u]||o,t[c],n,r));return Vi(Pe(a,1),n,r)}function Bi(t,n,r){for(var e=-1,i=t.length,a=n.length,o={};++e<i;){var c=e<a?n[e]:u;r(o,t[e],c)}return o}function Pi(t){return bo(t)?t:[]}function Hi(t){return"function"==typeof t?t:Mc}function qi(t,n){return mo(t)?t:Gu(t,n)?[t]:ca(Ho(t))}var Gi=Ai;function Zi(t,n,r){var e=t.length;return r=r===u?e:r,!n&&r>=e?t:Mi(t,n,r)}var Ki=Rr||function(t){return $n.clearTimeout(t)};function Ji(t,n){if(n)return t.slice();var r=t.length,e=Tn?Tn(r):new t.constructor(r);return t.copy(e),e}function Yi(t){var n=new t.constructor(t.byteLength);return new An(n).set(new An(t)),n}function Qi(t,n){var r=n?Yi(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Xi(t,n){if(t!==n){var r=t!==u,e=null===t,i=t==t,a=Ro(t),o=n!==u,c=null===n,s=n==n,l=Ro(n);if(!c&&!l&&!a&&t>n||a&&o&&s&&!c&&!l||e&&o&&s||!r&&s||!i)return 1;if(!e&&!a&&!l&&t<n||l&&r&&i&&!e&&!a||c&&r&&i||!o&&i||!s)return-1}return 0}function tu(t,n,r,i){for(var u=-1,a=t.length,o=r.length,c=-1,s=n.length,l=Hr(a-o,0),f=e(s+l),h=!i;++c<s;)f[c]=n[c];for(;++u<o;)(h||u<a)&&(f[r[u]]=t[u]);for(;l--;)f[c++]=t[u++];return f}function nu(t,n,r,i){for(var u=-1,a=t.length,o=-1,c=r.length,s=-1,l=n.length,f=Hr(a-c,0),h=e(f+l),p=!i;++u<f;)h[u]=t[u];for(var d=u;++s<l;)h[d+s]=n[s];for(;++o<c;)(p||u<a)&&(h[d+r[o]]=t[u++]);return h}function ru(t,n){var r=-1,i=t.length;for(n||(n=e(i));++r<i;)n[r]=t[r];return n}function eu(t,n,r,e){var i=!r;r||(r={});for(var a=-1,o=n.length;++a<o;){var c=n[a],s=e?e(r[c],t[c],c,r,t):u;s===u&&(s=t[c]),i?je(r,c,s):Ee(r,c,s)}return r}function iu(t,n){return function(r,e){var i=mo(r)?Gn:Me,u=n?n():{};return i(r,t,Ru(e,2),u)}}function uu(t){return Ai(function(n,r){var e=-1,i=r.length,a=i>1?r[i-1]:u,o=i>2?r[2]:u;for(a=t.length>3&&"function"==typeof a?(i--,a):u,o&&qu(r[0],r[1],o)&&(a=i<3?u:a,i=1),n=nn(n);++e<i;){var c=r[e];c&&t(n,c,e,a)}return n})}function au(t,n){return function(r,e){if(null==r)return r;if(!yo(r))return t(r,e);for(var i=r.length,u=n?i:-1,a=nn(r);(n?u--:++u<i)&&!1!==e(a[u],u,a););return r}}function ou(t){return function(n,r,e){for(var i=-1,u=nn(n),a=e(n),o=a.length;o--;){var c=a[t?o:++i];if(!1===r(u[c],c,u))break}return n}}function cu(t){return function(n){var r=Sr(n=Ho(n))?jr(n):u,e=r?r[0]:n.charAt(0),i=r?Zi(r,1).join(""):n.slice(1);return e[t]()+i}}function su(t){return function(n){return rr(Cc(gc(n).replace(yn,"")),t,"")}}function lu(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=de(t.prototype),e=t.apply(r,n);return ko(e)?e:r}}function fu(t){return function(n,r,e){var i=nn(n);if(!yo(n)){var a=Ru(r,3);n=ic(n),r=function(t){return a(i[t],t,i)}}var o=t(n,r,e);return o>-1?i[a?n[o]:o]:u}}function hu(t){return Tu(function(n){var r=n.length,e=r,i=ge.prototype.thru;for(t&&n.reverse();e--;){var a=n[e];if("function"!=typeof a)throw new un(c);if(i&&!o&&"wrapper"==Ou(a))var o=new ge([],!0)}for(e=o?e:r;++e<r;){var s=Ou(a=n[e]),l="wrapper"==s?ju(a):u;o=l&&Zu(l[0])&&l[1]==(C|b|x|S)&&!l[4].length&&1==l[9]?o[Ou(l[0])].apply(o,l[3]):1==a.length&&Zu(a)?o[s]():o.thru(a)}return function(){var t=arguments,e=t[0];if(o&&1==t.length&&mo(e))return o.plant(e).value();for(var i=0,u=r?n[i].apply(this,t):e;++i<r;)u=n[i].call(this,u);return u}})}function pu(t,n,r,i,a,o,c,s,l,f){var h=n&C,p=n&m,d=n&_,v=n&(b|w),g=n&I,y=d?u:lu(t);return function m(){for(var _=arguments.length,b=e(_),w=_;w--;)b[w]=arguments[w];if(v)var x=$u(m),A=function(t,n){for(var r=t.length,e=0;r--;)t[r]===n&&++e;return e}(b,x);if(i&&(b=tu(b,i,a,v)),o&&(b=nu(b,o,c,v)),_-=A,v&&_<f){var C=Er(b,x);return bu(t,n,pu,m.placeholder,r,b,C,s,l,f-_)}var S=p?r:this,I=d?S[t]:t;return _=b.length,s?b=function(t,n){for(var r=t.length,e=qr(n.length,r),i=ru(t);e--;){var a=n[e];t[e]=Hu(a,r)?i[a]:u}return t}(b,s):g&&_>1&&b.reverse(),h&&l<_&&(b.length=l),this&&this!==$n&&this instanceof m&&(I=y||lu(I)),I.apply(S,b)}}function du(t,n){return function(r,e){return function(t,n,r,e){return Ge(t,function(t,i,u){n(e,r(t),i,u)}),e}(r,t,n(e),{})}}function vu(t,n){return function(r,e){var i;if(r===u&&e===u)return n;if(r!==u&&(i=r),e!==u){if(i===u)return e;"string"==typeof r||"string"==typeof e?(r=Li(r),e=Li(e)):(r=Ri(r),e=Ri(e)),i=t(r,e)}return i}}function gu(t){return Tu(function(n){return n=tr(n,mr(Ru())),Ai(function(r){var e=this;return t(n,function(t){return qn(t,e,r)})})})}function mu(t,n){var r=(n=n===u?" ":Li(n)).length;if(r<2)return r?xi(n,t):n;var e=xi(n,Nr(t/zr(n)));return Sr(n)?Zi(jr(e),0,t).join(""):e.slice(0,t)}function _u(t){return function(n,r,i){return i&&"number"!=typeof i&&qu(n,r,i)&&(r=i=u),n=Do(n),r===u?(r=n,n=0):r=Do(r),function(t,n,r,i){for(var u=-1,a=Hr(Nr((n-t)/(r||1)),0),o=e(a);a--;)o[i?a:++u]=t,t+=r;return o}(n,r,i=i===u?n<r?1:-1:Do(i),t)}}function yu(t){return function(n,r){return"string"==typeof n&&"string"==typeof r||(n=Bo(n),r=Bo(r)),t(n,r)}}function bu(t,n,r,e,i,a,o,c,s,l){var f=n&b;n|=f?x:A,(n&=~(f?A:x))&y||(n&=~(m|_));var h=[t,n,i,f?a:u,f?o:u,f?u:a,f?u:o,c,s,l],p=r.apply(u,h);return Zu(t)&&ra(p,h),p.placeholder=e,ua(p,t,n)}function wu(t){var n=tn[t];return function(t,r){if(t=Bo(t),r=null==r?0:qr(Wo(r),292)){var e=(Ho(t)+"e").split("e");return+((e=(Ho(n(e[0]+"e"+(+e[1]+r)))+"e").split("e"))[0]+"e"+(+e[1]-r))}return n(t)}}var xu=te&&1/Tr(new te([,-0]))[1]==O?function(t){return new te(t)}:Rc;function Au(t){return function(n){var r=Wu(n);return r==J?Ir(n):r==rt?Mr(n):function(t,n){return tr(n,function(n){return[n,t[n]]})}(n,t(n))}}function Cu(t,n,r,i,a,o,s,l){var h=n&_;if(!h&&"function"!=typeof t)throw new un(c);var p=i?i.length:0;if(p||(n&=~(x|A),i=a=u),s=s===u?s:Hr(Wo(s),0),l=l===u?l:Wo(l),p-=a?a.length:0,n&A){var d=i,v=a;i=a=u}var g=h?u:ju(t),I=[t,n,r,i,a,d,v,o,s,l];if(g&&function(t,n){var r=t[1],e=n[1],i=r|e,u=i<(m|_|C),a=e==C&&r==b||e==C&&r==S&&t[7].length<=n[8]||e==(C|S)&&n[7].length<=n[8]&&r==b;if(!u&&!a)return t;e&m&&(t[2]=n[2],i|=r&m?0:y);var o=n[3];if(o){var c=t[3];t[3]=c?tu(c,o,n[4]):o,t[4]=c?Er(t[3],f):n[4]}(o=n[5])&&(c=t[5],t[5]=c?nu(c,o,n[6]):o,t[6]=c?Er(t[5],f):n[6]),(o=n[7])&&(t[7]=o),e&C&&(t[8]=null==t[8]?n[8]:qr(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}(I,g),t=I[0],n=I[1],r=I[2],i=I[3],a=I[4],!(l=I[9]=I[9]===u?h?0:t.length:Hr(I[9]-p,0))&&n&(b|w)&&(n&=~(b|w)),n&&n!=m)k=n==b||n==w?function(t,n,r){var i=lu(t);return function a(){for(var o=arguments.length,c=e(o),s=o,l=$u(a);s--;)c[s]=arguments[s];var f=o<3&&c[0]!==l&&c[o-1]!==l?[]:Er(c,l);return(o-=f.length)<r?bu(t,n,pu,a.placeholder,u,c,f,u,u,r-o):qn(this&&this!==$n&&this instanceof a?i:t,this,c)}}(t,n,l):n!=x&&n!=(m|x)||a.length?pu.apply(u,I):function(t,n,r,i){var u=n&m,a=lu(t);return function n(){for(var o=-1,c=arguments.length,s=-1,l=i.length,f=e(l+c),h=this&&this!==$n&&this instanceof n?a:t;++s<l;)f[s]=i[s];for(;c--;)f[s++]=arguments[++o];return qn(h,u?r:this,f)}}(t,n,r,i);else var k=function(t,n,r){var e=n&m,i=lu(t);return function n(){return(this&&this!==$n&&this instanceof n?i:t).apply(e?r:this,arguments)}}(t,n,r);return ua((g?ki:ra)(k,I),t,n)}function Su(t,n,r,e){return t===u||ho(t,cn[r])&&!fn.call(e,r)?n:t}function Iu(t,n,r,e,i,a){return ko(t)&&ko(n)&&(a.set(n,t),vi(t,n,u,Iu,a),a.delete(n)),t}function ku(t){return zo(t)?u:t}function Eu(t,n,r,e,i,a){var o=r&v,c=t.length,s=n.length;if(c!=s&&!(o&&s>c))return!1;var l=a.get(t);if(l&&a.get(n))return l==n;var f=-1,h=!0,p=r&g?new we:u;for(a.set(t,n),a.set(n,t);++f<c;){var d=t[f],m=n[f];if(e)var _=o?e(m,d,f,n,t,a):e(d,m,f,t,n,a);if(_!==u){if(_)continue;h=!1;break}if(p){if(!ir(n,function(t,n){if(!yr(p,n)&&(d===t||i(d,t,r,e,a)))return p.push(n)})){h=!1;break}}else if(d!==m&&!i(d,m,r,e,a)){h=!1;break}}return a.delete(t),a.delete(n),h}function Tu(t){return ia(Xu(t,u,ma),t+"")}function Mu(t){return Ye(t,ic,Fu)}function zu(t){return Ye(t,uc,Du)}var ju=ee?function(t){return ee.get(t)}:Rc;function Ou(t){for(var n=t.name+"",r=ie[n],e=fn.call(ie,n)?r.length:0;e--;){var i=r[e],u=i.func;if(null==u||u==t)return i.name}return n}function $u(t){return(fn.call(pe,"placeholder")?pe:t).placeholder}function Ru(){var t=pe.iteratee||zc;return t=t===zc?ci:t,arguments.length?t(arguments[0],arguments[1]):t}function Lu(t,n){var r,e,i=t.__data__;return("string"==(e=typeof(r=n))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==r:null===r)?i["string"==typeof n?"string":"hash"]:i.map}function Vu(t){for(var n=ic(t),r=n.length;r--;){var e=n[r],i=t[e];n[r]=[e,i,Yu(i)]}return n}function Nu(t,n){var r=function(t,n){return null==t?u:t[n]}(t,n);return oi(r)?r:u}var Fu=Dr?function(t){return null==t?[]:(t=nn(t),Yn(Dr(t),function(n){return Rn.call(t,n)}))}:Uc,Du=Dr?function(t){for(var n=[];t;)nr(n,Fu(t)),t=jn(t);return n}:Uc,Wu=Qe;function Uu(t,n,r){for(var e=-1,i=(n=qi(n,t)).length,u=!1;++e<i;){var a=sa(n[e]);if(!(u=null!=t&&r(t,a)))break;t=t[a]}return u||++e!=i?u:!!(i=null==t?0:t.length)&&Io(i)&&Hu(a,i)&&(mo(t)||go(t))}function Bu(t){return"function"!=typeof t.constructor||Ju(t)?{}:de(jn(t))}function Pu(t){return mo(t)||go(t)||!!(Nn&&t&&t[Nn])}function Hu(t,n){var r=typeof t;return!!(n=null==n?$:n)&&("number"==r||"symbol"!=r&&Zt.test(t))&&t>-1&&t%1==0&&t<n}function qu(t,n,r){if(!ko(r))return!1;var e=typeof n;return!!("number"==e?yo(r)&&Hu(n,r.length):"string"==e&&n in r)&&ho(r[n],t)}function Gu(t,n){if(mo(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Ro(t))||Mt.test(t)||!Tt.test(t)||null!=n&&t in nn(n)}function Zu(t){var n=Ou(t),r=pe[n];if("function"!=typeof r||!(n in me.prototype))return!1;if(t===r)return!0;var e=ju(r);return!!e&&t===e[0]}(Yr&&Wu(new Yr(new ArrayBuffer(1)))!=st||Qr&&Wu(new Qr)!=J||Xr&&"[object Promise]"!=Wu(Xr.resolve())||te&&Wu(new te)!=rt||ne&&Wu(new ne)!=at)&&(Wu=function(t){var n=Qe(t),r=n==X?t.constructor:u,e=r?la(r):"";if(e)switch(e){case ue:return st;case ae:return J;case oe:return"[object Promise]";case ce:return rt;case se:return at}return n});var Ku=sn?Co:Bc;function Ju(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||cn)}function Yu(t){return t==t&&!ko(t)}function Qu(t,n){return function(r){return null!=r&&r[t]===n&&(n!==u||t in nn(r))}}function Xu(t,n,r){return n=Hr(n===u?t.length-1:n,0),function(){for(var i=arguments,u=-1,a=Hr(i.length-n,0),o=e(a);++u<a;)o[u]=i[n+u];u=-1;for(var c=e(n+1);++u<n;)c[u]=i[u];return c[n]=r(o),qn(t,this,c)}}function ta(t,n){return n.length<2?t:Je(t,Mi(n,0,-1))}function na(t,n){if("__proto__"!=n)return t[n]}var ra=aa(ki),ea=Vr||function(t,n){return $n.setTimeout(t,n)},ia=aa(Ei);function ua(t,n,r){var e=n+"";return ia(t,function(t,n){var r=n.length;if(!r)return t;var e=r-1;return n[e]=(r>1?"& ":"")+n[e],n=n.join(r>2?", ":" "),t.replace(Vt,"{\n/* [wrapped with "+n+"] */\n")}(e,function(t,n){return Zn(D,function(r){var e="_."+r[0];n&r[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}(function(t){var n=t.match(Nt);return n?n[1].split(Ft):[]}(e),r)))}function aa(t){var n=0,r=0;return function(){var e=Gr(),i=M-(e-r);if(r=e,i>0){if(++n>=T)return arguments[0]}else n=0;return t.apply(u,arguments)}}function oa(t,n){var r=-1,e=t.length,i=e-1;for(n=n===u?e:n;++r<n;){var a=wi(r,i),o=t[a];t[a]=t[r],t[r]=o}return t.length=n,t}var ca=function(t){var n=ao(t,function(t){return r.size===l&&r.clear(),t}),r=n.cache;return n}(function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(zt,function(t,r,e,i){n.push(e?i.replace(Wt,"$1"):r||t)}),n});function sa(t){if("string"==typeof t||Ro(t))return t;var n=t+"";return"0"==n&&1/t==-O?"-0":n}function la(t){if(null!=t){try{return ln.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fa(t){if(t instanceof me)return t.clone();var n=new ge(t.__wrapped__,t.__chain__);return n.__actions__=ru(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var ha=Ai(function(t,n){return bo(t)?Ne(t,Pe(n,1,bo,!0)):[]}),pa=Ai(function(t,n){var r=xa(n);return bo(r)&&(r=u),bo(t)?Ne(t,Pe(n,1,bo,!0),Ru(r,2)):[]}),da=Ai(function(t,n){var r=xa(n);return bo(r)&&(r=u),bo(t)?Ne(t,Pe(n,1,bo,!0),u,r):[]});function va(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=null==r?0:Wo(r);return i<0&&(i=Hr(e+i,0)),or(t,Ru(n,3),i)}function ga(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=e-1;return r!==u&&(i=Wo(r),i=r<0?Hr(e+i,0):qr(i,e-1)),or(t,Ru(n,3),i,!0)}function ma(t){return null!=t&&t.length?Pe(t,1):[]}function _a(t){return t&&t.length?t[0]:u}var ya=Ai(function(t){var n=tr(t,Pi);return n.length&&n[0]===t[0]?ri(n):[]}),ba=Ai(function(t){var n=xa(t),r=tr(t,Pi);return n===xa(r)?n=u:r.pop(),r.length&&r[0]===t[0]?ri(r,Ru(n,2)):[]}),wa=Ai(function(t){var n=xa(t),r=tr(t,Pi);return(n="function"==typeof n?n:u)&&r.pop(),r.length&&r[0]===t[0]?ri(r,u,n):[]});function xa(t){var n=null==t?0:t.length;return n?t[n-1]:u}var Aa=Ai(Ca);function Ca(t,n){return t&&t.length&&n&&n.length?yi(t,n):t}var Sa=Tu(function(t,n){var r=null==t?0:t.length,e=Oe(t,n);return bi(t,tr(n,function(t){return Hu(t,r)?+t:t}).sort(Xi)),e});function Ia(t){return null==t?t:Jr.call(t)}var ka=Ai(function(t){return Vi(Pe(t,1,bo,!0))}),Ea=Ai(function(t){var n=xa(t);return bo(n)&&(n=u),Vi(Pe(t,1,bo,!0),Ru(n,2))}),Ta=Ai(function(t){var n=xa(t);return n="function"==typeof n?n:u,Vi(Pe(t,1,bo,!0),u,n)});function Ma(t){if(!t||!t.length)return[];var n=0;return t=Yn(t,function(t){if(bo(t))return n=Hr(t.length,n),!0}),gr(n,function(n){return tr(t,hr(n))})}function za(t,n){if(!t||!t.length)return[];var r=Ma(t);return null==n?r:tr(r,function(t){return qn(n,u,t)})}var ja=Ai(function(t,n){return bo(t)?Ne(t,n):[]}),Oa=Ai(function(t){return Ui(Yn(t,bo))}),$a=Ai(function(t){var n=xa(t);return bo(n)&&(n=u),Ui(Yn(t,bo),Ru(n,2))}),Ra=Ai(function(t){var n=xa(t);return n="function"==typeof n?n:u,Ui(Yn(t,bo),u,n)}),La=Ai(Ma);var Va=Ai(function(t){var n=t.length,r=n>1?t[n-1]:u;return r="function"==typeof r?(t.pop(),r):u,za(t,r)});function Na(t){var n=pe(t);return n.__chain__=!0,n}function Fa(t,n){return n(t)}var Da=Tu(function(t){var n=t.length,r=n?t[0]:0,e=this.__wrapped__,i=function(n){return Oe(n,t)};return!(n>1||this.__actions__.length)&&e instanceof me&&Hu(r)?((e=e.slice(r,+r+(n?1:0))).__actions__.push({func:Fa,args:[i],thisArg:u}),new ge(e,this.__chain__).thru(function(t){return n&&!t.length&&t.push(u),t})):this.thru(i)});var Wa=iu(function(t,n,r){fn.call(t,r)?++t[r]:je(t,r,1)});var Ua=fu(va),Ba=fu(ga);function Pa(t,n){return(mo(t)?Zn:Fe)(t,Ru(n,3))}function Ha(t,n){return(mo(t)?Kn:De)(t,Ru(n,3))}var qa=iu(function(t,n,r){fn.call(t,r)?t[r].push(n):je(t,r,[n])});var Ga=Ai(function(t,n,r){var i=-1,u="function"==typeof n,a=yo(t)?e(t.length):[];return Fe(t,function(t){a[++i]=u?qn(n,t,r):ei(t,n,r)}),a}),Za=iu(function(t,n,r){je(t,r,n)});function Ka(t,n){return(mo(t)?tr:hi)(t,Ru(n,3))}var Ja=iu(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]});var Ya=Ai(function(t,n){if(null==t)return[];var r=n.length;return r>1&&qu(t,n[0],n[1])?n=[]:r>2&&qu(n[0],n[1],n[2])&&(n=[n[0]]),mi(t,Pe(n,1),[])}),Qa=Lr||function(){return $n.Date.now()};function Xa(t,n,r){return n=r?u:n,n=t&&null==n?t.length:n,Cu(t,C,u,u,u,u,n)}function to(t,n){var r;if("function"!=typeof n)throw new un(c);return t=Wo(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=u),r}}var no=Ai(function(t,n,r){var e=m;if(r.length){var i=Er(r,$u(no));e|=x}return Cu(t,e,n,r,i)}),ro=Ai(function(t,n,r){var e=m|_;if(r.length){var i=Er(r,$u(ro));e|=x}return Cu(n,e,t,r,i)});function eo(t,n,r){var e,i,a,o,s,l,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new un(c);function v(n){var r=e,a=i;return e=i=u,f=n,o=t.apply(a,r)}function g(t){var r=t-l;return l===u||r>=n||r<0||p&&t-f>=a}function m(){var t=Qa();if(g(t))return _(t);s=ea(m,function(t){var r=n-(t-l);return p?qr(r,a-(t-f)):r}(t))}function _(t){return s=u,d&&e?v(t):(e=i=u,o)}function y(){var t=Qa(),r=g(t);if(e=arguments,i=this,l=t,r){if(s===u)return function(t){return f=t,s=ea(m,n),h?v(t):o}(l);if(p)return s=ea(m,n),v(l)}return s===u&&(s=ea(m,n)),o}return n=Bo(n)||0,ko(r)&&(h=!!r.leading,a=(p="maxWait"in r)?Hr(Bo(r.maxWait)||0,n):a,d="trailing"in r?!!r.trailing:d),y.cancel=function(){s!==u&&Ki(s),f=0,e=l=i=s=u},y.flush=function(){return s===u?o:_(Qa())},y}var io=Ai(function(t,n){return Ve(t,1,n)}),uo=Ai(function(t,n,r){return Ve(t,Bo(n)||0,r)});function ao(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new un(c);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],u=r.cache;if(u.has(i))return u.get(i);var a=t.apply(this,e);return r.cache=u.set(i,a)||u,a};return r.cache=new(ao.Cache||be),r}function oo(t){if("function"!=typeof t)throw new un(c);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}ao.Cache=be;var co=Gi(function(t,n){var r=(n=1==n.length&&mo(n[0])?tr(n[0],mr(Ru())):tr(Pe(n,1),mr(Ru()))).length;return Ai(function(e){for(var i=-1,u=qr(e.length,r);++i<u;)e[i]=n[i].call(this,e[i]);return qn(t,this,e)})}),so=Ai(function(t,n){var r=Er(n,$u(so));return Cu(t,x,u,n,r)}),lo=Ai(function(t,n){var r=Er(n,$u(lo));return Cu(t,A,u,n,r)}),fo=Tu(function(t,n){return Cu(t,S,u,u,u,n)});function ho(t,n){return t===n||t!=t&&n!=n}var po=yu(Xe),vo=yu(function(t,n){return t>=n}),go=ii(function(){return arguments}())?ii:function(t){return Eo(t)&&fn.call(t,"callee")&&!Rn.call(t,"callee")},mo=e.isArray,_o=Dn?mr(Dn):function(t){return Eo(t)&&Qe(t)==ct};function yo(t){return null!=t&&Io(t.length)&&!Co(t)}function bo(t){return Eo(t)&&yo(t)}var wo=Wr||Bc,xo=Wn?mr(Wn):function(t){return Eo(t)&&Qe(t)==H};function Ao(t){if(!Eo(t))return!1;var n=Qe(t);return n==G||n==q||"string"==typeof t.message&&"string"==typeof t.name&&!zo(t)}function Co(t){if(!ko(t))return!1;var n=Qe(t);return n==Z||n==K||n==B||n==tt}function So(t){return"number"==typeof t&&t==Wo(t)}function Io(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$}function ko(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Eo(t){return null!=t&&"object"==typeof t}var To=Un?mr(Un):function(t){return Eo(t)&&Wu(t)==J};function Mo(t){return"number"==typeof t||Eo(t)&&Qe(t)==Y}function zo(t){if(!Eo(t)||Qe(t)!=X)return!1;var n=jn(t);if(null===n)return!0;var r=fn.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&ln.call(r)==vn}var jo=Bn?mr(Bn):function(t){return Eo(t)&&Qe(t)==nt};var Oo=Pn?mr(Pn):function(t){return Eo(t)&&Wu(t)==rt};function $o(t){return"string"==typeof t||!mo(t)&&Eo(t)&&Qe(t)==et}function Ro(t){return"symbol"==typeof t||Eo(t)&&Qe(t)==it}var Lo=Hn?mr(Hn):function(t){return Eo(t)&&Io(t.length)&&!!kn[Qe(t)]};var Vo=yu(fi),No=yu(function(t,n){return t<=n});function Fo(t){if(!t)return[];if(yo(t))return $o(t)?jr(t):ru(t);if(Fn&&t[Fn])return function(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}(t[Fn]());var n=Wu(t);return(n==J?Ir:n==rt?Tr:pc)(t)}function Do(t){return t?(t=Bo(t))===O||t===-O?(t<0?-1:1)*R:t==t?t:0:0===t?t:0}function Wo(t){var n=Do(t),r=n%1;return n==n?r?n-r:n:0}function Uo(t){return t?$e(Wo(t),0,V):0}function Bo(t){if("number"==typeof t)return t;if(Ro(t))return L;if(ko(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ko(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($t,"");var r=Ht.test(t);return r||Gt.test(t)?zn(t.slice(2),r?2:8):Pt.test(t)?L:+t}function Po(t){return eu(t,uc(t))}function Ho(t){return null==t?"":Li(t)}var qo=uu(function(t,n){if(Ju(n)||yo(n))eu(n,ic(n),t);else for(var r in n)fn.call(n,r)&&Ee(t,r,n[r])}),Go=uu(function(t,n){eu(n,uc(n),t)}),Zo=uu(function(t,n,r,e){eu(n,uc(n),t,e)}),Ko=uu(function(t,n,r,e){eu(n,ic(n),t,e)}),Jo=Tu(Oe);var Yo=Ai(function(t,n){t=nn(t);var r=-1,e=n.length,i=e>2?n[2]:u;for(i&&qu(n[0],n[1],i)&&(e=1);++r<e;)for(var a=n[r],o=uc(a),c=-1,s=o.length;++c<s;){var l=o[c],f=t[l];(f===u||ho(f,cn[l])&&!fn.call(t,l))&&(t[l]=a[l])}return t}),Qo=Ai(function(t){return t.push(u,Iu),qn(oc,u,t)});function Xo(t,n,r){var e=null==t?u:Je(t,n);return e===u?r:e}function tc(t,n){return null!=t&&Uu(t,n,ni)}var nc=du(function(t,n,r){null!=n&&"function"!=typeof n.toString&&(n=dn.call(n)),t[n]=r},kc(Mc)),rc=du(function(t,n,r){null!=n&&"function"!=typeof n.toString&&(n=dn.call(n)),fn.call(t,n)?t[n].push(r):t[n]=[r]},Ru),ec=Ai(ei);function ic(t){return yo(t)?Ae(t):si(t)}function uc(t){return yo(t)?Ae(t,!0):li(t)}var ac=uu(function(t,n,r){vi(t,n,r)}),oc=uu(function(t,n,r,e){vi(t,n,r,e)}),cc=Tu(function(t,n){var r={};if(null==t)return r;var e=!1;n=tr(n,function(n){return n=qi(n,t),e||(e=n.length>1),n}),eu(t,zu(t),r),e&&(r=Re(r,h|p|d,ku));for(var i=n.length;i--;)Ni(r,n[i]);return r});var sc=Tu(function(t,n){return null==t?{}:function(t,n){return _i(t,n,function(n,r){return tc(t,r)})}(t,n)});function lc(t,n){if(null==t)return{};var r=tr(zu(t),function(t){return[t]});return n=Ru(n),_i(t,r,function(t,r){return n(t,r[0])})}var fc=Au(ic),hc=Au(uc);function pc(t){return null==t?[]:_r(t,ic(t))}var dc=su(function(t,n,r){return n=n.toLowerCase(),t+(r?vc(n):n)});function vc(t){return Ac(Ho(t).toLowerCase())}function gc(t){return(t=Ho(t))&&t.replace(Kt,xr).replace(bn,"")}var mc=su(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),_c=su(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),yc=cu("toLowerCase");var bc=su(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()});var wc=su(function(t,n,r){return t+(r?" ":"")+Ac(n)});var xc=su(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),Ac=cu("toUpperCase");function Cc(t,n,r){return t=Ho(t),(n=r?u:n)===u?function(t){return Cn.test(t)}(t)?function(t){return t.match(xn)||[]}(t):function(t){return t.match(Dt)||[]}(t):t.match(n)||[]}var Sc=Ai(function(t,n){try{return qn(t,u,n)}catch(t){return Ao(t)?t:new Qt(t)}}),Ic=Tu(function(t,n){return Zn(n,function(n){n=sa(n),je(t,n,no(t[n],t))}),t});function kc(t){return function(){return t}}var Ec=hu(),Tc=hu(!0);function Mc(t){return t}function zc(t){return ci("function"==typeof t?t:Re(t,h))}var jc=Ai(function(t,n){return function(r){return ei(r,t,n)}}),Oc=Ai(function(t,n){return function(r){return ei(t,r,n)}});function $c(t,n,r){var e=ic(n),i=Ke(n,e);null!=r||ko(n)&&(i.length||!e.length)||(r=n,n=t,t=this,i=Ke(n,ic(n)));var u=!(ko(r)&&"chain"in r&&!r.chain),a=Co(t);return Zn(i,function(r){var e=n[r];t[r]=e,a&&(t.prototype[r]=function(){var n=this.__chain__;if(u||n){var r=t(this.__wrapped__);return(r.__actions__=ru(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,nr([this.value()],arguments))})}),t}function Rc(){}var Lc=gu(tr),Vc=gu(Jn),Nc=gu(ir);function Fc(t){return Gu(t)?hr(sa(t)):function(t){return function(n){return Je(n,t)}}(t)}var Dc=_u(),Wc=_u(!0);function Uc(){return[]}function Bc(){return!1}var Pc=vu(function(t,n){return t+n},0),Hc=wu("ceil"),qc=vu(function(t,n){return t/n},1),Gc=wu("floor");var Zc,Kc=vu(function(t,n){return t*n},1),Jc=wu("round"),Yc=vu(function(t,n){return t-n},0);return pe.after=function(t,n){if("function"!=typeof n)throw new un(c);return t=Wo(t),function(){if(--t<1)return n.apply(this,arguments)}},pe.ary=Xa,pe.assign=qo,pe.assignIn=Go,pe.assignInWith=Zo,pe.assignWith=Ko,pe.at=Jo,pe.before=to,pe.bind=no,pe.bindAll=Ic,pe.bindKey=ro,pe.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return mo(t)?t:[t]},pe.chain=Na,pe.chunk=function(t,n,r){n=(r?qu(t,n,r):n===u)?1:Hr(Wo(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,c=e(Nr(i/n));a<i;)c[o++]=Mi(t,a,a+=n);return c},pe.compact=function(t){for(var n=-1,r=null==t?0:t.length,e=0,i=[];++n<r;){var u=t[n];u&&(i[e++]=u)}return i},pe.concat=function(){var t=arguments.length;if(!t)return[];for(var n=e(t-1),r=arguments[0],i=t;i--;)n[i-1]=arguments[i];return nr(mo(r)?ru(r):[r],Pe(n,1))},pe.cond=function(t){var n=null==t?0:t.length,r=Ru();return t=n?tr(t,function(t){if("function"!=typeof t[1])throw new un(c);return[r(t[0]),t[1]]}):[],Ai(function(r){for(var e=-1;++e<n;){var i=t[e];if(qn(i[0],this,r))return qn(i[1],this,r)}})},pe.conforms=function(t){return function(t){var n=ic(t);return function(r){return Le(r,t,n)}}(Re(t,h))},pe.constant=kc,pe.countBy=Wa,pe.create=function(t,n){var r=de(t);return null==n?r:ze(r,n)},pe.curry=function t(n,r,e){var i=Cu(n,b,u,u,u,u,u,r=e?u:r);return i.placeholder=t.placeholder,i},pe.curryRight=function t(n,r,e){var i=Cu(n,w,u,u,u,u,u,r=e?u:r);return i.placeholder=t.placeholder,i},pe.debounce=eo,pe.defaults=Yo,pe.defaultsDeep=Qo,pe.defer=io,pe.delay=uo,pe.difference=ha,pe.differenceBy=pa,pe.differenceWith=da,pe.drop=function(t,n,r){var e=null==t?0:t.length;return e?Mi(t,(n=r||n===u?1:Wo(n))<0?0:n,e):[]},pe.dropRight=function(t,n,r){var e=null==t?0:t.length;return e?Mi(t,0,(n=e-(n=r||n===u?1:Wo(n)))<0?0:n):[]},pe.dropRightWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3),!0,!0):[]},pe.dropWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3),!0):[]},pe.fill=function(t,n,r,e){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&qu(t,n,r)&&(r=0,e=i),function(t,n,r,e){var i=t.length;for((r=Wo(r))<0&&(r=-r>i?0:i+r),(e=e===u||e>i?i:Wo(e))<0&&(e+=i),e=r>e?0:Uo(e);r<e;)t[r++]=n;return t}(t,n,r,e)):[]},pe.filter=function(t,n){return(mo(t)?Yn:Be)(t,Ru(n,3))},pe.flatMap=function(t,n){return Pe(Ka(t,n),1)},pe.flatMapDeep=function(t,n){return Pe(Ka(t,n),O)},pe.flatMapDepth=function(t,n,r){return r=r===u?1:Wo(r),Pe(Ka(t,n),r)},pe.flatten=ma,pe.flattenDeep=function(t){return null!=t&&t.length?Pe(t,O):[]},pe.flattenDepth=function(t,n){return null!=t&&t.length?Pe(t,n=n===u?1:Wo(n)):[]},pe.flip=function(t){return Cu(t,I)},pe.flow=Ec,pe.flowRight=Tc,pe.fromPairs=function(t){for(var n=-1,r=null==t?0:t.length,e={};++n<r;){var i=t[n];e[i[0]]=i[1]}return e},pe.functions=function(t){return null==t?[]:Ke(t,ic(t))},pe.functionsIn=function(t){return null==t?[]:Ke(t,uc(t))},pe.groupBy=qa,pe.initial=function(t){return null!=t&&t.length?Mi(t,0,-1):[]},pe.intersection=ya,pe.intersectionBy=ba,pe.intersectionWith=wa,pe.invert=nc,pe.invertBy=rc,pe.invokeMap=Ga,pe.iteratee=zc,pe.keyBy=Za,pe.keys=ic,pe.keysIn=uc,pe.map=Ka,pe.mapKeys=function(t,n){var r={};return n=Ru(n,3),Ge(t,function(t,e,i){je(r,n(t,e,i),t)}),r},pe.mapValues=function(t,n){var r={};return n=Ru(n,3),Ge(t,function(t,e,i){je(r,e,n(t,e,i))}),r},pe.matches=function(t){return pi(Re(t,h))},pe.matchesProperty=function(t,n){return di(t,Re(n,h))},pe.memoize=ao,pe.merge=ac,pe.mergeWith=oc,pe.method=jc,pe.methodOf=Oc,pe.mixin=$c,pe.negate=oo,pe.nthArg=function(t){return t=Wo(t),Ai(function(n){return gi(n,t)})},pe.omit=cc,pe.omitBy=function(t,n){return lc(t,oo(Ru(n)))},pe.once=function(t){return to(2,t)},pe.orderBy=function(t,n,r,e){return null==t?[]:(mo(n)||(n=null==n?[]:[n]),mo(r=e?u:r)||(r=null==r?[]:[r]),mi(t,n,r))},pe.over=Lc,pe.overArgs=co,pe.overEvery=Vc,pe.overSome=Nc,pe.partial=so,pe.partialRight=lo,pe.partition=Ja,pe.pick=sc,pe.pickBy=lc,pe.property=Fc,pe.propertyOf=function(t){return function(n){return null==t?u:Je(t,n)}},pe.pull=Aa,pe.pullAll=Ca,pe.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?yi(t,n,Ru(r,2)):t},pe.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?yi(t,n,u,r):t},pe.pullAt=Sa,pe.range=Dc,pe.rangeRight=Wc,pe.rearg=fo,pe.reject=function(t,n){return(mo(t)?Yn:Be)(t,oo(Ru(n,3)))},pe.remove=function(t,n){var r=[];if(!t||!t.length)return r;var e=-1,i=[],u=t.length;for(n=Ru(n,3);++e<u;){var a=t[e];n(a,e,t)&&(r.push(a),i.push(e))}return bi(t,i),r},pe.rest=function(t,n){if("function"!=typeof t)throw new un(c);return Ai(t,n=n===u?n:Wo(n))},pe.reverse=Ia,pe.sampleSize=function(t,n,r){return n=(r?qu(t,n,r):n===u)?1:Wo(n),(mo(t)?Se:Si)(t,n)},pe.set=function(t,n,r){return null==t?t:Ii(t,n,r)},pe.setWith=function(t,n,r,e){return e="function"==typeof e?e:u,null==t?t:Ii(t,n,r,e)},pe.shuffle=function(t){return(mo(t)?Ie:Ti)(t)},pe.slice=function(t,n,r){var e=null==t?0:t.length;return e?(r&&"number"!=typeof r&&qu(t,n,r)?(n=0,r=e):(n=null==n?0:Wo(n),r=r===u?e:Wo(r)),Mi(t,n,r)):[]},pe.sortBy=Ya,pe.sortedUniq=function(t){return t&&t.length?$i(t):[]},pe.sortedUniqBy=function(t,n){return t&&t.length?$i(t,Ru(n,2)):[]},pe.split=function(t,n,r){return r&&"number"!=typeof r&&qu(t,n,r)&&(n=r=u),(r=r===u?V:r>>>0)?(t=Ho(t))&&("string"==typeof n||null!=n&&!jo(n))&&!(n=Li(n))&&Sr(t)?Zi(jr(t),0,r):t.split(n,r):[]},pe.spread=function(t,n){if("function"!=typeof t)throw new un(c);return n=null==n?0:Hr(Wo(n),0),Ai(function(r){var e=r[n],i=Zi(r,0,n);return e&&nr(i,e),qn(t,this,i)})},pe.tail=function(t){var n=null==t?0:t.length;return n?Mi(t,1,n):[]},pe.take=function(t,n,r){return t&&t.length?Mi(t,0,(n=r||n===u?1:Wo(n))<0?0:n):[]},pe.takeRight=function(t,n,r){var e=null==t?0:t.length;return e?Mi(t,(n=e-(n=r||n===u?1:Wo(n)))<0?0:n,e):[]},pe.takeRightWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3),!1,!0):[]},pe.takeWhile=function(t,n){return t&&t.length?Di(t,Ru(n,3)):[]},pe.tap=function(t,n){return n(t),t},pe.throttle=function(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new un(c);return ko(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),eo(t,n,{leading:e,maxWait:n,trailing:i})},pe.thru=Fa,pe.toArray=Fo,pe.toPairs=fc,pe.toPairsIn=hc,pe.toPath=function(t){return mo(t)?tr(t,sa):Ro(t)?[t]:ru(ca(Ho(t)))},pe.toPlainObject=Po,pe.transform=function(t,n,r){var e=mo(t),i=e||wo(t)||Lo(t);if(n=Ru(n,4),null==r){var u=t&&t.constructor;r=i?e?new u:[]:ko(t)&&Co(u)?de(jn(t)):{}}return(i?Zn:Ge)(t,function(t,e,i){return n(r,t,e,i)}),r},pe.unary=function(t){return Xa(t,1)},pe.union=ka,pe.unionBy=Ea,pe.unionWith=Ta,pe.uniq=function(t){return t&&t.length?Vi(t):[]},pe.uniqBy=function(t,n){return t&&t.length?Vi(t,Ru(n,2)):[]},pe.uniqWith=function(t,n){return n="function"==typeof n?n:u,t&&t.length?Vi(t,u,n):[]},pe.unset=function(t,n){return null==t||Ni(t,n)},pe.unzip=Ma,pe.unzipWith=za,pe.update=function(t,n,r){return null==t?t:Fi(t,n,Hi(r))},pe.updateWith=function(t,n,r,e){return e="function"==typeof e?e:u,null==t?t:Fi(t,n,Hi(r),e)},pe.values=pc,pe.valuesIn=function(t){return null==t?[]:_r(t,uc(t))},pe.without=ja,pe.words=Cc,pe.wrap=function(t,n){return so(Hi(n),t)},pe.xor=Oa,pe.xorBy=$a,pe.xorWith=Ra,pe.zip=La,pe.zipObject=function(t,n){return Bi(t||[],n||[],Ee)},pe.zipObjectDeep=function(t,n){return Bi(t||[],n||[],Ii)},pe.zipWith=Va,pe.entries=fc,pe.entriesIn=hc,pe.extend=Go,pe.extendWith=Zo,$c(pe,pe),pe.add=Pc,pe.attempt=Sc,pe.camelCase=dc,pe.capitalize=vc,pe.ceil=Hc,pe.clamp=function(t,n,r){return r===u&&(r=n,n=u),r!==u&&(r=(r=Bo(r))==r?r:0),n!==u&&(n=(n=Bo(n))==n?n:0),$e(Bo(t),n,r)},pe.clone=function(t){return Re(t,d)},pe.cloneDeep=function(t){return Re(t,h|d)},pe.cloneDeepWith=function(t,n){return Re(t,h|d,n="function"==typeof n?n:u)},pe.cloneWith=function(t,n){return Re(t,d,n="function"==typeof n?n:u)},pe.conformsTo=function(t,n){return null==n||Le(t,n,ic(n))},pe.deburr=gc,pe.defaultTo=function(t,n){return null==t||t!=t?n:t},pe.divide=qc,pe.endsWith=function(t,n,r){t=Ho(t),n=Li(n);var e=t.length,i=r=r===u?e:$e(Wo(r),0,e);return(r-=n.length)>=0&&t.slice(r,i)==n},pe.eq=ho,pe.escape=function(t){return(t=Ho(t))&&St.test(t)?t.replace(At,Ar):t},pe.escapeRegExp=function(t){return(t=Ho(t))&&Ot.test(t)?t.replace(jt,"\\$&"):t},pe.every=function(t,n,r){var e=mo(t)?Jn:We;return r&&qu(t,n,r)&&(n=u),e(t,Ru(n,3))},pe.find=Ua,pe.findIndex=va,pe.findKey=function(t,n){return ar(t,Ru(n,3),Ge)},pe.findLast=Ba,pe.findLastIndex=ga,pe.findLastKey=function(t,n){return ar(t,Ru(n,3),Ze)},pe.floor=Gc,pe.forEach=Pa,pe.forEachRight=Ha,pe.forIn=function(t,n){return null==t?t:He(t,Ru(n,3),uc)},pe.forInRight=function(t,n){return null==t?t:qe(t,Ru(n,3),uc)},pe.forOwn=function(t,n){return t&&Ge(t,Ru(n,3))},pe.forOwnRight=function(t,n){return t&&Ze(t,Ru(n,3))},pe.get=Xo,pe.gt=po,pe.gte=vo,pe.has=function(t,n){return null!=t&&Uu(t,n,ti)},pe.hasIn=tc,pe.head=_a,pe.identity=Mc,pe.includes=function(t,n,r,e){t=yo(t)?t:pc(t),r=r&&!e?Wo(r):0;var i=t.length;return r<0&&(r=Hr(i+r,0)),$o(t)?r<=i&&t.indexOf(n,r)>-1:!!i&&cr(t,n,r)>-1},pe.indexOf=function(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=null==r?0:Wo(r);return i<0&&(i=Hr(e+i,0)),cr(t,n,i)},pe.inRange=function(t,n,r){return n=Do(n),r===u?(r=n,n=0):r=Do(r),function(t,n,r){return t>=qr(n,r)&&t<Hr(n,r)}(t=Bo(t),n,r)},pe.invoke=ec,pe.isArguments=go,pe.isArray=mo,pe.isArrayBuffer=_o,pe.isArrayLike=yo,pe.isArrayLikeObject=bo,pe.isBoolean=function(t){return!0===t||!1===t||Eo(t)&&Qe(t)==P},pe.isBuffer=wo,pe.isDate=xo,pe.isElement=function(t){return Eo(t)&&1===t.nodeType&&!zo(t)},pe.isEmpty=function(t){if(null==t)return!0;if(yo(t)&&(mo(t)||"string"==typeof t||"function"==typeof t.splice||wo(t)||Lo(t)||go(t)))return!t.length;var n=Wu(t);if(n==J||n==rt)return!t.size;if(Ju(t))return!si(t).length;for(var r in t)if(fn.call(t,r))return!1;return!0},pe.isEqual=function(t,n){return ui(t,n)},pe.isEqualWith=function(t,n,r){var e=(r="function"==typeof r?r:u)?r(t,n):u;return e===u?ui(t,n,u,r):!!e},pe.isError=Ao,pe.isFinite=function(t){return"number"==typeof t&&Ur(t)},pe.isFunction=Co,pe.isInteger=So,pe.isLength=Io,pe.isMap=To,pe.isMatch=function(t,n){return t===n||ai(t,n,Vu(n))},pe.isMatchWith=function(t,n,r){return r="function"==typeof r?r:u,ai(t,n,Vu(n),r)},pe.isNaN=function(t){return Mo(t)&&t!=+t},pe.isNative=function(t){if(Ku(t))throw new Qt(o);return oi(t)},pe.isNil=function(t){return null==t},pe.isNull=function(t){return null===t},pe.isNumber=Mo,pe.isObject=ko,pe.isObjectLike=Eo,pe.isPlainObject=zo,pe.isRegExp=jo,pe.isSafeInteger=function(t){return So(t)&&t>=-$&&t<=$},pe.isSet=Oo,pe.isString=$o,pe.isSymbol=Ro,pe.isTypedArray=Lo,pe.isUndefined=function(t){return t===u},pe.isWeakMap=function(t){return Eo(t)&&Wu(t)==at},pe.isWeakSet=function(t){return Eo(t)&&Qe(t)==ot},pe.join=function(t,n){return null==t?"":Br.call(t,n)},pe.kebabCase=mc,pe.last=xa,pe.lastIndexOf=function(t,n,r){var e=null==t?0:t.length;if(!e)return-1;var i=e;return r!==u&&(i=(i=Wo(r))<0?Hr(e+i,0):qr(i,e-1)),n==n?function(t,n,r){for(var e=r+1;e--;)if(t[e]===n)return e;return e}(t,n,i):or(t,lr,i,!0)},pe.lowerCase=_c,pe.lowerFirst=yc,pe.lt=Vo,pe.lte=No,pe.max=function(t){return t&&t.length?Ue(t,Mc,Xe):u},pe.maxBy=function(t,n){return t&&t.length?Ue(t,Ru(n,2),Xe):u},pe.mean=function(t){return fr(t,Mc)},pe.meanBy=function(t,n){return fr(t,Ru(n,2))},pe.min=function(t){return t&&t.length?Ue(t,Mc,fi):u},pe.minBy=function(t,n){return t&&t.length?Ue(t,Ru(n,2),fi):u},pe.stubArray=Uc,pe.stubFalse=Bc,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=Kc,pe.nth=function(t,n){return t&&t.length?gi(t,Wo(n)):u},pe.noConflict=function(){return $n._===this&&($n._=gn),this},pe.noop=Rc,pe.now=Qa,pe.pad=function(t,n,r){t=Ho(t);var e=(n=Wo(n))?zr(t):0;if(!n||e>=n)return t;var i=(n-e)/2;return mu(Fr(i),r)+t+mu(Nr(i),r)},pe.padEnd=function(t,n,r){t=Ho(t);var e=(n=Wo(n))?zr(t):0;return n&&e<n?t+mu(n-e,r):t},pe.padStart=function(t,n,r){t=Ho(t);var e=(n=Wo(n))?zr(t):0;return n&&e<n?mu(n-e,r)+t:t},pe.parseInt=function(t,n,r){return r||null==n?n=0:n&&(n=+n),Zr(Ho(t).replace(Rt,""),n||0)},pe.random=function(t,n,r){if(r&&"boolean"!=typeof r&&qu(t,n,r)&&(n=r=u),r===u&&("boolean"==typeof n?(r=n,n=u):"boolean"==typeof t&&(r=t,t=u)),t===u&&n===u?(t=0,n=1):(t=Do(t),n===u?(n=t,t=0):n=Do(n)),t>n){var e=t;t=n,n=e}if(r||t%1||n%1){var i=Kr();return qr(t+i*(n-t+Mn("1e-"+((i+"").length-1))),n)}return wi(t,n)},pe.reduce=function(t,n,r){var e=mo(t)?rr:dr,i=arguments.length<3;return e(t,Ru(n,4),r,i,Fe)},pe.reduceRight=function(t,n,r){var e=mo(t)?er:dr,i=arguments.length<3;return e(t,Ru(n,4),r,i,De)},pe.repeat=function(t,n,r){return n=(r?qu(t,n,r):n===u)?1:Wo(n),xi(Ho(t),n)},pe.replace=function(){var t=arguments,n=Ho(t[0]);return t.length<3?n:n.replace(t[1],t[2])},pe.result=function(t,n,r){var e=-1,i=(n=qi(n,t)).length;for(i||(i=1,t=u);++e<i;){var a=null==t?u:t[sa(n[e])];a===u&&(e=i,a=r),t=Co(a)?a.call(t):a}return t},pe.round=Jc,pe.runInContext=t,pe.sample=function(t){return(mo(t)?Ce:Ci)(t)},pe.size=function(t){if(null==t)return 0;if(yo(t))return $o(t)?zr(t):t.length;var n=Wu(t);return n==J||n==rt?t.size:si(t).length},pe.snakeCase=bc,pe.some=function(t,n,r){var e=mo(t)?ir:zi;return r&&qu(t,n,r)&&(n=u),e(t,Ru(n,3))},pe.sortedIndex=function(t,n){return ji(t,n)},pe.sortedIndexBy=function(t,n,r){return Oi(t,n,Ru(r,2))},pe.sortedIndexOf=function(t,n){var r=null==t?0:t.length;if(r){var e=ji(t,n);if(e<r&&ho(t[e],n))return e}return-1},pe.sortedLastIndex=function(t,n){return ji(t,n,!0)},pe.sortedLastIndexBy=function(t,n,r){return Oi(t,n,Ru(r,2),!0)},pe.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var r=ji(t,n,!0)-1;if(ho(t[r],n))return r}return-1},pe.startCase=wc,pe.startsWith=function(t,n,r){return t=Ho(t),r=null==r?0:$e(Wo(r),0,t.length),n=Li(n),t.slice(r,r+n.length)==n},pe.subtract=Yc,pe.sum=function(t){return t&&t.length?vr(t,Mc):0},pe.sumBy=function(t,n){return t&&t.length?vr(t,Ru(n,2)):0},pe.template=function(t,n,r){var e=pe.templateSettings;r&&qu(t,n,r)&&(n=u),t=Ho(t),n=Zo({},n,e,Su);var i,a,o=Zo({},n.imports,e.imports,Su),c=ic(o),s=_r(o,c),l=0,f=n.interpolate||Jt,h="__p += '",p=rn((n.escape||Jt).source+"|"+f.source+"|"+(f===Et?Ut:Jt).source+"|"+(n.evaluate||Jt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++In+"]")+"\n";t.replace(p,function(n,r,e,u,o,c){return e||(e=u),h+=t.slice(l,c).replace(Yt,Cr),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),o&&(a=!0,h+="';\n"+o+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=c+n.length,n}),h+="';\n";var v=n.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(yt,""):h).replace(bt,"$1").replace(wt,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Sc(function(){return Xt(c,d+"return "+h).apply(u,s)});if(g.source=h,Ao(g))throw g;return g},pe.times=function(t,n){if((t=Wo(t))<1||t>$)return[];var r=V,e=qr(t,V);n=Ru(n),t-=V;for(var i=gr(e,n);++r<t;)n(r);return i},pe.toFinite=Do,pe.toInteger=Wo,pe.toLength=Uo,pe.toLower=function(t){return Ho(t).toLowerCase()},pe.toNumber=Bo,pe.toSafeInteger=function(t){return t?$e(Wo(t),-$,$):0===t?t:0},pe.toString=Ho,pe.toUpper=function(t){return Ho(t).toUpperCase()},pe.trim=function(t,n,r){if((t=Ho(t))&&(r||n===u))return t.replace($t,"");if(!t||!(n=Li(n)))return t;var e=jr(t),i=jr(n);return Zi(e,br(e,i),wr(e,i)+1).join("")},pe.trimEnd=function(t,n,r){if((t=Ho(t))&&(r||n===u))return t.replace(Lt,"");if(!t||!(n=Li(n)))return t;var e=jr(t);return Zi(e,0,wr(e,jr(n))+1).join("")},pe.trimStart=function(t,n,r){if((t=Ho(t))&&(r||n===u))return t.replace(Rt,"");if(!t||!(n=Li(n)))return t;var e=jr(t);return Zi(e,br(e,jr(n))).join("")},pe.truncate=function(t,n){var r=k,e=E;if(ko(n)){var i="separator"in n?n.separator:i;r="length"in n?Wo(n.length):r,e="omission"in n?Li(n.omission):e}var a=(t=Ho(t)).length;if(Sr(t)){var o=jr(t);a=o.length}if(r>=a)return t;var c=r-zr(e);if(c<1)return e;var s=o?Zi(o,0,c).join(""):t.slice(0,c);if(i===u)return s+e;if(o&&(c+=s.length-c),jo(i)){if(t.slice(c).search(i)){var l,f=s;for(i.global||(i=rn(i.source,Ho(Bt.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;s=s.slice(0,h===u?c:h)}}else if(t.indexOf(Li(i),c)!=c){var p=s.lastIndexOf(i);p>-1&&(s=s.slice(0,p))}return s+e},pe.unescape=function(t){return(t=Ho(t))&&Ct.test(t)?t.replace(xt,Or):t},pe.uniqueId=function(t){var n=++hn;return Ho(t)+n},pe.upperCase=xc,pe.upperFirst=Ac,pe.each=Pa,pe.eachRight=Ha,pe.first=_a,$c(pe,(Zc={},Ge(pe,function(t,n){fn.call(pe.prototype,n)||(Zc[n]=t)}),Zc),{chain:!1}),pe.VERSION="4.17.11",Zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pe[t].placeholder=pe}),Zn(["drop","take"],function(t,n){me.prototype[t]=function(r){r=r===u?1:Hr(Wo(r),0);var e=this.__filtered__&&!n?new me(this):this.clone();return e.__filtered__?e.__takeCount__=qr(r,e.__takeCount__):e.__views__.push({size:qr(r,V),type:t+(e.__dir__<0?"Right":"")}),e},me.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),Zn(["filter","map","takeWhile"],function(t,n){var r=n+1,e=r==z||3==r;me.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Ru(t,3),type:r}),n.__filtered__=n.__filtered__||e,n}}),Zn(["head","last"],function(t,n){var r="take"+(n?"Right":"");me.prototype[t]=function(){return this[r](1).value()[0]}}),Zn(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");me.prototype[t]=function(){return this.__filtered__?new me(this):this[r](1)}}),me.prototype.compact=function(){return this.filter(Mc)},me.prototype.find=function(t){return this.filter(t).head()},me.prototype.findLast=function(t){return this.reverse().find(t)},me.prototype.invokeMap=Ai(function(t,n){return"function"==typeof t?new me(this):this.map(function(r){return ei(r,t,n)})}),me.prototype.reject=function(t){return this.filter(oo(Ru(t)))},me.prototype.slice=function(t,n){t=Wo(t);var r=this;return r.__filtered__&&(t>0||n<0)?new me(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==u&&(r=(n=Wo(n))<0?r.dropRight(-n):r.take(n-t)),r)},me.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},me.prototype.toArray=function(){return this.take(V)},Ge(me.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),e=/^(?:head|last)$/.test(n),i=pe[e?"take"+("last"==n?"Right":""):n],a=e||/^find/.test(n);i&&(pe.prototype[n]=function(){var n=this.__wrapped__,o=e?[1]:arguments,c=n instanceof me,s=o[0],l=c||mo(n),f=function(t){var n=i.apply(pe,nr([t],o));return e&&h?n[0]:n};l&&r&&"function"==typeof s&&1!=s.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,v=c&&!p;if(!a&&l){n=v?n:new me(this);var g=t.apply(n,o);return g.__actions__.push({func:Fa,args:[f],thisArg:u}),new ge(g,h)}return d&&v?t.apply(this,o):(g=this.thru(f),d?e?g.value()[0]:g.value():g)})}),Zn(["pop","push","shift","sort","splice","unshift"],function(t){var n=an[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:pop|shift)$/.test(t);pe.prototype[t]=function(){var t=arguments;if(e&&!this.__chain__){var i=this.value();return n.apply(mo(i)?i:[],t)}return this[r](function(r){return n.apply(mo(r)?r:[],t)})}}),Ge(me.prototype,function(t,n){var r=pe[n];if(r){var e=r.name+"";(ie[e]||(ie[e]=[])).push({name:n,func:r})}}),ie[pu(u,_).name]=[{name:"wrapper",func:u}],me.prototype.clone=function(){var t=new me(this.__wrapped__);return t.__actions__=ru(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ru(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ru(this.__views__),t},me.prototype.reverse=function(){if(this.__filtered__){var t=new me(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},me.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,r=mo(t),e=n<0,i=r?t.length:0,u=function(t,n,r){for(var e=-1,i=r.length;++e<i;){var u=r[e],a=u.size;switch(u.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=qr(n,t+a);break;case"takeRight":t=Hr(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=u.start,o=u.end,c=o-a,s=e?o:a-1,l=this.__iteratees__,f=l.length,h=0,p=qr(c,this.__takeCount__);if(!r||!e&&i==c&&p==c)return Wi(t,this.__actions__);var d=[];t:for(;c--&&h<p;){for(var v=-1,g=t[s+=n];++v<f;){var m=l[v],_=m.iteratee,y=m.type,b=_(g);if(y==j)g=b;else if(!b){if(y==z)continue t;break t}}d[h++]=g}return d},pe.prototype.at=Da,pe.prototype.chain=function(){return Na(this)},pe.prototype.commit=function(){return new ge(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===u&&(this.__values__=Fo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?u:this.__values__[this.__index__++]}},pe.prototype.plant=function(t){for(var n,r=this;r instanceof ve;){var e=fa(r);e.__index__=0,e.__values__=u,n?i.__wrapped__=e:n=e;var i=e;r=r.__wrapped__}return i.__wrapped__=t,n},pe.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof me){var n=t;return this.__actions__.length&&(n=new me(this)),(n=n.reverse()).__actions__.push({func:Fa,args:[Ia],thisArg:u}),new ge(n,this.__chain__)}return this.thru(Ia)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Wi(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,Fn&&(pe.prototype[Fn]=function(){return this}),pe}();$n._=$r,(i=function(){return $r}.call(n,r,n,e))===u||(e.exports=i)}).call(this)}).call(this,r(4),r(5)(t))},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=r(2),i=r(0),u=r(1),a=function(){function t(t,n){this.variableName=t,this.targetValue=n}return t.prototype.check=function(t){var n=t.varLookup(this.variableName);return n&&n.value.equals(this.targetValue)},t.prototype.visualize_html=function(t){var n=this.check(t);return'\n            <div style="position: relative">\n                <span class="badge matlab-var-badge">'+this.variableName+'</span>\n                <div class="matcrab-visualization">'+this.targetValue.visualize_html()+'</div>\n                <div class="matcrab-variable-exercise-status">'+(n?'<span class="glyphicon glyphicon-ok matcrab-complete-glyphicon"></span>':'<span class="glyphicon glyphicon-option-horizontal matcrab-incomplete-glyphicon"></span>')+"</div>\n            </div>\n        "},t}(),o=function(){function t(t,n,r,e,i){this.elem=t,this.env=n,this.exercises=Object.keys(r).map(function(t){return new a(t,r[t])}),this.description=e,this.solutionMessage=i,n.addListener(this),this.elem.html(this.visualize_html())}return t.prototype.onVariableSet=function(t){var n=this;this.exercises.forEach(function(r){r.variableName===t.name&&n.elem.html(n.visualize_html())})},t.prototype.check=function(){var t=this;return this.exercises.every(function(n){return n.check(t.env)})},t.prototype.visualize_html=function(){var t=this;return"\n        "+(this.description?'<div style="text-align:center">'+this.description+"</div>":"")+"\n        <table>\n            <tr>\n                "+this.exercises.reduce(function(n,r){return n+"<td>"+r.visualize_html(t.env)+"</td>"},"")+"\n            </tr>\n        </table>\n        "+(this.solutionMessage&&this.check()?'<div class="alert alert-success" style="text-align:center">'+this.solutionMessage+"</div>":"")},t}();function c(t,n,r){try{if(t.length>0){var i=u.parse(t),a=e.CodeConstruct.create(i,n);a.execute();r.html(a.visualize_html())}}catch(t){if("SyntaxError"!==t.name)throw r.html("Sorry, an unexpected MatCrab error occurred. Please report to jjuett@umich.edu."),t;r.html("Syntax Error")}}function s(t,n,r){var e;t.keypress(function(i){if(13==(i.keyCode||i.which)&&!i.shiftKey){i.preventDefault();return clearTimeout(e),e=setTimeout(function(){if(void 0!==t.val()){var e=t.val().trim();n.empty(),c(e,r,n)}},500),!1}})}function l(t,n,r,e){var i;t.click(function(t){t.preventDefault();return clearTimeout(i),i=setTimeout(function(){if(void 0!==n.val()){var t=n.val().trim();r.empty(),c(t,e,r)}},500),!1})}function f(t){return t.trim().split("\n").map(function(t){return t.trim()}).join("\n")}function h(){$(".matcrab-variable-target-exercise").filter(function(){return!$(this).data("rendered")}).each(function(){var t,n,r={};$(this).find(".matcrab-variable-target").each(function(){var t=$(this),n=f(t.html()),a=u.parse(n),o=new e.Environment,c=e.CodeConstruct.create(a,o).execute();i.assert("success"===c.kind),r[t.data("name")]=c.value}).remove();var a=null!==(t=$(this).find(".matcrab-exercise-question").html())&&void 0!==t?t:"";a=a.trim(),$(this).find(".matcrab-exercise-question").remove();var c=null!==(n=$(this).find(".matcrab-exercise-complete").html())&&void 0!==n?n:"";c=c.trim(),$(this).find(".matcrab-exercise-complete").remove();var h=new e.Environment($(this).find(".matcrab-workspace")),p=f($(this).find(".matcrab-setup").html()||""),d=u.parse(p);(!d.statements||d.statements.length>0)&&e.CodeConstruct.create(d,h).execute(),$(this).find(".matcrab-setup").remove(),new o($(this).find(".matcrab-exercise-status"),h,r,a,c);var v=$(this).find(".matcrab-reset"),g=$(this).find(".matcrab-run"),m=$(this).find(".matcrab-entry"),_=$(this).find(".matcrab-vis");s(m,_,h),l(g,m,_,h),v.on("click",function(t){h.clear(),(!d.statements||d.statements.length>0)&&e.CodeConstruct.create(d,h).execute()})}).data("rendered",!0),$(".matcrab-vis-exp").filter(function(){return!$(this).data("rendered")}).each(function(){var t=$(this).html();t=f(t),console.log(t);var n=u.parse(t),r=new e.Environment,i=e.CodeConstruct.create(n,r);i.execute(),$(this).html(i.visualize_html())}).data("rendered",!0),$(".matcrab-example").filter(function(){return!$(this).data("rendered")}).each(function(){var t=this,n=$(this).find(".matcrab-reset"),r=$(this).find(".matcrab-run"),i=$(this).find(".matcrab-entry"),a=$(this).find(".matcrab-vis"),o=new e.Environment($(this).find(".matcrab-workspace")),h=f($(this).find(".matcrab-setup").html()||""),p=u.parse(h);(!p.statements||p.statements.length>0)&&e.CodeConstruct.create(p,o).execute(),$(this).find(".matcrab-setup").remove();var d=i.val();"string"==typeof d&&i.val(f(d));var v="";void 0!==i.val()&&(v=i.val().trim(),a.empty(),c(v,o,a)),s(i,a,o),l(r,i,a,o),n.on("click",function(n){$(t).find(".matcrab-workspace").empty(),o=new e.Environment($(t).find(".matcrab-workspace")),(!p.statements||p.statements.length>0)&&e.CodeConstruct.create(p,o).execute(),i.val(v),a.empty(),c(v,o,a)})}).data("rendered",!0)}$(document).ready(h),setTimeout(h,1e3),setTimeout(h,2e3),setTimeout(h,5e3),setTimeout(h,1e4)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CdW5kbGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQnVuZGxlLy4vc3JjL2pzL3V0aWwvdXRpbC50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvbWF0bGFiX3BhcnNlci50cyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvbWF0bGFiLnRzIiwid2VicGFjazovL0J1bmRsZS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbG9kYXNoLmpzIiwid2VicGFjazovL0J1bmRsZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vQnVuZGxlLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly9CdW5kbGUvLi9zcmMvanMvZXhlcmNpc2VzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiTWF0bGFiTWF0aCIsImFzTXV0YWJsZSIsIm9iaiIsImFzc2VydCIsImNvbmRpdGlvbiIsIm1lc3NhZ2UiLCJFcnJvciIsImNsb25lQXJyYXkiLCJhcnIiLCJzbGljZSIsImdldFF1ZXJ5U3RyaW5nIiwicXVlcnlfc3RyaW5nIiwidmFycyIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJsZW5ndGgiLCJwYWlyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicHVzaCIsInNlZWQiLCJzZWVkZWRSYW5kb20iLCJtaW4iLCJtYXgiLCJybmQiLCJNYXRoIiwic2V0UmFuZG9tU2VlZCIsIm5ld1NlZWQiLCJyYW5kb20iLCJyYW5kb21JbnRlZ2VyIiwiY2VpbCIsImZsb29yIiwicmFuZG9tSW50ZWdlckluY2x1c2l2ZSIsInJhbmdlIiwic3RhcnQiLCJlbmQiLCJzdGVwIiwiQ29sb3IiLCJXSElURSIsIkxJR0hUX0xFVFRFUlMiLCJ0b0NvbG9yIiwibGV0dGVycyIsInN0ciIsInRvU3RyaW5nIiwiaGFzaCIsImNoYXJDb2RlQXQiLCJjb2xvciIsInNlZWRlZFJhbmRvbUNvbG9yIiwiYWJzIiwicmFuZG9tQ29sb3IiLCJTeW50YXhFcnJvciIsIl9zdXBlciIsImV4cGVjdGVkIiwiZm91bmQiLCJfdGhpcyIsInRoaXMiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIl9fZXh0ZW5kcyIsImJ1aWxkTWVzc2FnZSIsImhleCIsImNoIiwidG9VcHBlckNhc2UiLCJsaXRlcmFsRXNjYXBlIiwicmVwbGFjZSIsImNsYXNzRXNjYXBlIiwiZGVzY3JpYmVFeHBlY3RhdGlvbiIsImV4cGVjdGF0aW9uIiwidHlwZSIsInRleHQiLCJlc2NhcGVkUGFydHMiLCJwYXJ0cyIsIm1hcCIsInBhcnQiLCJBcnJheSIsImlzQXJyYXkiLCJpbnZlcnRlZCIsImRlc2NyaXB0aW9uIiwiZXhwZWN0ZWQxIiwiaiIsImRlc2NyaXB0aW9ucyIsInNvcnQiLCJqb2luIiwiZGVzY3JpYmVFeHBlY3RlZCIsImZvdW5kMSIsInBhcnNlIiwiaW5wdXQiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwicGVnJHJlc3VsdCIsInBlZyRGQUlMRUQiLCJwZWckc3RhcnRSdWxlRnVuY3Rpb25zIiwicGVnJHBhcnNlc3RhcnQiLCJwZWckc3RhcnRSdWxlRnVuY3Rpb24iLCJwZWckYzAiLCJwZWckYzEiLCJwZWckbGl0ZXJhbEV4cGVjdGF0aW9uIiwicGVnJGMyIiwicGVnJGMzIiwicGVnJGNsYXNzRXhwZWN0YXRpb24iLCJwZWckYzQiLCJwZWckYzUiLCJzdGF0ZW1lbnRzIiwid2hhdCIsInBlZyRjNiIsInBlZyRjNyIsInBlZyRjOCIsImUiLCJsaHMiLCJyaHMiLCJwZWckYzkiLCJpZGVudGlmaWVyIiwiZXhwIiwicGVnJGMxMCIsInBlZyRjMTEiLCJwZWckYzEyIiwicGVnJGMxMyIsInBlZyRjMTQiLCJoZWFkIiwicGVnJGMxNSIsInBlZyRjMTYiLCJwZWckYzE3IiwidGFpbCIsInVuc2hpZnQiLCJyb3dzIiwicGVnJGMxOCIsInBlZyRjMTkiLCJwZWckYzIwIiwicGVnJGMyMSIsImNvbHMiLCJwZWckYzIyIiwicGVnJGMyMyIsInBlZyRjMjQiLCJlMSIsImUyIiwicGVnJGMyNSIsImUzIiwicGVnJGMyNiIsInBlZyRjMjciLCJwZWckYzI4Iiwib3AiLCJwZWckYzI5IiwiY29tcG9zZUJpbmFyeU9wIiwicGVnJGMzMCIsInBlZyRjMzEiLCJwZWckYzMyIiwicGVnJGMzMyIsInBlZyRjMzQiLCJwZWckYzM1IiwicGVnJGMzNiIsInBlZyRjMzciLCJwZWckYzM4IiwicGVnJGMzOSIsInBlZyRjNDAiLCJwZWckYzQxIiwicGVnJGM0MiIsInBlZyRjNDMiLCJwZWckYzQ0IiwicGVnJGM0NSIsInBlZyRjNDYiLCJwZWckYzQ3IiwicGVnJGM0OCIsInBlZyRjNDkiLCJwZWckYzUwIiwicGVnJGM1MSIsInBlZyRjNTIiLCJwZWckYzUzIiwicGVnJGM1NCIsInBlZyRjNTUiLCJwZWckYzU2IiwicGVnJGM1NyIsInBlZyRjNTgiLCJwZWckYzU5IiwicGVnJGM2MCIsInBlZyRjNjEiLCJwZWckYzYyIiwicGVnJGM2MyIsInBlZyRjNjQiLCJwZWckYzY1IiwicGVnJGM2NiIsInBlZyRjNjciLCJzdWIiLCJwZWckYzY4IiwicGVnJGM2OSIsInBlZyRjNzAiLCJ0cmFucyIsInRyYW5zcG9zZXMiLCJwZWckYzcxIiwicGVnJGM3MiIsInBlZyRjNzMiLCJ0YXJnZXQiLCJhIiwicGVnJGM3NCIsInBlZyRjNzUiLCJwZWckYzc2IiwiYXJncyIsInBlZyRjNzciLCJwZWckYzc4IiwicGVnJGM3OSIsInBlZyRjODAiLCJwZWckYzgxIiwicGVnJGM4MiIsInBlZyRjODMiLCJwZWckYzg0IiwibmVnIiwiZGlnaXRzIiwiaW5kZXhPZiIsImxhc3RJbmRleE9mIiwicGVnJGM4NSIsInBhcnNlRmxvYXQiLCJwZWckYzg2IiwicGVnJG90aGVyRXhwZWN0YXRpb24iLCJwZWckYzg3IiwicGVnJGM4OCIsInBlZyRjODkiLCJwYXJzZUludCIsInBlZyRjOTAiLCJwZWckYzkxIiwiZmlyc3QiLCJyZXN0IiwicGVnJGM5MiIsInBlZyRjOTMiLCJwZWckYzk0IiwicGVnJGM5NSIsInBlZyRjOTYiLCJwZWckYzk3IiwicGVnJGM5OCIsInBlZyRjdXJyUG9zIiwicGVnJHBvc0RldGFpbHNDYWNoZSIsImxpbmUiLCJjb2x1bW4iLCJwZWckbWF4RmFpbFBvcyIsInBlZyRtYXhGYWlsRXhwZWN0ZWQiLCJwZWckc2lsZW50RmFpbHMiLCJzdGFydFJ1bGUiLCJ0ZXh0MSIsImlnbm9yZUNhc2UiLCJwZWckY29tcHV0ZVBvc0RldGFpbHMiLCJwb3MiLCJkZXRhaWxzIiwicGVnJGNvbXB1dGVMb2NhdGlvbiIsInN0YXJ0UG9zIiwiZW5kUG9zIiwic3RhcnRQb3NEZXRhaWxzIiwiZW5kUG9zRGV0YWlscyIsIm9mZnNldCIsInBlZyRmYWlsIiwicGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yIiwibG9jYXRpb24xIiwiczAiLCJzMSIsInMyIiwiczMiLCJzNCIsInM1IiwiczYiLCJwZWckcGFyc2VfIiwicGVnJHBhcnNlU3RhdGVtZW50IiwidGVzdCIsImNoYXJBdCIsInBlZyRwYXJzZV9fIiwicGVnJHBhcnNlU3RhdGVtZW50R3JvdXAiLCJwZWckcGFyc2VDYWxsRXhwIiwicGVnJHBhcnNlRXhwIiwicGVnJHBhcnNlSWRlbnRpZmllciIsInBlZyRwYXJzZUFzc2lnbm1lbnRTdGF0ZW1lbnQiLCJwZWckcGFyc2VSb3dFeHAiLCJzNyIsInM4IiwiczEwIiwicGVnJHBhcnNlT3JFeHAiLCJwZWckcGFyc2VSYW5nZUV4cCIsInBlZyRwYXJzZVByaW1hcnlFeHAiLCJwZWckcGFyc2VBbmRFeHAiLCJwZWckcGFyc2VFcUV4cCIsInBlZyRwYXJzZVJlbEV4cCIsInN1YnN0ciIsInBlZyRwYXJzZUFkZEV4cCIsInBlZyRwYXJzZU11bHRFeHAiLCJwZWckcGFyc2VVbmFyeUV4cCIsInBlZyRwYXJzZVBvc3RmaXhFeHAiLCJzOSIsInMxMSIsInBlZyRwYXJzZUluZGV4RXhwIiwicGVnJHBhcnNlTWF0cml4RXhwIiwicGVnJHBhcnNlRmxvYXQiLCJwZWckcGFyc2VJbnRlZ2VyIiwicGVnJHBhcnNlTnVtYmVyIiwicGVnJHBhcnNlSWRlbnRpZmllckZpcnN0Q2hhciIsInBlZyRwYXJzZUlkZW50aWZpZXJDaGFyIiwiYXNzb2MiLCJleHByVHlwZSIsInJpZ2h0IiwicG9wIiwibGVmdCIsImFzc29jaWF0aXZpdHkiLCJzaGlmdCIsInV0aWxfMSIsImxvZGFzaF8xIiwiTWF0bGFiRXJyb3IiLCJjb25zdHJ1Y3QiLCJNYXRyaXgiLCJkYXRhIiwiZGF0YVR5cGUiLCJudW1EaW1zIiwiaGVpZ2h0Iiwid2lkdGgiLCJudW1lbCIsImlzU2NhbGFyIiwiaXNWZWN0b3IiLCJmb3JtYXROdW1iZXIiLCJudW0iLCJ0cnVuYyIsInRvUHJlY2lzaW9uIiwic2NhbGFyIiwiY3JlYXRlU2l6ZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiY2xvbmUiLCJlcXVhbHMiLCJvdGhlciIsImV2ZXJ5IiwibGluZWFySW5kZXgiLCJyb3ciLCJjb2wiLCJhdExpbmVhciIsImluZGV4Iiwic2V0TGluZWFyIiwiYXQiLCJzZXRBdCIsImZpbGwiLCJzZXRBbGwiLCJvcGVyYXRlQWxsIiwib3BlcmF0ZSIsImRpbWVuc2lvbiIsInNjYWxhclZhbHVlIiwiY29udGFpbnMiLCJjb2xEYXRhIiwic2V0Q29sRGF0YSIsIm5ld0RhdGEiLCJyb3dEYXRhIiwic2V0Um93RGF0YSIsImFjY3VtdWxhdGVDb2xzIiwicmVkdWNlIiwiYWNjdW11bGF0ZVJvd3MiLCJ2aXN1YWxpemVfaHRtbCIsInRhYmxlIiwiJCIsImFkZENsYXNzIiwiY3NzIiwidHIiLCJhcHBlbmQiLCJ0ZCIsInRlbXAiLCJ0ZW1wU3BhbiIsImh0bWwiLCJvdXRlckhUTUwiLCJTdWJhcnJheSIsIkNvb3JkaW5hdGVTdWJhcnJheSIsInJvd0luZGV4ZXIiLCJjb2xJbmRleGVyIiwicm93SW5kaWNlcyIsImNvbEluZGljZXMiLCJDb29yZGluYXRlSW5kZXhlciIsImluZGV4aW5nVGV4dCIsInZpc3VhbGl6ZV9zZWxlY3Rpb24iLCJtYXRyaXgiLCJyb3dJbmRpY2VzU2V0IiwiU2V0IiwiZ2V0U2VsZWN0ZWRJbmRpY2VzIiwiY29sSW5kaWNlc1NldCIsImNvbHVtbkluZGljZXMiLCJhcHBlbmRUbyIsImNfMSIsImNvbHVtbkluZGV4RWxlbSIsImhhcyIsInJvd0luZGV4RWxlbSIsInJlYWRWYWx1ZSIsInNvdXJjZSIsImZvckVhY2giLCJzZWxlY3RlZENvbCIsInNlbGVjdGVkUm93IiwiYXNzaWduIiwic2VsZWN0aW9uUm93cyIsInNlbGVjdGlvbkNvbHMiLCJzZWxlY3Rpb25OdW1lbCIsImlfMSIsInZlcmlmeSIsIm1hdCIsInNlbGVjdGVkSW5kaWNlcyIsIkFsbENvb3JkaW5hdGVJbmRleGVyIiwiTG9naWNhbENvb3JkaW5hdGVJbmRleGVyIiwiUmVndWxhckNvb3JkaW5hdGVJbmRleGVyIiwiRElNRU5TSU9OX05BTUVTIiwiZGltTGVuIiwibG9naWNhbFNlbGVjdGlvbiIsImxvZ2ljYWxWYWx1ZSIsImxvZ2ljYWxMZW5ndGgiLCJMaW5lYXJTdWJhcnJheSIsImluZGljZXMiLCJBbGxMaW5lYXJTdWJhcnJheSIsIkxvZ2ljYWxMaW5lYXJTdWJhcnJheSIsIlJlZ3VsYXJMaW5lYXJTdWJhcnJheSIsInNfMSIsInZhbHVlSW5kZXgiLCJpbmRpY2VzU2V0IiwicmF3SW5kZXhFbGVtIiwibWF0TGVuZ3RoIiwic2VsZWN0ZWREYXRhIiwic2NhbGFyVmFsdWVfMSIsInNlbGVjdGVkSW5kZXgiLCJpc1NlbGVjdGVkIiwibG9naWNhbEluZGV4RWxlbSIsIlZhcmlhYmxlIiwiZWxlbSIsInByZXBlbmQiLCJ2YWx1ZUVsZW0iLCJyZWZyZXNoIiwiaG9sZGVyIiwiZmluZCIsImVtcHR5Iiwic2V0VmFsdWUiLCJNYXRsYWJGdW5jdGlvbiIsIm51bUFyZ3MiLCJmdW5jIiwic3VjY2Vzc1Jlc3VsdCIsIm1zZyIsImVycm9yUmVzdWx0IiwiaXNWYWxpZE51bWJlck9mQXJncyIsIkFSR1NfSU5GIiwiY3JlYXRlU2l6ZWRNYXRyaXgiLCJhcmciLCJzaXplIiwibnVtUm93cyIsIm51bUNvbHMiLCJtYXRyaXhBY2N1bXVsYXRpb24iLCJkaW0iLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJtYXRyaXhVbmFyeUZ1bmN0aW9uIiwibWF0cml4RmxpcHVkIiwib3JpZyIsIm5ld01hdCIsInJfb3JpZyIsInJfbmV3IiwibWF0cml4RmxpcGxyIiwiY19vcmlnIiwiY19uZXciLCJNQVRMQUJfRlVOQ1RJT05TIiwiZmxpcGxyIiwiZmxpcHVkIiwiZmxpcCIsInJvdDkwIiwiemVyb3MiLCJvbmVzIiwiZXllIiwiZGlhZ19sZW4iLCJyYW5kaSIsInJhbmdlTWF0IiwidiIsImxpbnNwYWNlIiwic3RlcFNpemUiLCJtYWdpYyIsInZhbCIsInN1bSIsImIiLCJwcm9kIiwic3FydCIsInNpbiIsImNvcyIsInRhbiIsImFzaW4iLCJhY29zIiwiYXRhbiIsInNpbmgiLCJjb3NoIiwidGFuaCIsImFzaW5oIiwiYWNvc2giLCJhdGFuaCIsImRpc3BsYXkiLCJpbXNob3ciLCJlbnYiLCJFbnZpcm9ubWVudCIsImltc2hvd0NhbnZhcyIsImZ1bmN0aW9uTmFtZSIsImZ1bmN0aW9ucyIsImVuZFZhbHVlU3RhY2siLCJsaXN0ZW5lcnMiLCJpbXNob3dGaWd1cmUiLCJJbXNob3dGaWd1cmUiLCJzZXRGdW5jdGlvbiIsInNldEdsb2JhbEVudmlyb25tZW50IiwiZ2xvYmFsIiwiaGFzVmFyIiwibG9va3VwIiwidmFyaSIsInZhckxvb2t1cCIsImZ1bmN0aW9uTG9va3VwIiwic2V0VmFyIiwib25WYXJpYWJsZVNldCIsInZhclVwZGF0ZWQiLCJwdXNoRW5kVmFsdWUiLCJwb3BFbmRWYWx1ZSIsImdldEVuZFZhbHVlIiwiX2EiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwiY2xlYXIiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImltZ0RhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJwdXRJbWFnZURhdGEiLCJDb2RlQ29uc3RydWN0IiwiYXN0IiwiY3JlYXRlUmVkWCIsIlN0YXRlbWVudEdyb3VwIiwiQXNzaWdubWVudCIsIkluZGV4ZWRBc3NpZ25tZW50IiwiRXhwcmVzc2lvbiIsIlVORVhFQ1VURUQiLCJraW5kIiwiYWxsU3VjY2VzcyIsInJlc3VsdHMiLCJlcnJvciIsImFwcGx5IiwiYXJndW1lbnRzIiwicmVzdWx0IiwiZ3JhbW1hclRvU3ViY2xhc3MiLCJzZXRSZXN1bHQiLCJleGVjdXRlIiwicmVzIiwiZXZhbHVhdGUiLCJleHByIiwidmlzdWFsaXplX2V4cHIiLCJib3R0b20iLCJtYXRyaXhfZXhwIiwiTWF0cml4RXhwcmVzc2lvbiIsInJvd19leHAiLCJSb3dFeHByZXNzaW9uIiwicmFuZ2VfZXhwIiwiUmFuZ2VFeHByZXNzaW9uIiwib3JfZXhwIiwiTWF0cml4T3JFeHByZXNzaW9uIiwiYW5kX2V4cCIsIk1hdHJpeEFuZEV4cHJlc3Npb24iLCJlcV9leHAiLCJFcXVhbGl0eUV4cHJlc3Npb24iLCJyZWxfZXhwIiwiUmVsYXRpb25hbEV4cHJlc3Npb24iLCJhZGRfZXhwIiwiQWRkRXhwcmVzc2lvbiIsIm11bHRfZXhwIiwiTXVsdEV4cHJlc3Npb24iLCJ1bmFyeV9leHAiLCJVbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiIsInRyYW5zcG9zZV9leHAiLCJUcmFuc3Bvc2VFeHByZXNzaW9uIiwiY2FsbF9leHAiLCJJbmRleE9yQ2FsbEV4cHJlc3Npb24iLCJjb2xvbl9leHAiLCJDb2xvbkV4cHJlc3Npb24iLCJlbmRfZXhwIiwiRW5kRXhwcmVzc2lvbiIsImludGVnZXIiLCJMaXRlcmFsRXhwcmVzc2lvbiIsImZsb2F0IiwiSWRlbnRpZmllckV4cHJlc3Npb24iLCJyaHNSZXN1bHQiLCJ1cGRhdGVkVmFsdWUiLCJ0b3AiLCJ0YXJnZXROYW1lIiwiaW5kaWNpZXMiLCJvcmlnaW5hbE1hdHJpeCIsImluZGljZXNSZXN1bHRzIiwic3ViYXJyYXlSZXN1bHQiLCJ1cGRhdGVkTWF0cml4Iiwic0FzdCIsInN0YXRlbWVudCIsImxhc3RTdGF0ZW1lbnRFeGVjdXRlZCIsInJvd1Jlc3VsdHMiLCJhcHBlbmRfcm93cyIsIm1hdHMiLCJuZXdDb2xzIiwibmV3Um93cyIsImNvbmNhdCIsInNvbWUiLCJjb250YWluZWQiLCJjb2xSZXN1bHRzIiwiYXBwZW5kX2NvbHMiLCJwcmV2IiwiY3VycmVudCIsInN0YXJ0UmVzdWx0IiwiZW5kUmVzdWx0Iiwic3RlcFJlc3VsdCIsIngiLCJyZXN1bHRIdG1sIiwicm93SHRtbCIsInNjYWxhckh0bWwiLCJCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24iLCJsZWZ0UmVzdWx0IiwicmlnaHRSZXN1bHQiLCJvcGVyYW5kRXJyb3IiLCJjaGVja09wZXJhbmRzIiwiYmluYXJ5T3AiLCJvcGVyYXRvcnMiLCJsZWZ0TWF0IiwicmlnaHRNYXQiLCJsZWZ0U2NhbGFyIiwicmlnaHRTY2FsYXIiLCIrIiwiLSIsIioiLCIvIiwiLioiLCIuLyIsIi5eIiwicG93IiwifCIsIiYiLCI9PSIsIn49IiwiPCIsIjw9IiwiPiIsIj49IiwifiIsIm9wZXJhdG9yRGF0YVR5cGVzIiwib3BlcmFuZCIsIm9wZXJhbmRSZXN1bHQiLCJjaGVja09wZXJhbmQiLCJ1bmFyeU9wIiwibnVtVHJhbnNwb3NlcyIsIm9sZE1hdCIsImluZGljaWVzT3JBcmdzIiwiZXhlY3V0ZWRGdW5jdGlvbiIsImFyZ1Jlc3VsdHMiLCJhcmdSZXMiLCJ0YXJnZXRfMSIsIm51bVN0ciIsImxpdGVyYWxWYWx1ZSIsImVuZFZhbHVlIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJMQVJHRV9BUlJBWV9TSVpFIiwiQ09SRV9FUlJPUl9URVhUIiwiRlVOQ19FUlJPUl9URVhUIiwiSEFTSF9VTkRFRklORUQiLCJNQVhfTUVNT0laRV9TSVpFIiwiUExBQ0VIT0xERVIiLCJDTE9ORV9ERUVQX0ZMQUciLCJDTE9ORV9GTEFUX0ZMQUciLCJDTE9ORV9TWU1CT0xTX0ZMQUciLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsIkNPTVBBUkVfVU5PUkRFUkVEX0ZMQUciLCJXUkFQX0JJTkRfRkxBRyIsIldSQVBfQklORF9LRVlfRkxBRyIsIldSQVBfQ1VSUllfQk9VTkRfRkxBRyIsIldSQVBfQ1VSUllfRkxBRyIsIldSQVBfQ1VSUllfUklHSFRfRkxBRyIsIldSQVBfUEFSVElBTF9GTEFHIiwiV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUciLCJXUkFQX0FSWV9GTEFHIiwiV1JBUF9SRUFSR19GTEFHIiwiV1JBUF9GTElQX0ZMQUciLCJERUZBVUxUX1RSVU5DX0xFTkdUSCIsIkRFRkFVTFRfVFJVTkNfT01JU1NJT04iLCJIT1RfQ09VTlQiLCJIT1RfU1BBTiIsIkxBWllfRklMVEVSX0ZMQUciLCJMQVpZX01BUF9GTEFHIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJNQVhfQVJSQVlfTEVOR1RIIiwiTUFYX0FSUkFZX0lOREVYIiwiSEFMRl9NQVhfQVJSQVlfTEVOR1RIIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYXN5bmNUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImRvbUV4Y1RhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm51bGxUYWciLCJvYmplY3RUYWciLCJwcm94eVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsInVuZGVmaW5lZFRhZyIsIndlYWtNYXBUYWciLCJ3ZWFrU2V0VGFnIiwiYXJyYXlCdWZmZXJUYWciLCJkYXRhVmlld1RhZyIsImZsb2F0MzJUYWciLCJmbG9hdDY0VGFnIiwiaW50OFRhZyIsImludDE2VGFnIiwiaW50MzJUYWciLCJ1aW50OFRhZyIsInVpbnQ4Q2xhbXBlZFRhZyIsInVpbnQxNlRhZyIsInVpbnQzMlRhZyIsInJlRW1wdHlTdHJpbmdMZWFkaW5nIiwicmVFbXB0eVN0cmluZ01pZGRsZSIsInJlRW1wdHlTdHJpbmdUcmFpbGluZyIsInJlRXNjYXBlZEh0bWwiLCJyZVVuZXNjYXBlZEh0bWwiLCJyZUhhc0VzY2FwZWRIdG1sIiwiUmVnRXhwIiwicmVIYXNVbmVzY2FwZWRIdG1sIiwicmVFc2NhcGUiLCJyZUV2YWx1YXRlIiwicmVJbnRlcnBvbGF0ZSIsInJlSXNEZWVwUHJvcCIsInJlSXNQbGFpblByb3AiLCJyZVByb3BOYW1lIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwicmVUcmltIiwicmVUcmltU3RhcnQiLCJyZVRyaW1FbmQiLCJyZVdyYXBDb21tZW50IiwicmVXcmFwRGV0YWlscyIsInJlU3BsaXREZXRhaWxzIiwicmVBc2NpaVdvcmQiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyZU9wdE1vZCIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJcXCIsIiciLCJcbiIsIlxyIiwi4oCoIiwi4oCpIiwiZnJlZVBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJzZWxmIiwicm9vdCIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJub2RlVHlwZSIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiZnJlZVByb2Nlc3MiLCJwcm9jZXNzIiwibm9kZVV0aWwiLCJ0eXBlcyIsInJlcXVpcmUiLCJiaW5kaW5nIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwiYXJyYXkiLCJzZXR0ZXIiLCJpdGVyYXRlZSIsImFjY3VtdWxhdG9yIiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiY29tcGFyYXRvciIsImFycmF5TWFwIiwiYXJyYXlQdXNoIiwidmFsdWVzIiwiYXJyYXlSZWR1Y2UiLCJpbml0QWNjdW0iLCJhcnJheVJlZHVjZVJpZ2h0IiwiYXJyYXlTb21lIiwiYXNjaWlTaXplIiwiYmFzZVByb3BlcnR5IiwiYmFzZUZpbmRLZXkiLCJjb2xsZWN0aW9uIiwiZWFjaEZ1bmMiLCJiYXNlRmluZEluZGV4IiwiZnJvbUluZGV4IiwiZnJvbVJpZ2h0Iiwic3RyaWN0SW5kZXhPZiIsImJhc2VJc05hTiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VNZWFuIiwiYmFzZVN1bSIsImJhc2VQcm9wZXJ0eU9mIiwiYmFzZVJlZHVjZSIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJwcm9wcyIsImNhY2hlSGFzIiwiY2FjaGUiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJkZWJ1cnJMZXR0ZXIiLCLDgCIsIsOBIiwiw4IiLCLDgyIsIsOEIiwiw4UiLCLDoCIsIsOhIiwiw6IiLCLDoyIsIsOkIiwiw6UiLCLDhyIsIsOnIiwiw5AiLCLDsCIsIsOIIiwiw4kiLCLDiiIsIsOLIiwiw6giLCLDqSIsIsOqIiwiw6siLCLDjCIsIsONIiwiw44iLCLDjyIsIsOsIiwiw60iLCLDriIsIsOvIiwiw5EiLCLDsSIsIsOSIiwiw5MiLCLDlCIsIsOVIiwiw5YiLCLDmCIsIsOyIiwiw7MiLCLDtCIsIsO1Iiwiw7YiLCLDuCIsIsOZIiwiw5oiLCLDmyIsIsOcIiwiw7kiLCLDuiIsIsO7Iiwiw7wiLCLDnSIsIsO9Iiwiw78iLCLDhiIsIsOmIiwiw54iLCLDviIsIsOfIiwixIAiLCLEgiIsIsSEIiwixIEiLCLEgyIsIsSFIiwixIYiLCLEiCIsIsSKIiwixIwiLCLEhyIsIsSJIiwixIsiLCLEjSIsIsSOIiwixJAiLCLEjyIsIsSRIiwixJIiLCLElCIsIsSWIiwixJgiLCLEmiIsIsSTIiwixJUiLCLElyIsIsSZIiwixJsiLCLEnCIsIsSeIiwixKAiLCLEoiIsIsSdIiwixJ8iLCLEoSIsIsSjIiwixKQiLCLEpiIsIsSlIiwixKciLCLEqCIsIsSqIiwixKwiLCLEriIsIsSwIiwixKkiLCLEqyIsIsStIiwixK8iLCLEsSIsIsS0IiwixLUiLCLEtiIsIsS3IiwixLgiLCLEuSIsIsS7IiwixL0iLCLEvyIsIsWBIiwixLoiLCLEvCIsIsS+IiwixYAiLCLFgiIsIsWDIiwixYUiLCLFhyIsIsWKIiwixYQiLCLFhiIsIsWIIiwixYsiLCLFjCIsIsWOIiwixZAiLCLFjSIsIsWPIiwixZEiLCLFlCIsIsWWIiwixZgiLCLFlSIsIsWXIiwixZkiLCLFmiIsIsWcIiwixZ4iLCLFoCIsIsWbIiwixZ0iLCLFnyIsIsWhIiwixaIiLCLFpCIsIsWmIiwixaMiLCLFpSIsIsWnIiwixagiLCLFqiIsIsWsIiwixa4iLCLFsCIsIsWyIiwixakiLCLFqyIsIsWtIiwixa8iLCLFsSIsIsWzIiwixbQiLCLFtSIsIsW2IiwixbciLCLFuCIsIsW5IiwixbsiLCLFvSIsIsW6IiwixbwiLCLFviIsIsSyIiwixLMiLCLFkiIsIsWTIiwixYkiLCLFvyIsImVzY2FwZUh0bWxDaGFyIiwiXCIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInN0cmluZyIsIm1hcFRvQXJyYXkiLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwicmVwbGFjZUhvbGRlcnMiLCJwbGFjZWhvbGRlciIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsIm1hdGNoIiwidW5pY29kZVRvQXJyYXkiLCJhc2NpaVRvQXJyYXkiLCJ1bmVzY2FwZUh0bWxDaGFyIiwiJmFtcDsiLCImbHQ7IiwiJmd0OyIsIiZxdW90OyIsIiYjMzk7IiwiXyIsInJ1bkluQ29udGV4dCIsInVpZCIsImRlZmF1bHRzIiwicGljayIsIkRhdGUiLCJTdHJpbmciLCJUeXBlRXJyb3IiLCJhcnJheVByb3RvIiwiZnVuY1Byb3RvIiwib2JqZWN0UHJvdG8iLCJjb3JlSnNEYXRhIiwiZnVuY1RvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcGxpY2UiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3R4Tm93Iiwibm93IiwiY3R4U2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwiaXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm5hdGl2ZU1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsInJldmVyc2UiLCJEYXRhVmlldyIsIk1hcCIsIlByb21pc2UiLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwibWV0YU1hcCIsInJlYWxOYW1lcyIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsInN5bWJvbFRvU3RyaW5nIiwibG9kYXNoIiwiaXNPYmplY3RMaWtlIiwiTGF6eVdyYXBwZXIiLCJMb2Rhc2hXcmFwcGVyIiwid3JhcHBlckNsb25lIiwiYmFzZUNyZWF0ZSIsInByb3RvIiwiaXNPYmplY3QiLCJiYXNlTG9kYXNoIiwiY2hhaW5BbGwiLCJfX3dyYXBwZWRfXyIsIl9fYWN0aW9uc19fIiwiX19jaGFpbl9fIiwiX19pbmRleF9fIiwiX192YWx1ZXNfXyIsIl9fZGlyX18iLCJfX2ZpbHRlcmVkX18iLCJfX2l0ZXJhdGVlc19fIiwiX190YWtlQ291bnRfXyIsIl9fdmlld3NfXyIsIkhhc2giLCJlbnRyaWVzIiwiZW50cnkiLCJMaXN0Q2FjaGUiLCJNYXBDYWNoZSIsIlNldENhY2hlIiwiX19kYXRhX18iLCJhZGQiLCJTdGFjayIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImJhc2VBdCIsInBhdGhzIiwic2tpcCIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsInN0YWNrIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiY29uc3RydWN0b3IiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiZ2V0U3ltYm9sc0luIiwiY29weVN5bWJvbHNJbiIsImtleXNJbiIsImJhc2VBc3NpZ25JbiIsImdldFN5bWJvbHMiLCJjb3B5U3ltYm9scyIsInN5bWJvbCIsIkN0b3IiLCJjbG9uZUFycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJyZWdleHAiLCJjbG9uZVJlZ0V4cCIsImluaXRDbG9uZUJ5VGFnIiwic3RhY2tlZCIsInN1YlZhbHVlIiwiZ2V0QWxsS2V5c0luIiwiZ2V0QWxsS2V5cyIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJlc2NhcGUiLCJpbnRlcnBvbGF0ZSIsInZhcmlhYmxlIiwiaW1wb3J0cyIsImdldE1hcERhdGEiLCJwYWlycyIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJiYXNlSGFzIiwiYmFzZUhhc0luIiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwiSW5maW5pdHkiLCJzZWVuIiwiYmFzZUludm9rZSIsInBhcmVudCIsImxhc3QiLCJiYXNlSXNBcmd1bWVudHMiLCJiYXNlSXNFcXVhbCIsImVxdWFsRnVuYyIsIm9iaklzQXJyIiwib3RoSXNBcnIiLCJvYmpUYWciLCJvdGhUYWciLCJvYmpJc09iaiIsIm90aElzT2JqIiwiaXNTYW1lVGFnIiwiZXF1YWxBcnJheXMiLCJjb252ZXJ0IiwiaXNQYXJ0aWFsIiwiZXF1YWxCeVRhZyIsIm9iaklzV3JhcHBlZCIsIm90aElzV3JhcHBlZCIsIm9ialVud3JhcHBlZCIsIm90aFVud3JhcHBlZCIsIm9ialByb3BzIiwib2JqTGVuZ3RoIiwic2tpcEN0b3IiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJiYXNlSXNNYXRjaCIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsInNyY1ZhbHVlIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwiY29tcGFyZXIiLCJiYXNlU29ydEJ5IiwiY3JpdGVyaWEiLCJvYmpDcml0ZXJpYSIsIm90aENyaXRlcmlhIiwib3JkZXJzTGVuZ3RoIiwiY29tcGFyZUFzY2VuZGluZyIsIm9yZGVyIiwiY29tcGFyZU11bHRpcGxlIiwiYmFzZVBpY2tCeSIsImJhc2VTZXQiLCJiYXNlUHVsbEFsbCIsImJhc2VQdWxsQXQiLCJpbmRleGVzIiwicHJldmlvdXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwiaGlnaCIsIm1pZCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYWN0aW9uIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsImlkIiwiY29weSIsImFycmF5QnVmZmVyIiwidHlwZWRBcnJheSIsInZhbElzRGVmaW5lZCIsInZhbElzUmVmbGV4aXZlIiwiY29tcG9zZUFyZ3MiLCJwYXJ0aWFscyIsImhvbGRlcnMiLCJpc0N1cnJpZWQiLCJhcmdzSW5kZXgiLCJhcmdzTGVuZ3RoIiwiaG9sZGVyc0xlbmd0aCIsImxlZnRJbmRleCIsImxlZnRMZW5ndGgiLCJyYW5nZUxlbmd0aCIsImlzVW5jdXJyaWVkIiwiY29tcG9zZUFyZ3NSaWdodCIsImhvbGRlcnNJbmRleCIsInJpZ2h0SW5kZXgiLCJyaWdodExlbmd0aCIsImlzTmV3IiwiY3JlYXRlQWdncmVnYXRvciIsImluaXRpYWxpemVyIiwiY3JlYXRlQXNzaWduZXIiLCJhc3NpZ25lciIsInNvdXJjZXMiLCJndWFyZCIsImlzSXRlcmF0ZWVDYWxsIiwiaXRlcmFibGUiLCJjcmVhdGVDYXNlRmlyc3QiLCJtZXRob2ROYW1lIiwidHJhaWxpbmciLCJjcmVhdGVDb21wb3VuZGVyIiwiY2FsbGJhY2siLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1Iiwid3JhcHBlciIsImdldEZ1bmNOYW1lIiwiZnVuY05hbWUiLCJnZXREYXRhIiwiaXNMYXppYWJsZSIsInBsYW50IiwiY3JlYXRlSHlicmlkIiwicGFydGlhbHNSaWdodCIsImhvbGRlcnNSaWdodCIsImFyZ1BvcyIsImFyeSIsImFyaXR5IiwiaXNBcnkiLCJpc0JpbmQiLCJpc0JpbmRLZXkiLCJpc0ZsaXAiLCJnZXRIb2xkZXIiLCJob2xkZXJzQ291bnQiLCJjb3VudEhvbGRlcnMiLCJuZXdIb2xkZXJzIiwiY3JlYXRlUmVjdXJyeSIsImZuIiwiYXJyTGVuZ3RoIiwib2xkQXJyYXkiLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsIm9wZXJhdG9yIiwiZGVmYXVsdFZhbHVlIiwiY3JlYXRlT3ZlciIsImFycmF5RnVuYyIsImNyZWF0ZVBhZGRpbmciLCJjaGFycyIsImNoYXJzTGVuZ3RoIiwiY3JlYXRlUmFuZ2UiLCJ0b0Zpbml0ZSIsImJhc2VSYW5nZSIsImNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24iLCJ0b051bWJlciIsIndyYXBGdW5jIiwiaXNDdXJyeSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsIm5vb3AiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyVmFsdWUiLCJmbGF0dGVuIiwib3RoZXJGdW5jIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJzaG9ydE91dCIsInJlZmVyZW5jZSIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImNvdW50IiwibGFzdENhbGxlZCIsInN0YW1wIiwicmVtYWluaW5nIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwicXVvdGUiLCJzdWJTdHJpbmciLCJkaWZmZXJlbmNlIiwiZGlmZmVyZW5jZUJ5IiwiZGlmZmVyZW5jZVdpdGgiLCJmaW5kSW5kZXgiLCJmaW5kTGFzdEluZGV4IiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bnppcCIsImdyb3VwIiwidW56aXBXaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcFdpdGgiLCJjaGFpbiIsImludGVyY2VwdG9yIiwid3JhcHBlckF0IiwiY291bnRCeSIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsImRlYm91bmNlIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwiaW52b2tlRnVuYyIsInRpbWUiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRpbWVyRXhwaXJlZCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJsZWFkaW5nRWRnZSIsImNhbmNlbCIsImZsdXNoIiwiZGVmZXIiLCJkZWxheSIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJDYWNoZSIsIm5lZ2F0ZSIsIm92ZXJBcmdzIiwidHJhbnNmb3JtcyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsImx0IiwibHRlIiwidG9BcnJheSIsIm5leHQiLCJkb25lIiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwibWVyZ2UiLCJvbWl0IiwiYmFzZVBpY2siLCJwaWNrQnkiLCJwcm9wIiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJ0b0xvd2VyQ2FzZSIsImNhcGl0YWxpemUiLCJ1cHBlckZpcnN0Iiwia2ViYWJDYXNlIiwibG93ZXJDYXNlIiwibG93ZXJGaXJzdCIsInNuYWtlQ2FzZSIsInN0YXJ0Q2FzZSIsInVwcGVyQ2FzZSIsInBhdHRlcm4iLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInJvdW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb21wYWN0IiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwicHJvcGVydGllcyIsImN1cnJ5IiwiY3VycnlSaWdodCIsImRyb3AiLCJkcm9wUmlnaHQiLCJkcm9wUmlnaHRXaGlsZSIsImRyb3BXaGlsZSIsImJhc2VGaWxsIiwiZmlsdGVyIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnNJbiIsImluaXRpYWwiLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWF0Y2hlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm50aEFyZyIsIm9taXRCeSIsIm9uY2UiLCJvcmRlckJ5IiwicHJvcGVydHlPZiIsInB1bGxBbGxCeSIsInB1bGxBbGxXaXRoIiwicmVqZWN0IiwicmVtb3ZlIiwic2FtcGxlU2l6ZSIsInNldFdpdGgiLCJzaHVmZmxlIiwic29ydGVkVW5pcSIsInNvcnRlZFVuaXFCeSIsInNlcGFyYXRvciIsImxpbWl0Iiwic3ByZWFkIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXEiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlIiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwid3JhcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJlbnRyaWVzSW4iLCJleHRlbmQiLCJleHRlbmRXaXRoIiwiY2xhbXAiLCJjbG9uZURlZXAiLCJjbG9uZURlZXBXaXRoIiwiY2xvbmVXaXRoIiwiY29uZm9ybXNUbyIsImRlZmF1bHRUbyIsImVuZHNXaXRoIiwicG9zaXRpb24iLCJlc2NhcGVSZWdFeHAiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hTiIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc051bGwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJwYWRTdGFydCIsInJhZGl4IiwiZmxvYXRpbmciLCJyZWR1Y2VSaWdodCIsInJlcGVhdCIsInNhbXBsZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bUJ5IiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJzb3VyY2VVUkwiLCJlc2NhcGVWYWx1ZSIsImludGVycG9sYXRlVmFsdWUiLCJlc1RlbXBsYXRlVmFsdWUiLCJldmFsdWF0ZVZhbHVlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJuZXdFbmQiLCJ1bmVzY2FwZSIsInVuaXF1ZUlkIiwicHJlZml4IiwiZWFjaCIsImVhY2hSaWdodCIsIlZFUlNJT04iLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiZGlyIiwiaXNSaWdodCIsInZpZXciLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsIndyYXBwZWQiLCJ0b0pTT04iLCJnIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwiY2hpbGRyZW4iLCJtYXRsYWJfMSIsIm1hdGxhYl9wYXJzZXJfMSIsIlZhcmlhYmxlRXhlcmNpc2UiLCJ2YXJpYWJsZU5hbWUiLCJ0YXJnZXRWYWx1ZSIsImNoZWNrIiwiaXNDb21wbGV0ZSIsIkV4ZXJjaXNlR3JvdXAiLCJ0YXJnZXRzIiwic29sdXRpb25NZXNzYWdlIiwiZXhlcmNpc2VzIiwiZXgiLCJwYXJzZUV4ZWN1dGVWaXN1YWxpemUiLCJ2aXMiLCJzcmMiLCJjYyIsImVyciIsImJpbmRFbnRyeVRvVmlzdWFsaXphdGlvbiIsImdsb2JhbFdvcmtzcGFjZSIsImV4cF9pbl90aW1lb3V0Iiwia2V5cHJlc3MiLCJrZXlDb2RlIiwid2hpY2giLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiYmluZFJ1bkJ1dHRvblRvVmlzdWFsaXphdGlvbiIsInJ1bkJ1dHRvbiIsImNsaWNrIiwidHJpbVdoaXRlc3BhY2UiLCJyZW5kZXJFeGVyY2lzZXMiLCJ0ZW1wV29ya3NwYWNlIiwicXVlc3Rpb25Nc2ciLCJjb21wbGV0ZU1zZyIsIl9iIiwiZXhlcmNpc2VXb3Jrc3BhY2UiLCJzZXR1cFNyYyIsInNldHVwQXN0IiwicmVzZXQiLCJydW4iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJleGFtcGxlV29ya3NwYWNlIiwiaW5pdGlhbFNyYyIsImRvY3VtZW50IiwicmVhZHkiXSwibWFwcGluZ3MiOiJ1QkFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEsa0NDMUNBLElBQWlCQyxrSUFyQ2pCbEMsRUFBQW1DLFVBQUEsU0FBNkJDLEdBQ3pCLE9BQW1CQSxHQUd2QnBDLEVBQUFxQyxPQUFBLFNBQXVCQyxFQUFnQkMsR0FDbkMsUUFEbUMsSUFBQUEsTUFBQSxLQUM5QkQsRUFDRCxNQUFNRSxNQUFNLGtCQUFvQkQsSUFHeEN2QyxFQUFBeUMsV0FBQSxTQUE4QkMsR0FDMUIsT0FBT0EsRUFBSUMsU0FLZjNDLEVBQUE0QyxlQUFBLFdBTUksSUFIQSxJQUFJQyxFQUFzQyxHQUV0Q0MsRUFEUUMsT0FBT0MsU0FBU0MsT0FBT0MsVUFBVSxHQUM1QkMsTUFBTSxLQUNkakQsRUFBRSxFQUFFQSxFQUFFNEMsRUFBS00sT0FBT2xELElBQUssQ0FDNUIsSUFBSW1ELEVBQU9QLEVBQUs1QyxHQUFHaUQsTUFBTSxLQUV6QixRQUFxQyxJQUExQk4sRUFBYVEsRUFBSyxJQUN6QlIsRUFBYVEsRUFBSyxJQUFNQyxtQkFBbUJELEVBQUssU0FFN0MsR0FBcUMsaUJBQTFCUixFQUFhUSxFQUFLLElBQWtCLENBQ2xELElBQUlYLEVBQU0sQ0FBRUcsRUFBYVEsRUFBSyxJQUFJQyxtQkFBbUJELEVBQUssS0FDMURSLEVBQWFRLEVBQUssSUFBTVgsT0FHeEJHLEVBQWFRLEVBQUssSUFBSUUsS0FBS0QsbUJBQW1CRCxFQUFLLEtBRzNELE9BQU9SLEdBRVgsU0FBaUJYLEdBR2IsSUFBSXNCLEVBQU8sRUF5QlgsU0FBZ0JDLEVBQWFELEVBQWNFLEVBQWlCQyxRQUFqQixJQUFBRCxNQUFBLFFBQWlCLElBQUFDLE1BQUEsR0FDeEQsSUFBSUMsRUFBTUosRUFBTyxPQUFTLE9BSTFCLE9BRkFJLEVBQU1GLEVBQU1FLEdBQU9ELEVBQU1ELEdBQ3pCRSxFQUFNQyxLQUFLRixJQUFJRCxFQUFLRyxLQUFLSCxJQUFJQyxFQUFLQyxJQTNCdEIxQixFQUFBNEIsY0FBaEIsU0FBOEJDLEdBQzFCUCxFQUFPTyxHQUdLN0IsRUFBQThCLE9BQWhCLFNBQXVCTixFQUFpQkMsR0FFcEMsWUFGbUIsSUFBQUQsTUFBQSxRQUFpQixJQUFBQyxNQUFBLEdBRTdCRixFQURQRCxHQUFlLEtBQVBBLEVBQWMsT0FBUyxPQUNMRSxFQUFLQyxJQUluQnpCLEVBQUErQixjQUFoQixTQUE4QlAsRUFBYUMsR0FHdkMsT0FGQUQsRUFBTUcsS0FBS0ssS0FBS1IsR0FDaEJDLEVBQU1FLEtBQUtNLE1BQU1SLEdBQ1ZFLEtBQUtNLE1BQU1OLEtBQUtHLFVBQVlMLEVBQU1ELEdBQU9BLElBSXBDeEIsRUFBQWtDLHVCQUFoQixTQUF1Q1YsRUFBYUMsR0FHaEQsT0FGQUQsRUFBTUcsS0FBS0ssS0FBS1IsR0FDaEJDLEVBQU1FLEtBQUtNLE1BQU1SLEdBQ1ZFLEtBQUtNLE1BQU1OLEtBQUtHLFVBQVlMLEVBQU1ELEVBQU0sR0FBS0EsSUFHeEN4QixFQUFBdUIsYUFBWUEsRUFRWnZCLEVBQUFtQyxNQUFoQixTQUFzQkMsRUFBZUMsRUFBYUMsUUFBQSxJQUFBQSxNQUFBLEdBRTlDLElBREEsSUFBSTlCLEVBQU0sR0FDSjRCLEdBQVNDLEdBQ1g3QixFQUFJYSxLQUFLZSxHQUNUQSxHQUFTRSxFQUViLE9BQU85QixHQTFDZixDQUFpQlIsRUFBQWxDLEVBQUFrQyxhQUFBbEMsRUFBQWtDLFdBQVUsS0E4QzNCLFNBQWlCdUMsR0FFQUEsRUFBQUMsTUFBUSxVQUNSRCxFQUFBRSxjQUFnQixTQUViRixFQUFBRyxRQUFoQixTQUF3QnhDLEVBQTJCeUMsUUFBQSxJQUFBQSxNQUFBLG1CQUsvQyxJQURBLElBQUlDLEVBQU0xQyxFQUFJMkMsV0FDTDdFLEVBQUksRUFBRzhFLEVBQU8sRUFBRzlFLEVBQUk0RSxFQUFJMUIsT0FBUTRCLEVBQU9GLEVBQUlHLFdBQVcvRSxPQUFTOEUsR0FBUSxHQUFLQSxJQUd0RixPQUdKLFNBQTJCeEIsRUFBY3FCLFFBQUEsSUFBQUEsTUFBQSxtQkFHckNBLEVBQVVBLEdBQVcsbUJBQ3JCLElBQUlLLEVBQVEsSUFDWmhELEVBQVc0QixjQUFjTixHQUN6QixJQUFLLElBQUl0RCxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDbkJnRixHQUFTTCxFQUFRaEIsS0FBS00sTUFBTWpDLEVBQVc4QixTQUFXYSxFQUFRekIsU0FFOUQsT0FBTzhCLEVBWkFDLENBQWtCdEIsS0FBS3VCLElBQUlKLEdBQU9ILElBZTdCSixFQUFBWSxZQUFoQixTQUE0QlIsUUFBQSxJQUFBQSxNQUFBLG1CQUd4QkEsRUFBVUEsR0FBVyxtQkFFckIsSUFEQSxJQUFJSyxFQUFRLElBQ0hoRixFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDbkJnRixHQUFTTCxFQUFRaEIsS0FBS00sTUFBTWpDLEVBQVc4QixTQUFXYSxFQUFRekIsU0FFOUQsT0FBTzhCLEdBcENmLENBQWlCbEYsRUFBQXlFLFFBQUF6RSxFQUFBeUUsTUFBSyxpY0M3QnRCLElBQUFhLEVBQUEsU0FBQUMsR0FpR0UsU0FBQUQsRUFBWS9DLEVBQWlCaUQsRUFBeUJDLEVBQXNCekMsR0FBNUUsSUFBQTBDLEVBQ0VILEVBQUFsRixLQUFBc0YsT0FBT0EsWUFDUEQsRUFBS25ELFFBQVVBLEVBQ2ZtRCxFQUFLRixTQUFXQSxFQUNoQkUsRUFBS0QsTUFBUUEsRUFDYkMsRUFBSzFDLFNBQVdBLEVBQ2hCMEMsRUFBS2pGLEtBQU8sY0FFb0MsbUJBQXBDK0IsTUFBY29ELG1CQUN2QnBELE1BQWNvRCxrQkFBa0JGLEVBQU1KLEtBRzdDLE9BN0dpQ08sRUFBQVAsRUFBQUMsR0FDakJELEVBQUFRLGFBQWQsU0FBMkJOLEVBQXlCQyxHQUNsRCxTQUFTTSxFQUFJQyxHQUNYLE9BQU9BLEVBQUdmLFdBQVcsR0FBR0YsU0FBUyxJQUFJa0IsY0FHdkMsU0FBU0MsRUFBY2pFLEdBQ3JCLE9BQU9BLEVBQ0prRSxRQUFRLE1BQU8sUUFDZkEsUUFBUSxLQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLE1BQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLGVBQTJCLFNBQUNILEdBQU8sYUFBU0QsRUFBSUMsS0FDeERHLFFBQVEsd0JBQXlCLFNBQUNILEdBQU8sWUFBU0QsRUFBSUMsS0FHM0QsU0FBU0ksRUFBWW5FLEdBQ25CLE9BQU9BLEVBQ0prRSxRQUFRLE1BQU8sUUFDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLEtBQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsTUFBTyxPQUNmQSxRQUFRLE1BQU8sT0FDZkEsUUFBUSxNQUFPLE9BQ2ZBLFFBQVEsZUFBMkIsU0FBQ0gsR0FBTyxhQUFTRCxFQUFJQyxLQUN4REcsUUFBUSx3QkFBeUIsU0FBQ0gsR0FBTyxZQUFTRCxFQUFJQyxLQUczRCxTQUFTSyxFQUFvQkMsR0FDM0IsT0FBUUEsRUFBWUMsTUFDbEIsSUFBSyxVQUNILE1BQU8sSUFBT0wsRUFBY0ksRUFBWUUsTUFBUSxJQUNsRCxJQUFLLFFBQ0gsSUFBTUMsRUFBZUgsRUFBWUksTUFBTUMsSUFBSSxTQUFDQyxHQUMxQyxPQUFPQyxNQUFNQyxRQUFRRixHQUNqQlIsRUFBWVEsRUFBSyxJQUFnQixJQUFNUixFQUFZUSxFQUFLLElBQ3hEUixFQUFZUSxLQUdsQixNQUFPLEtBQU9OLEVBQVlTLFNBQVcsSUFBTSxJQUFNTixFQUFlLElBQ2xFLElBQUssTUFDSCxNQUFPLGdCQUNULElBQUssTUFDSCxNQUFPLGVBQ1QsSUFBSyxRQUNILE9BQU9ILEVBQVlVLGFBdUN6QixNQUFPLFlBbkNQLFNBQTBCQyxHQUN4QixJQUNJL0csRUFDQWdILEVBRkVDLEVBQWVGLEVBQVVOLElBQUlOLEdBTW5DLEdBRkFjLEVBQWFDLE9BRVRELEVBQWEvRCxPQUFTLEVBQUcsQ0FDM0IsSUFBS2xELEVBQUksRUFBR2dILEVBQUksRUFBR2hILEVBQUlpSCxFQUFhL0QsT0FBUWxELElBQ3RDaUgsRUFBYWpILEVBQUksS0FBT2lILEVBQWFqSCxLQUN2Q2lILEVBQWFELEdBQUtDLEVBQWFqSCxHQUMvQmdILEtBR0pDLEVBQWEvRCxPQUFTOEQsRUFHeEIsT0FBUUMsRUFBYS9ELFFBQ25CLEtBQUssRUFDSCxPQUFPK0QsRUFBYSxHQUV0QixLQUFLLEVBQ0gsT0FBT0EsRUFBYSxHQUFLLE9BQVNBLEVBQWEsR0FFakQsUUFDRSxPQUFPQSxFQUFheEUsTUFBTSxHQUFJLEdBQUcwRSxLQUFLLE1BQ2xDLFFBQ0FGLEVBQWFBLEVBQWEvRCxPQUFTLElBUXhCa0UsQ0FBaUI5QixHQUFZLFVBSjNCK0IsRUFJbUQ5QixHQUh4RCxJQUFPUyxFQUFjcUIsR0FBVSxJQUFPLGdCQUcyQixVQUpuRixJQUF1QkEsR0F5QjNCakMsRUE3R0EsQ0FBaUM5QyxPQUFwQnhDLEVBQUFzRixjQXcrRUF0RixFQUFBd0gsTUF6M0ViLFNBQW1CQyxFQUFlQyxHQUNoQ0EsT0FBc0JDLElBQVpELEVBQXdCQSxFQUFVLEdBRTVDLElBeU1JRSxFQXpNRUMsRUFBa0IsR0FFbEJDLEVBQThDLENBQUV4RCxNQUFPeUQsSUFDekRDLEVBQW1DRCxHQUVqQ0UsRUFBUyxJQUNUQyxFQUFTQyxHQUF1QixLQUFLLEdBQ3JDQyxFQUFTLFVBQ1RDLEVBQVNDLEdBQXFCLENBQUMsS0FBTSxPQUFPLEdBQU8sR0FDbkRDLEVBQVMsU0FBU3RHLEdBQWMsT0FBT0EsR0FDdkN1RyxFQUFTLFNBQVNDLEdBQ3BCLE9BQTBCLElBQXRCQSxFQUFXckYsT0FDTnFGLEVBQVcsR0FHWCxDQUNMQyxLQUFNLGtCQUNORCxXQUFZQSxJQUlkRSxFQUFTLElBQ1RDLEVBQVNULEdBQXVCLEtBQUssR0FDckNVLEVBQVMsU0FBUzNJLEVBQVE0SSxHQUM1QixNQUFPLENBQ0xKLEtBQU0scUJBQ05LLElBQUs3SSxFQUNMOEksSUFBS0YsSUFHTEcsRUFBUyxTQUFTL0ksRUFBUTRJLEdBQzVCLE1BQU8sQ0FDTEosS0FBTSxhQUNOUSxXQUFZaEosRUFDWmlKLElBQUtMLElBR0xNLEVBQVUsSUFDVkMsRUFBVWxCLEdBQXVCLEtBQUssR0FDdENtQixFQUFVLFVBQ1ZDLEVBQVVqQixHQUFxQixDQUFDLEtBQU0sT0FBTyxHQUFPLEdBQ3BEa0IsRUFBVSxTQUFTQyxFQUFXekksR0FBYyxPQUFPQSxHQUNuRDBJLEVBQVUsSUFDVkMsRUFBVXhCLEdBQXVCLEtBQUssR0FDdEN5QixFQUFVLFNBQVNILEVBQVdJLEdBQ2hDLE9BQW9CLElBQWhCQSxFQUFLekcsT0FBdUJxRyxHQUNoQ0ksRUFBS0MsUUFBUUwsR0FDTixDQUNMZixLQUFNLGFBQ05xQixLQUFNRixLQUdORyxFQUFVLElBQ1ZDLEVBQVU5QixHQUF1QixLQUFLLEdBQ3RDK0IsRUFBVSxTQUFTVCxFQUFXdkosR0FBYyxPQUFPQSxHQUNuRGlLLEVBQVUsU0FBU1YsRUFBV0ksR0FDaEMsT0FBb0IsSUFBaEJBLEVBQUt6RyxPQUF1QnFHLEdBQ2hDSSxFQUFLQyxRQUFRTCxHQUNOLENBQ0xmLEtBQU0sVUFDTjBCLEtBQU1QLEtBR05RLEVBQVUsSUFDVkMsRUFBVW5DLEdBQXVCLEtBQUssR0FDdENvQyxFQUFVLFNBQVNDLEVBQVNDLEVBQVN4SSxHQUFjLE9BQU9BLEdBQzFEeUksRUFBVSxTQUFTRixFQUFTQyxFQUFTRSxHQUN2QyxNQUFPLENBQ0xqQyxLQUFNLFlBQ05wRSxNQUFPa0csRUFDUGpHLElBQUtvRyxHQUFNRixFQUNYakcsS0FBT21HLEdBQU1GLFFBQU85QyxJQUdwQmlELEVBQVUsSUFDVkMsRUFBVTFDLEdBQXVCLEtBQUssR0FDdEMyQyxFQUFVLFNBQVNyQixFQUFXc0IsRUFBU2pDLEdBQWMsTUFBTyxDQUFDaUMsRUFBR2pDLElBQ2hFa0MsRUFBVSxTQUFTdkIsRUFBV0ksR0FDaEMsT0FBT29CLEdBQWdCeEIsRUFBTUksRUFBTSxPQUFRLFdBRXpDcUIsRUFBVSxJQUNWQyxFQUFVaEQsR0FBdUIsS0FBSyxHQUN0Q2lELEVBQVUsU0FBUzNCLEVBQVdJLEdBQ2hDLE9BQU9vQixHQUFnQnhCLEVBQU1JLEVBQU0sT0FBUSxZQUV6Q3dCLEVBQVUsS0FDVkMsRUFBVW5ELEdBQXVCLE1BQU0sR0FDdkNvRCxFQUFVLEtBQ1ZDLEVBQVVyRCxHQUF1QixNQUFNLEdBQ3ZDc0QsRUFBVSxTQUFTaEMsRUFBV0ksR0FDaEMsT0FBT29CLEdBQWdCeEIsRUFBTUksRUFBTSxPQUFRLFdBRXpDNkIsRUFBVSxLQUNWQyxFQUFVeEQsR0FBdUIsTUFBTSxHQUN2Q3lELEVBQVUsSUFDVkMsRUFBVTFELEdBQXVCLEtBQUssR0FDdEMyRCxFQUFVLEtBQ1ZDLEVBQVU1RCxHQUF1QixNQUFNLEdBQ3ZDNkQsRUFBVSxJQUNWQyxFQUFVOUQsR0FBdUIsS0FBSyxHQUN0QytELEVBQVUsU0FBU3pDLEVBQVdJLEdBQ2hDLE9BQU9vQixHQUFnQnhCLEVBQU1JLEVBQU0sT0FBUSxZQUV6Q3NDLEdBQVUsSUFDVkMsR0FBVWpFLEdBQXVCLEtBQUssR0FDdENrRSxHQUFVLElBQ1ZDLEdBQVVuRSxHQUF1QixLQUFLLEdBQ3RDb0UsR0FBVSxTQUFTOUMsRUFBV0ksR0FDaEMsT0FBT29CLEdBQWdCeEIsRUFBTUksRUFBTSxPQUFRLFlBRXpDMkMsR0FBVSxJQUNWQyxHQUFVdEUsR0FBdUIsS0FBSyxHQUN0Q3VFLEdBQVUsSUFDVkMsR0FBVXhFLEdBQXVCLEtBQUssR0FDdEN5RSxHQUFVLElBQ1ZDLEdBQVUxRSxHQUF1QixLQUFLLEdBQ3RDMkUsR0FBVSxLQUNWQyxHQUFVNUUsR0FBdUIsTUFBTSxHQUN2QzZFLEdBQVUsS0FDVkMsR0FBVTlFLEdBQXVCLE1BQU0sR0FDdkMrRSxHQUFVLEtBQ1ZDLEdBQVVoRixHQUF1QixNQUFNLEdBQ3ZDaUYsR0FBVSxTQUFTM0QsRUFBV0ksR0FDaEMsT0FBT29CLEdBQWdCeEIsRUFBTUksRUFBTSxPQUFRLGFBRXpDd0QsR0FBVSxJQUNWQyxHQUFVbkYsR0FBdUIsS0FBSyxHQUN0Q29GLEdBQVUsU0FBU3hDLEVBQVN5QyxHQUM5QixNQUFPLENBQ0w5RSxLQUFNLFlBQ044RSxJQUFLQSxFQUNMekMsR0FBSUEsSUFHSjBDLEdBQVUsSUFDVkMsR0FBVXZGLEdBQXVCLEtBQUssR0FDdEN3RixHQUFVLFNBQVNILEVBQVVJLEdBQy9CLE1BQU8sQ0FDTGxGLEtBQU0sZ0JBQ044RSxJQUFJQSxFQUNKSyxXQUFZRCxJQUdaRSxHQUFVLElBQ1ZDLEdBQVU1RixHQUF1QixLQUFLLEdBQ3RDNkYsR0FBVSxTQUFTQyxFQUFheEUsRUFBV3lFLEdBQWMsT0FBT0EsR0FDaEVDLEdBQVUsSUFDVkMsR0FBVWpHLEdBQXVCLEtBQUssR0FDdENrRyxHQUFVLFNBQVNKLEVBQWF4RSxFQUFXSSxHQUU3QyxPQURBQSxFQUFLQyxRQUFRTCxHQUNOLENBQ0xmLEtBQU0sV0FDTnVGLE9BQVFBLEVBQU8vRSxXQUNmb0YsS0FBTXpFLElBR04wRSxHQUFVLE1BQ1ZDLEdBQVVyRyxHQUF1QixPQUFPLEdBQ3hDc0csR0FBVSxXQUFrQixNQUFPLENBQUMvRixLQUFNLFlBQzFDZ0csR0FBVSxTQUFTNUYsR0FBZSxPQUFPQSxHQUN6QzZGLEdBQVUsV0FBa0IsTUFBTyxDQUFDakcsS0FBTSxjQUMxQ2tHLEdBQVUsVUFDVkMsR0FBVXZHLEdBQXFCLENBQUMsQ0FBQyxJQUFLLEtBQU0sTUFBTSxHQUFPLEdBQ3pEd0csR0FBVSxTQUFTQyxFQUFVQyxHQUFtQixPQUFPQSxFQUFPQyxRQUFRLE1BQVFELEVBQU9FLFlBQVksT0FBZ0MsR0FBeEJGLEVBQU9DLFFBQVEsTUFDeEhFLEdBQVUsU0FBU0osRUFBVUMsR0FDaEMsTUFBTyxDQUNMdEcsS0FBTSxRQUNOdkgsTUFBT2lPLFlBQVlMLEdBQVksSUFBTUMsRUFBTzNILEtBQUssT0FHaERnSSxHQUFVQyxHQUFxQixXQUMvQkMsR0FBVSxTQUNWQyxHQUFVbEgsR0FBcUIsQ0FBQyxDQUFDLElBQUssT0FBTyxHQUFPLEdBQ3BEbUgsR0FBVSxTQUFTVixFQUFVQyxHQUMvQixNQUFPLENBQ0x0RyxLQUFNLFVBQ052SCxNQUFPdU8sVUFBVVgsR0FBWSxJQUFNQyxFQUFPM0gsS0FBSyxJQUFLLE1BR3BEc0ksR0FBVUwsR0FBcUIsY0FDL0JNLEdBQVUsU0FBU0MsRUFBWUMsR0FDL0IsTUFBTyxDQUNMcEgsS0FBTSxhQUNOUSxXQUFZMkcsRUFBUUMsRUFBS3pJLEtBQUssTUFHaEMwSSxHQUFVLGdCQUNWQyxHQUFVMUgsR0FBcUIsQ0FBQyxDQUFDLElBQUssS0FBTSxDQUFDLElBQUssS0FBTSxDQUFDLElBQUssS0FBTSxNQUFNLEdBQU8sR0FDakYySCxHQUFVLFlBQ1ZDLEdBQVU1SCxHQUFxQixDQUFDLENBQUMsSUFBSyxLQUFNLENBQUMsSUFBSyxPQUFPLEdBQU8sR0FDaEU2SCxHQUFVYixHQUFxQixjQUMvQmMsR0FBVSxTQUNWQyxHQUFVL0gsR0FBcUIsQ0FBQyxJQUFLLE9BQU8sR0FBTyxHQUVyRGdJLEdBQWMsRUFFWkMsR0FBc0IsQ0FBQyxDQUFFQyxLQUFNLEVBQUdDLE9BQVEsSUFDNUNDLEdBQWlCLEVBQ2pCQyxHQUE2QixHQUM3QkMsR0FBa0IsRUFJdEIsUUFBMEJqSixJQUF0QkQsRUFBUW1KLFVBQXlCLENBQ25DLEtBQU1uSixFQUFRbUosYUFBYS9JLEdBQ3pCLE1BQU0sSUFBSXRGLE1BQU0sbUNBQXFDa0YsRUFBUW1KLFVBQVksTUFHM0U3SSxFQUF3QkYsRUFBdUJKLEVBQVFtSixXQStCekQsU0FBUzFJLEdBQXVCMkksRUFBZUMsR0FDN0MsTUFBTyxDQUFFeEssS0FBTSxVQUFXQyxLQUFNc0ssRUFBT0MsV0FBWUEsR0FHckQsU0FBU3pJLEdBQXFCNUIsRUFBb0JLLEVBQW1CZ0ssR0FDbkUsTUFBTyxDQUFFeEssS0FBTSxRQUFTRyxNQUFPQSxFQUFPSyxTQUFVQSxFQUFVZ0ssV0FBWUEsR0FXeEUsU0FBU3pCLEdBQXFCdEksR0FDNUIsTUFBTyxDQUFFVCxLQUFNLFFBQVNTLFlBQWFBLEdBR3ZDLFNBQVNnSyxHQUFzQkMsR0FDN0IsSUFDSWpQLEVBREFrUCxFQUFVWCxHQUFvQlUsR0FHbEMsR0FBSUMsRUFDRixPQUFPQSxFQUdQLElBREFsUCxFQUFJaVAsRUFBTSxHQUNGVixHQUFvQnZPLElBQzFCQSxJQVNGLElBTEFrUCxFQUFVLENBQ1JWLE1BRkZVLEVBQVVYLEdBQW9Cdk8sSUFFZHdPLEtBQ2RDLE9BQVFTLEVBQVFULFFBR1h6TyxFQUFJaVAsR0FDbUIsS0FBeEJ4SixFQUFNeEMsV0FBV2pELElBQ25Ca1AsRUFBUVYsT0FDUlUsRUFBUVQsT0FBUyxHQUVqQlMsRUFBUVQsU0FHVnpPLElBS0YsT0FGQXVPLEdBQW9CVSxHQUFPQyxFQUVwQkEsRUFJWCxTQUFTQyxHQUFvQkMsRUFBa0JDLEdBQzdDLElBQU1DLEVBQWtCTixHQUFzQkksR0FDeENHLEVBQWdCUCxHQUFzQkssR0FFNUMsTUFBTyxDQUNML00sTUFBTyxDQUNMa04sT0FBUUosRUFDUlosS0FBTWMsRUFBZ0JkLEtBQ3RCQyxPQUFRYSxFQUFnQmIsUUFFMUJsTSxJQUFLLENBQ0hpTixPQUFRSCxFQUNSYixLQUFNZSxFQUFjZixLQUNwQkMsT0FBUWMsRUFBY2QsU0FLNUIsU0FBU2dCLEdBQVN4SyxHQUNacUosR0FBY0ksS0FFZEosR0FBY0ksS0FDaEJBLEdBQWlCSixHQUNqQkssR0FBc0IsSUFHeEJBLEdBQW9CcE4sS0FBSzBELElBTzNCLFNBQVN5SyxHQUF5QnpLLEVBQTBCeEIsRUFBc0JrTSxHQUNoRixPQUFPLElBQUlyTSxFQUNUQSxFQUFZUSxhQUFhbUIsRUFBV3hCLEdBQ3BDd0IsRUFDQXhCLEVBQ0FrTSxHQUlKLFNBQVM1SixLQUtQLE9BR0YsV0FDRSxJQUFJNkosRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFJNUIsR0FGQU4sRUFBS3RCLElBQ0x1QixFQUFLTSxRQUNNdEssRUFBWSxDQUlyQixHQUhBaUssRUFBSyxHQUNMQyxFQUFLekIsSUFDTDBCLEVBQUtJLFFBQ012SyxFQUFZLENBcUJyQixJQXBCQW9LLEVBQUssR0FDaUMsS0FBbEN4SyxFQUFNeEMsV0FBV3FMLEtBQ25CNEIsRUFBS2pLLEVBQ0xxSSxPQUVBNEIsRUFBS3JLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN2SixJQUVwQ2dLLElBQU9ySyxJQUNMTyxFQUFPaUssS0FBSzVLLEVBQU02SyxPQUFPaEMsTUFDM0I0QixFQUFLekssRUFBTTZLLE9BQU9oQyxJQUNsQkEsT0FFQTRCLEVBQUtySyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTcEosSUFFcEM2SixJQUFPckssSUFDVHFLLEVBQUtLLE9BR0ZMLElBQU9ySyxHQUNab0ssRUFBRzFPLEtBQUsyTyxHQUM4QixLQUFsQ3pLLEVBQU14QyxXQUFXcUwsS0FDbkI0QixFQUFLakssRUFDTHFJLE9BRUE0QixFQUFLckssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3ZKLElBRXBDZ0ssSUFBT3JLLElBQ0xPLEVBQU9pSyxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUMzQjRCLEVBQUt6SyxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBNEIsRUFBS3JLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNwSixJQUVwQzZKLElBQU9ySyxJQUNUcUssRUFBS0ssT0FJUE4sSUFBT3BLLEdBRVRtSyxFQUFLekosRUFBT3lKLEdBQ1pELEVBQUtDLElBRUwxQixHQUFjeUIsRUFDZEEsRUFBS2xLLFFBR1B5SSxHQUFjeUIsRUFDZEEsRUFBS2xLLEVBRVAsS0FBT2tLLElBQU9sSyxHQUlaLEdBSEFpSyxFQUFHdk8sS0FBS3dPLEdBQ1JBLEVBQUt6QixJQUNMMEIsRUFBS0ksUUFDTXZLLEVBQVksQ0FxQnJCLElBcEJBb0ssRUFBSyxHQUNpQyxLQUFsQ3hLLEVBQU14QyxXQUFXcUwsS0FDbkI0QixFQUFLakssRUFDTHFJLE9BRUE0QixFQUFLckssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3ZKLElBRXBDZ0ssSUFBT3JLLElBQ0xPLEVBQU9pSyxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUMzQjRCLEVBQUt6SyxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBNEIsRUFBS3JLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNwSixJQUVwQzZKLElBQU9ySyxJQUNUcUssRUFBS0ssT0FHRkwsSUFBT3JLLEdBQ1pvSyxFQUFHMU8sS0FBSzJPLEdBQzhCLEtBQWxDekssRUFBTXhDLFdBQVdxTCxLQUNuQjRCLEVBQUtqSyxFQUNMcUksT0FFQTRCLEVBQUtySyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTdkosSUFFcENnSyxJQUFPckssSUFDTE8sRUFBT2lLLEtBQUs1SyxFQUFNNkssT0FBT2hDLE1BQzNCNEIsRUFBS3pLLEVBQU02SyxPQUFPaEMsSUFDbEJBLE9BRUE0QixFQUFLckssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3BKLElBRXBDNkosSUFBT3JLLElBQ1RxSyxFQUFLSyxPQUlQTixJQUFPcEssR0FFVG1LLEVBQUt6SixFQUFPeUosR0FDWkQsRUFBS0MsSUFFTDFCLEdBQWN5QixFQUNkQSxFQUFLbEssUUFHUHlJLEdBQWN5QixFQUNkQSxFQUFLbEssRUFHTGlLLElBQU9qSyxHQUVUZ0ssRUFBS3JKLEVBQU9zSixHQUNaRixFQUFLQyxJQUVMdkIsR0FBY3NCLEVBQ2RBLEVBQUsvSixRQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixFQUdQLE9BQU8rSixFQTlJRlksR0FpSlAsU0FBU0osS0FDUCxJQUFJUixFQU9KLE9BTEFBLEVBUUYsV0FDRSxJQUFJQSxFQUFJQyxFQUFRRSxFQUFRRSxFQXFGeEIsT0FuRkFMLEVBQUt0QixJQUNMdUIsRUFBS1ksUUFDTTVLLEdBQ0pzSyxPQUNNdEssR0FDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkJ5QixFQUFLcEosRUFDTDJILE9BRUF5QixFQUFLbEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzdJLElBRXBDbUosSUFBT2xLLEdBQ0pzSyxPQUNNdEssSUFDVG9LLEVBQUtTLFFBQ003SyxHQUVUZ0ssRUFBS2hKLEVBQU9nSixFQUFJSSxHQUNoQkwsRUFBS0MsSUFVVHZCLEdBQWNzQixFQUNkQSxFQUFLL0osS0FPVHlJLEdBQWNzQixFQUNkQSxFQUFLL0osR0FFSCtKLElBQU8vSixJQUNUK0osRUFBS3RCLElBQ0x1QixFQUFLYyxRQUNNOUssR0FDSnNLLE9BQ010SyxHQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQnlCLEVBQUtwSixFQUNMMkgsT0FFQXlCLEVBQUtsSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTN0ksSUFFcENtSixJQUFPbEssR0FDSnNLLE9BQ010SyxJQUNUb0ssRUFBS1MsUUFDTTdLLEdBRVRnSyxFQUFLNUksRUFBTzRJLEVBQUlJLEdBQ2hCTCxFQUFLQyxJQVVUdkIsR0FBY3NCLEVBQ2RBLEVBQUsvSixLQU9UeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixJQUlGK0osRUE5RkZnQixNQUNNL0ssSUFDVCtKLEVBQUtjLE1BR0FkLEVBZ1NULFNBQVNpQixLQUNQLElBQUlqQixFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUk1QixHQUZBTixFQUFLdEIsSUFDTHVCLEVBQUthLFFBQ003SyxFQUFZLENBK0NyQixJQTlDQWlLLEVBQUssR0FDTEMsRUFBS3pCLEdBQ0wwQixFQUFLMUIsSUFDTDJCLEVBQUtFLFFBQ010SyxHQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQjRCLEVBQUtsSSxFQUNMc0csT0FFQTRCLEVBQUtySyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTeEgsSUFFcENpSSxJQUFPckssRUFFVG1LLEVBREFDLEVBQUssQ0FBQ0EsRUFBSUMsSUFHVjVCLEdBQWMwQixFQUNkQSxFQUFLbkssS0FHUHlJLEdBQWMwQixFQUNkQSxFQUFLbkssR0FFSG1LLElBQU9uSyxJQUNUbUssRUFBS08sTUFFSFAsSUFBT25LLElBQ1RvSyxFQUFLRSxRQUNNdEssSUFDVHFLLEVBQUtRLFFBQ003SyxFQUdUa0ssRUFEQUMsRUFBSzlILEVBQVEySCxFQUFJSyxJQVdyQjVCLEdBQWN5QixFQUNkQSxFQUFLbEssR0FFQWtLLElBQU9sSyxHQUNaaUssRUFBR3ZPLEtBQUt3TyxHQUNSQSxFQUFLekIsR0FDTDBCLEVBQUsxQixJQUNMMkIsRUFBS0UsUUFDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CNEIsRUFBS2xJLEVBQ0xzRyxPQUVBNEIsRUFBS3JLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN4SCxJQUVwQ2lJLElBQU9ySyxFQUVUbUssRUFEQUMsRUFBSyxDQUFDQSxFQUFJQyxJQUdWNUIsR0FBYzBCLEVBQ2RBLEVBQUtuSyxLQUdQeUksR0FBYzBCLEVBQ2RBLEVBQUtuSyxHQUVIbUssSUFBT25LLElBQ1RtSyxFQUFLTyxNQUVIUCxJQUFPbkssSUFDVG9LLEVBQUtFLFFBQ010SyxJQUNUcUssRUFBS1EsUUFDTTdLLEVBR1RrSyxFQURBQyxFQUFLOUgsRUFBUTJILEVBQUlLLElBV3JCNUIsR0FBY3lCLEVBQ2RBLEVBQUtsSyxHQUdMaUssSUFBT2pLLEVBR1QrSixFQURBQyxFQUFLMUgsRUFBUTBILEVBQUlDLElBR2pCeEIsR0FBY3NCLEVBQ2RBLEVBQUsvSixRQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixFQUdQLE9BQU8rSixFQUdULFNBQVNjLEtBQ1AsSUFBSWQsRUFVSixPQVJBQSxFQVdGLFdBQ0UsSUFBSUEsRUFBSUMsRUFBUUUsRUFBUUUsRUFBSUMsRUFBSVksRUFBSUMsRUFBUUMsRUF3RjVDLE9BdEZBcEIsRUFBS3RCLElBQ0x1QixFQUFLb0IsUUFDTXBMLEdBQ0pzSyxPQUNNdEssR0FDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkJ5QixFQUFLMUgsRUFDTGlHLE9BRUF5QixFQUFLbEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU25ILElBRXBDeUgsSUFBT2xLLEdBQ0pzSyxPQUNNdEssSUFDVG9LLEVBQUtnQixRQUNNcEwsR0FDVHFLLEVBQUs1QixJQUNMd0MsRUFBS1gsUUFDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CeUMsRUFBSzFJLEVBQ0xpRyxPQUVBeUMsRUFBS2xMLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNuSCxJQUVwQ3lJLElBQU9sTCxHQUNKc0ssT0FDTXRLLElBQ1RtTCxFQUFNQyxRQUNNcEwsR0FFVmlMLEVBQUt2SSxFQUFRc0gsRUFBSUksRUFBSWUsR0FDckJkLEVBQUtZLElBVVR4QyxHQUFjNEIsRUFDZEEsRUFBS3JLLEtBR1B5SSxHQUFjNEIsRUFDZEEsRUFBS3JLLEdBRUhxSyxJQUFPckssSUFDVHFLLEVBQUssTUFFSEEsSUFBT3JLLEdBRVRnSyxFQUFLbkgsRUFBUW1ILEVBQUlJLEVBQUlDLEdBQ3JCTixFQUFLQyxJQUVMdkIsR0FBY3NCLEVBQ2RBLEVBQUsvSixLQVdYeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixLQU9UeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixHQUVIK0osSUFBTy9KLElBQ1QrSixFQUFLcUIsTUFHQXJCLEVBcEdGc0IsTUFDTXJMLElBQ1QrSixFQUFLYSxRQUNNNUssSUFDVCtKLEVBQUt1QixNQUlGdkIsRUErRlQsU0FBU3FCLEtBQ1AsSUFBSXJCLEVBQUlDLEVBQUlDLEVBQUlDLEVBQVFFLEVBQVFhLEVBSWhDLEdBRkFsQixFQUFLdEIsSUFDTHVCLEVBQUt1QixRQUNNdkwsRUFBWSxDQW9DckIsSUFuQ0FpSyxFQUFLLEdBQ0xDLEVBQUt6QixHQUNBNkIsT0FDTXRLLEdBQzZCLE1BQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBS3JILEVBQ0wwRixPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM1RyxJQUVwQ29ILElBQU9wSyxHQUNKc0ssT0FDTXRLLElBQ1RpTCxFQUFLTSxRQUNNdkwsRUFHVGtLLEVBREtqSCxFQUFRK0csRUFBSUksRUFBSWEsSUFXekJ4QyxHQUFjeUIsRUFDZEEsRUFBS2xLLEtBR1B5SSxHQUFjeUIsRUFDZEEsRUFBS2xLLEdBRUFrSyxJQUFPbEssR0FDWmlLLEVBQUd2TyxLQUFLd08sR0FDUkEsRUFBS3pCLEdBQ0E2QixPQUNNdEssR0FDNkIsTUFBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLckgsRUFDTDBGLE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzVHLElBRXBDb0gsSUFBT3BLLEdBQ0pzSyxPQUNNdEssSUFDVGlMLEVBQUtNLFFBQ012TCxFQUdUa0ssRUFES2pILEVBQVErRyxFQUFJSSxFQUFJYSxJQVd6QnhDLEdBQWN5QixFQUNkQSxFQUFLbEssS0FHUHlJLEdBQWN5QixFQUNkQSxFQUFLbEssR0FHTGlLLElBQU9qSyxFQUdUK0osRUFEQUMsRUFBSzdHLEVBQVE2RyxFQUFJQyxJQUdqQnhCLEdBQWNzQixFQUNkQSxFQUFLL0osUUFHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osRUFHUCxPQUFPK0osRUFHVCxTQUFTd0IsS0FDUCxJQUFJeEIsRUFBSUMsRUFBSUMsRUFBSUMsRUFBUUUsRUFBUWEsRUFJaEMsR0FGQWxCLEVBQUt0QixJQUNMdUIsRUFBS3dCLFFBQ014TCxFQUFZLENBb0NyQixJQW5DQWlLLEVBQUssR0FDTEMsRUFBS3pCLEdBQ0E2QixPQUNNdEssR0FDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLL0csRUFDTG9GLE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3RHLElBRXBDOEcsSUFBT3BLLEdBQ0pzSyxPQUNNdEssSUFDVGlMLEVBQUtPLFFBQ014TCxFQUdUa0ssRUFES2pILEVBQVErRyxFQUFJSSxFQUFJYSxJQVd6QnhDLEdBQWN5QixFQUNkQSxFQUFLbEssS0FHUHlJLEdBQWN5QixFQUNkQSxFQUFLbEssR0FFQWtLLElBQU9sSyxHQUNaaUssRUFBR3ZPLEtBQUt3TyxHQUNSQSxFQUFLekIsR0FDQTZCLE9BQ010SyxHQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQjJCLEVBQUsvRyxFQUNMb0YsT0FFQTJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTdEcsSUFFcEM4RyxJQUFPcEssR0FDSnNLLE9BQ010SyxJQUNUaUwsRUFBS08sUUFDTXhMLEVBR1RrSyxFQURLakgsRUFBUStHLEVBQUlJLEVBQUlhLElBV3pCeEMsR0FBY3lCLEVBQ2RBLEVBQUtsSyxLQUdQeUksR0FBY3lCLEVBQ2RBLEVBQUtsSyxHQUdMaUssSUFBT2pLLEVBR1QrSixFQURBQyxFQUFLekcsRUFBUXlHLEVBQUlDLElBR2pCeEIsR0FBY3NCLEVBQ2RBLEVBQUsvSixRQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixFQUdQLE9BQU8rSixFQUdULFNBQVN5QixLQUNQLElBQUl6QixFQUFJQyxFQUFJQyxFQUFJQyxFQUFRRSxFQUFRYSxFQUloQyxHQUZBbEIsRUFBS3RCLElBQ0x1QixFQUFLeUIsUUFDTXpMLEVBQVksQ0E2Q3JCLElBNUNBaUssRUFBSyxHQUNMQyxFQUFLekIsR0FDQTZCLE9BQ010SyxHQUNMSixFQUFNOEwsT0FBT2pELEdBQWEsS0FBT2pGLEdBQ25DNEcsRUFBSzVHLEVBQ0xpRixJQUFlLElBRWYyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU25HLElBRXBDMkcsSUFBT3BLLElBQ0xKLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPL0UsR0FDbkMwRyxFQUFLMUcsRUFDTCtFLElBQWUsSUFFZjJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTakcsS0FHdEN5RyxJQUFPcEssR0FDSnNLLE9BQ010SyxJQUNUaUwsRUFBS1EsUUFDTXpMLEVBR1RrSyxFQURLakgsRUFBUStHLEVBQUlJLEVBQUlhLElBV3pCeEMsR0FBY3lCLEVBQ2RBLEVBQUtsSyxLQUdQeUksR0FBY3lCLEVBQ2RBLEVBQUtsSyxHQUVBa0ssSUFBT2xLLEdBQ1ppSyxFQUFHdk8sS0FBS3dPLEdBQ1JBLEVBQUt6QixHQUNBNkIsT0FDTXRLLEdBQ0xKLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPakYsR0FDbkM0RyxFQUFLNUcsRUFDTGlGLElBQWUsSUFFZjJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTbkcsSUFFcEMyRyxJQUFPcEssSUFDTEosRUFBTThMLE9BQU9qRCxHQUFhLEtBQU8vRSxHQUNuQzBHLEVBQUsxRyxFQUNMK0UsSUFBZSxJQUVmMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNqRyxLQUd0Q3lHLElBQU9wSyxHQUNKc0ssT0FDTXRLLElBQ1RpTCxFQUFLUSxRQUNNekwsRUFHVGtLLEVBREtqSCxFQUFRK0csRUFBSUksRUFBSWEsSUFXekJ4QyxHQUFjeUIsRUFDZEEsRUFBS2xLLEtBR1B5SSxHQUFjeUIsRUFDZEEsRUFBS2xLLEdBR0xpSyxJQUFPakssRUFHVCtKLEVBREFDLEVBQUtwRyxFQUFRb0csRUFBSUMsSUFHakJ4QixHQUFjc0IsRUFDZEEsRUFBSy9KLFFBR1B5SSxHQUFjc0IsRUFDZEEsRUFBSy9KLEVBR1AsT0FBTytKLEVBR1QsU0FBUzBCLEtBQ1AsSUFBSTFCLEVBQUlDLEVBQUlDLEVBQUlDLEVBQVFFLEVBQVFhLEVBSWhDLEdBRkFsQixFQUFLdEIsSUFDTHVCLEVBQUsyQixRQUNNM0wsRUFBWSxDQStEckIsSUE5REFpSyxFQUFLLEdBQ0xDLEVBQUt6QixHQUNBNkIsT0FDTXRLLEdBQ0xKLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPNUUsR0FDbkN1RyxFQUFLdkcsRUFDTDRFLElBQWUsSUFFZjJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTOUYsSUFFcENzRyxJQUFPcEssSUFDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLckcsRUFDTDBFLE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzVGLElBRXBDb0csSUFBT3BLLElBQ0xKLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPeEUsR0FDbkNtRyxFQUFLbkcsRUFDTHdFLElBQWUsSUFFZjJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTMUYsSUFFcENrRyxJQUFPcEssSUFDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLakcsRUFDTHNFLE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3hGLE9BSzFDZ0csSUFBT3BLLEdBQ0pzSyxPQUNNdEssSUFDVGlMLEVBQUtVLFFBQ00zTCxFQUdUa0ssRUFES2pILEVBQVErRyxFQUFJSSxFQUFJYSxJQVd6QnhDLEdBQWN5QixFQUNkQSxFQUFLbEssS0FHUHlJLEdBQWN5QixFQUNkQSxFQUFLbEssR0FFQWtLLElBQU9sSyxHQUNaaUssRUFBR3ZPLEtBQUt3TyxHQUNSQSxFQUFLekIsR0FDQTZCLE9BQ010SyxHQUNMSixFQUFNOEwsT0FBT2pELEdBQWEsS0FBTzVFLEdBQ25DdUcsRUFBS3ZHLEVBQ0w0RSxJQUFlLElBRWYyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzlGLElBRXBDc0csSUFBT3BLLElBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBS3JHLEVBQ0wwRSxPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM1RixJQUVwQ29HLElBQU9wSyxJQUNMSixFQUFNOEwsT0FBT2pELEdBQWEsS0FBT3hFLEdBQ25DbUcsRUFBS25HLEVBQ0x3RSxJQUFlLElBRWYyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzFGLElBRXBDa0csSUFBT3BLLElBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBS2pHLEVBQ0xzRSxPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN4RixPQUsxQ2dHLElBQU9wSyxHQUNKc0ssT0FDTXRLLElBQ1RpTCxFQUFLVSxRQUNNM0wsRUFHVGtLLEVBREtqSCxFQUFRK0csRUFBSUksRUFBSWEsSUFXekJ4QyxHQUFjeUIsRUFDZEEsRUFBS2xLLEtBR1B5SSxHQUFjeUIsRUFDZEEsRUFBS2xLLEdBR0xpSyxJQUFPakssRUFHVCtKLEVBREFDLEVBQUszRixFQUFRMkYsRUFBSUMsSUFHakJ4QixHQUFjc0IsRUFDZEEsRUFBSy9KLFFBR1B5SSxHQUFjc0IsRUFDZEEsRUFBSy9KLEVBR1AsT0FBTytKLEVBR1QsU0FBUzRCLEtBQ1AsSUFBSTVCLEVBQUlDLEVBQUlDLEVBQUlDLEVBQVFFLEVBQVFhLEVBSWhDLEdBRkFsQixFQUFLdEIsSUFDTHVCLEVBQUs0QixRQUNNNUwsRUFBWSxDQTZDckIsSUE1Q0FpSyxFQUFLLEdBQ0xDLEVBQUt6QixHQUNBNkIsT0FDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBSzlGLEdBQ0xtRSxPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNyRixLQUVwQzZGLElBQU9wSyxJQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQjJCLEVBQUs1RixHQUNMaUUsT0FFQTJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTbkYsTUFHdEMyRixJQUFPcEssR0FDSnNLLE9BQ010SyxJQUNUaUwsRUFBS1csUUFDTTVMLEVBR1RrSyxFQURLakgsRUFBUStHLEVBQUlJLEVBQUlhLElBV3pCeEMsR0FBY3lCLEVBQ2RBLEVBQUtsSyxLQUdQeUksR0FBY3lCLEVBQ2RBLEVBQUtsSyxHQUVBa0ssSUFBT2xLLEdBQ1ppSyxFQUFHdk8sS0FBS3dPLEdBQ1JBLEVBQUt6QixHQUNBNkIsT0FDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBSzlGLEdBQ0xtRSxPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNyRixLQUVwQzZGLElBQU9wSyxJQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQjJCLEVBQUs1RixHQUNMaUUsT0FFQTJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTbkYsTUFHdEMyRixJQUFPcEssR0FDSnNLLE9BQ010SyxJQUNUaUwsRUFBS1csUUFDTTVMLEVBR1RrSyxFQURLakgsRUFBUStHLEVBQUlJLEVBQUlhLElBV3pCeEMsR0FBY3lCLEVBQ2RBLEVBQUtsSyxLQUdQeUksR0FBY3lCLEVBQ2RBLEVBQUtsSyxHQUdMaUssSUFBT2pLLEVBR1QrSixFQURBQyxFQUFLdEYsR0FBUXNGLEVBQUlDLElBR2pCeEIsR0FBY3NCLEVBQ2RBLEVBQUsvSixRQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixFQUdQLE9BQU8rSixFQUdULFNBQVM2QixLQUNQLElBQUk3QixFQUFJQyxFQUFJQyxFQUFJQyxFQUFRRSxFQUFRYSxFQUloQyxHQUZBbEIsRUFBS3RCLElBQ0x1QixFQUFLNkIsUUFDTTdMLEVBQVksQ0FpRnJCLElBaEZBaUssRUFBSyxHQUNMQyxFQUFLekIsR0FDQTZCLE9BQ010SyxHQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQjJCLEVBQUt6RixHQUNMOEQsT0FFQTJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTaEYsS0FFcEN3RixJQUFPcEssSUFDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLdkYsR0FDTDRELE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzlFLEtBRXBDc0YsSUFBT3BLLElBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBS3JGLEdBQ0wwRCxPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM1RSxLQUVwQ29GLElBQU9wSyxJQUNMSixFQUFNOEwsT0FBT2pELEdBQWEsS0FBT3hELElBQ25DbUYsRUFBS25GLEdBQ0x3RCxJQUFlLElBRWYyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBUzFFLEtBRXBDa0YsSUFBT3BLLElBQ0xKLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPdEQsSUFDbkNpRixFQUFLakYsR0FDTHNELElBQWUsSUFFZjJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTeEUsS0FFcENnRixJQUFPcEssSUFDTEosRUFBTThMLE9BQU9qRCxHQUFhLEtBQU9wRCxJQUNuQytFLEVBQUsvRSxHQUNMb0QsSUFBZSxJQUVmMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN0RSxVQU85QzhFLElBQU9wSyxHQUNKc0ssT0FDTXRLLElBQ1RpTCxFQUFLWSxRQUNNN0wsRUFHVGtLLEVBREtqSCxFQUFRK0csRUFBSUksRUFBSWEsSUFXekJ4QyxHQUFjeUIsRUFDZEEsRUFBS2xLLEtBR1B5SSxHQUFjeUIsRUFDZEEsRUFBS2xLLEdBRUFrSyxJQUFPbEssR0FDWmlLLEVBQUd2TyxLQUFLd08sR0FDUkEsRUFBS3pCLEdBQ0E2QixPQUNNdEssR0FDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLekYsR0FDTDhELE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU2hGLEtBRXBDd0YsSUFBT3BLLElBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CMkIsRUFBS3ZGLEdBQ0w0RCxPQUVBMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM5RSxLQUVwQ3NGLElBQU9wSyxJQUM2QixLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQjJCLEVBQUtyRixHQUNMMEQsT0FFQTJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTNUUsS0FFcENvRixJQUFPcEssSUFDTEosRUFBTThMLE9BQU9qRCxHQUFhLEtBQU94RCxJQUNuQ21GLEVBQUtuRixHQUNMd0QsSUFBZSxJQUVmMkIsRUFBS3BLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVMxRSxLQUVwQ2tGLElBQU9wSyxJQUNMSixFQUFNOEwsT0FBT2pELEdBQWEsS0FBT3RELElBQ25DaUYsRUFBS2pGLEdBQ0xzRCxJQUFlLElBRWYyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3hFLEtBRXBDZ0YsSUFBT3BLLElBQ0xKLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPcEQsSUFDbkMrRSxFQUFLL0UsR0FDTG9ELElBQWUsSUFFZjJCLEVBQUtwSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTdEUsVUFPOUM4RSxJQUFPcEssR0FDSnNLLE9BQ010SyxJQUNUaUwsRUFBS1ksUUFDTTdMLEVBR1RrSyxFQURLakgsRUFBUStHLEVBQUlJLEVBQUlhLElBV3pCeEMsR0FBY3lCLEVBQ2RBLEVBQUtsSyxLQUdQeUksR0FBY3lCLEVBQ2RBLEVBQUtsSyxHQUdMaUssSUFBT2pLLEVBR1QrSixFQURBQyxFQUFLekUsR0FBUXlFLEVBQUlDLElBR2pCeEIsR0FBY3NCLEVBQ2RBLEVBQUsvSixRQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixFQUdQLE9BQU8rSixFQUdULFNBQVM4QixLQUNQLElBQUk5QixFQUFJQyxFQUFRRSxFQW9EaEIsT0FsREFILEVBQUsrQixRQUNNOUwsSUFDVCtKLEVBQUt0QixHQUNpQyxLQUFsQzdJLEVBQU14QyxXQUFXcUwsS0FDbkJ1QixFQUFLMUYsR0FDTG1FLE9BRUF1QixFQUFLaEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3JGLEtBRXBDeUYsSUFBT2hLLElBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CdUIsRUFBS3hGLEdBQ0xpRSxPQUVBdUIsRUFBS2hLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNuRixLQUVwQ3VGLElBQU9oSyxJQUM2QixNQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQnVCLEVBQUt4RSxHQUNMaUQsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTbkUsT0FJeEN1RSxJQUFPaEssR0FDSnNLLE9BQ010SyxJQUNUa0ssRUFBSzRCLFFBQ005TCxFQUdUK0osRUFEQUMsRUFBS3RFLEdBQVFzRSxFQUFJRSxJQVdyQnpCLEdBQWNzQixFQUNkQSxFQUFLL0osSUFJRitKLEVBR1QsU0FBUytCLEtBQ1AsSUFBSS9CLEVBQUlDLEVBQVFFLEVBQUlDLEVBT3BCLEdBTEFKLEVBQUt0QixJQUNMdUIsRUFBS3NCLFFBQ010TCxJQUNUZ0ssRUFBS1ksTUFFSFosSUFBT2hLLEVBRVQsR0FES3NLLE9BQ010SyxFQUFZLENBU3JCLEdBUkFrSyxFQUFLLEdBQ2lDLEtBQWxDdEssRUFBTXhDLFdBQVdxTCxLQUNuQjBCLEVBQUt2RSxHQUNMNkMsT0FFQTBCLEVBQUtuSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTL0QsS0FFcENzRSxJQUFPbkssRUFDVCxLQUFPbUssSUFBT25LLEdBQ1prSyxFQUFHeE8sS0FBS3lPLEdBQzhCLEtBQWxDdkssRUFBTXhDLFdBQVdxTCxLQUNuQjBCLEVBQUt2RSxHQUNMNkMsT0FFQTBCLEVBQUtuSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTL0QsVUFJMUNxRSxFQUFLbEssRUFFSGtLLElBQU9sSyxFQUdUK0osRUFEQUMsRUFBS2xFLEdBQVFrRSxFQUFJRSxJQUdqQnpCLEdBQWNzQixFQUNkQSxFQUFLL0osUUFHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osT0FHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osRUFTUCxPQVBJK0osSUFBTy9KLElBQ1QrSixFQUFLYSxRQUNNNUssSUFDVCtKLEVBQUt1QixNQUlGdkIsRUFHVCxTQUFTYSxLQUNQLElBQUliLEVBQUlDLEVBQVFFLEVBQVFFLEVBQUlDLEVBQUlZLEVBQUlDLEVBQUlhLEVBQVNDLEVBSWpELEdBRkFqQyxFQUFLdEIsSUFDTHVCLEVBQUtjLFFBQ005SyxFQUVULEdBREtzSyxPQUNNdEssRUFRVCxHQVBzQyxLQUFsQ0osRUFBTXhDLFdBQVdxTCxLQUNuQnlCLEVBQUtqRSxHQUNMd0MsT0FFQXlCLEVBQUtsSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTMUQsS0FFcENnRSxJQUFPbEssRUFFVCxHQURLc0ssT0FDTXRLLEVBRVQsSUFEQW9LLEVBQUs2QixRQUNNak0sRUFBWSxDQW9DckIsSUFuQ0FxSyxFQUFLLEdBQ0xZLEVBQUt4QyxJQUNMeUMsRUFBS1osUUFDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25Cc0QsRUFBSzVKLEVBQ0xzRyxPQUVBc0QsRUFBSy9MLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN4SCxJQUVwQzJKLElBQU8vTCxHQUNIc0ssT0FDTXRLLElBQ1ZnTSxFQUFNQyxRQUNNak0sRUFHVmlMLEVBREFDLEVBQUsvRSxHQUFRNkQsRUFBSUksRUFBSTRCLElBV3pCdkQsR0FBY3dDLEVBQ2RBLEVBQUtqTCxLQUdQeUksR0FBY3dDLEVBQ2RBLEVBQUtqTCxHQUVBaUwsSUFBT2pMLEdBQ1pxSyxFQUFHM08sS0FBS3VQLEdBQ1JBLEVBQUt4QyxJQUNMeUMsRUFBS1osUUFDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25Cc0QsRUFBSzVKLEVBQ0xzRyxPQUVBc0QsRUFBSy9MLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN4SCxJQUVwQzJKLElBQU8vTCxHQUNIc0ssT0FDTXRLLElBQ1ZnTSxFQUFNQyxRQUNNak0sRUFHVmlMLEVBREFDLEVBQUsvRSxHQUFRNkQsRUFBSUksRUFBSTRCLElBV3pCdkQsR0FBY3dDLEVBQ2RBLEVBQUtqTCxLQUdQeUksR0FBY3dDLEVBQ2RBLEVBQUtqTCxHQUdMcUssSUFBT3JLLElBQ1RpTCxFQUFLWCxRQUNNdEssR0FDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkJ5QyxFQUFLNUUsR0FDTG1DLE9BRUF5QyxFQUFLbEwsRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3JELEtBRXBDMkUsSUFBT2xMLEVBR1QrSixFQURBQyxFQUFLeEQsR0FBUXdELEVBQUlJLEVBQUlDLElBR3JCNUIsR0FBY3NCLEVBQ2RBLEVBQUsvSixLQU9UeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixRQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixPQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixPQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixPQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixPQUdQeUksR0FBY3NCLEVBQ2RBLEVBQUsvSixFQUdQLE9BQU8rSixFQUdULFNBQVN1QixLQUNQLElBQUl2QixFQUFJQyxFQUFRRSxFQUFRRSxFQXlFeEIsT0F2RUFMLEVBOTRDRixXQUNFLElBQUlBLEVBQUlDLEVBQVFFLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlZLEVBQUlDLEVBQUlhLEVBVXhDLEdBUkFoQyxFQUFLdEIsR0FDaUMsS0FBbEM3SSxFQUFNeEMsV0FBV3FMLEtBQ25CdUIsRUFBS3pJLEVBQ0xrSCxPQUVBdUIsRUFBS2hLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNwSSxJQUVwQ3dJLElBQU9oSyxFQUVULEdBREtzSyxPQUNNdEssRUFFVCxJQURBa0ssRUFBS2MsUUFDTWhMLEVBQVksQ0FJckIsR0FIQW1LLEVBQUssR0FDTEMsRUFBSzNCLElBQ0w0QixFQUFLQyxRQUNNdEssRUFBWSxDQWtCckIsR0FqQkFpTCxFQUFLLEdBQ2lDLEtBQWxDckwsRUFBTXhDLFdBQVdxTCxLQUNuQnlDLEVBQUs5SyxFQUNMcUksT0FFQXlDLEVBQUtsTCxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTdkosSUFFcEM2SyxJQUFPbEwsSUFDTHlCLEVBQVErSSxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUM1QnlDLEVBQUt0TCxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBeUMsRUFBS2xMLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNsSSxLQUd0Q3dKLElBQU9sTCxFQUNULEtBQU9rTCxJQUFPbEwsR0FDWmlMLEVBQUd2UCxLQUFLd1AsR0FDOEIsS0FBbEN0TCxFQUFNeEMsV0FBV3FMLEtBQ25CeUMsRUFBSzlLLEVBQ0xxSSxPQUVBeUMsRUFBS2xMLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN2SixJQUVwQzZLLElBQU9sTCxJQUNMeUIsRUFBUStJLEtBQUs1SyxFQUFNNkssT0FBT2hDLE1BQzVCeUMsRUFBS3RMLEVBQU02SyxPQUFPaEMsSUFDbEJBLE9BRUF5QyxFQUFLbEwsRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU2xJLFVBSzVDdUosRUFBS2pMLEVBRUhpTCxJQUFPakwsSUFDVGtMLEVBQUtaLFFBQ010SyxJQUNUK0wsRUFBS2YsUUFDTWhMLEVBR1RvSyxFQURBQyxFQUFLMUksRUFBUXVJLEVBQUk2QixJQVdyQnRELEdBQWMyQixFQUNkQSxFQUFLcEssUUFHUHlJLEdBQWMyQixFQUNkQSxFQUFLcEssRUFFUCxLQUFPb0ssSUFBT3BLLEdBSVosR0FIQW1LLEVBQUd6TyxLQUFLME8sR0FDUkEsRUFBSzNCLElBQ0w0QixFQUFLQyxRQUNNdEssRUFBWSxDQWtCckIsR0FqQkFpTCxFQUFLLEdBQ2lDLEtBQWxDckwsRUFBTXhDLFdBQVdxTCxLQUNuQnlDLEVBQUs5SyxFQUNMcUksT0FFQXlDLEVBQUtsTCxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTdkosSUFFcEM2SyxJQUFPbEwsSUFDTHlCLEVBQVErSSxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUM1QnlDLEVBQUt0TCxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBeUMsRUFBS2xMLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNsSSxLQUd0Q3dKLElBQU9sTCxFQUNULEtBQU9rTCxJQUFPbEwsR0FDWmlMLEVBQUd2UCxLQUFLd1AsR0FDOEIsS0FBbEN0TCxFQUFNeEMsV0FBV3FMLEtBQ25CeUMsRUFBSzlLLEVBQ0xxSSxPQUVBeUMsRUFBS2xMLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN2SixJQUVwQzZLLElBQU9sTCxJQUNMeUIsRUFBUStJLEtBQUs1SyxFQUFNNkssT0FBT2hDLE1BQzVCeUMsRUFBS3RMLEVBQU02SyxPQUFPaEMsSUFDbEJBLE9BRUF5QyxFQUFLbEwsRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU2xJLFVBSzVDdUosRUFBS2pMLEVBRUhpTCxJQUFPakwsSUFDVGtMLEVBQUtaLFFBQ010SyxJQUNUK0wsRUFBS2YsUUFDTWhMLEVBR1RvSyxFQURBQyxFQUFLMUksRUFBUXVJLEVBQUk2QixJQVdyQnRELEdBQWMyQixFQUNkQSxFQUFLcEssUUFHUHlJLEdBQWMyQixFQUNkQSxFQUFLcEssRUFHTG1LLElBQU9uSyxJQUNUb0ssRUFBS0UsUUFDTXRLLEdBQzZCLEtBQWxDSixFQUFNeEMsV0FBV3FMLEtBQ25CNEIsRUFBS3hJLEVBQ0w0RyxPQUVBNEIsRUFBS3JLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM5SCxJQUVwQ3VJLElBQU9ySyxFQUdUK0osRUFEQUMsRUFBS2pJLEVBQVFtSSxFQUFJQyxJQUdqQjFCLEdBQWNzQixFQUNkQSxFQUFLL0osS0FPVHlJLEdBQWNzQixFQUNkQSxFQUFLL0osUUFHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osT0FHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osT0FHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osRUFHUCxPQUFPK0osRUE2c0NGbUMsTUFDTWxNLElBQ1QrSixFQUFLdEIsR0FDRDdJLEVBQU04TCxPQUFPakQsR0FBYSxLQUFPL0IsSUFDbkNzRCxFQUFLdEQsR0FDTCtCLElBQWUsSUFFZnVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTakQsS0FFcENxRCxJQUFPaEssSUFFVGdLLEVBQUtwRCxPQUVQbUQsRUFBS0MsS0FDTWhLLElBQ1QrSixFQUFLZSxRQUNNOUssSUFDVCtKLEVBK0VSLFdBQ0UsSUFBSUEsRUFPSixPQUxBQSxFQVFGLFdBQ0UsSUFBSUEsRUFBSUMsRUFBSUMsRUFBSUMsRUFhaEIsR0FYQUgsRUFBS3RCLEdBQ2lDLEtBQWxDN0ksRUFBTXhDLFdBQVdxTCxLQUNuQnVCLEVBQUt4RixHQUNMaUUsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTbkYsS0FFcEN1RixJQUFPaEssSUFDVGdLLEVBQUssTUFFSEEsSUFBT2hLLEVBQVksQ0FTckIsR0FSQWlLLEVBQUssR0FDRGxELEdBQVF5RCxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUM1QnlCLEVBQUt0SyxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBeUIsRUFBS2xLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM1QyxLQUVwQ2tELElBQU9sSyxFQUNULEtBQU9rSyxJQUFPbEssR0FDWmlLLEVBQUd2TyxLQUFLd08sR0FDSm5ELEdBQVF5RCxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUM1QnlCLEVBQUt0SyxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBeUIsRUFBS2xLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVM1QyxVQUkxQ2lELEVBQUtqSyxFQUVIaUssSUFBT2pLLElBSVBrSyxHQUZGQSxFQUFLakQsR0FBUStDLEVBQUlDLFNBRVZuSyxFQUVBRSxLQUVJQSxHQUVUZ0ssRUFBSzFDLEdBQVEwQyxFQUFJQyxHQUNqQkYsRUFBS0MsSUFNUHZCLEdBQWNzQixFQUNkQSxFQUFLL0osUUFHUHlJLEdBQWNzQixFQUNkQSxFQUFLL0osRUFHUCxPQUFPK0osRUF0RUZvQyxNQUNNbk0sSUFDVCtKLEVBdUVKLFdBQ0UsSUFBSUEsRUFBSUMsRUFBSUMsRUFBSUMsRUFjaEIsR0FaQW5CLEtBQ0FnQixFQUFLdEIsR0FDaUMsS0FBbEM3SSxFQUFNeEMsV0FBV3FMLEtBQ25CdUIsRUFBS3hGLEdBQ0xpRSxPQUVBdUIsRUFBS2hLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNuRixLQUVwQ3VGLElBQU9oSyxJQUNUZ0ssRUFBSyxNQUVIQSxJQUFPaEssRUFBWSxDQVNyQixHQVJBaUssRUFBSyxHQUNEdkMsR0FBUThDLEtBQUs1SyxFQUFNNkssT0FBT2hDLE1BQzVCeUIsRUFBS3RLLEVBQU02SyxPQUFPaEMsSUFDbEJBLE9BRUF5QixFQUFLbEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU2pDLEtBRXBDdUMsSUFBT2xLLEVBQ1QsS0FBT2tLLElBQU9sSyxHQUNaaUssRUFBR3ZPLEtBQUt3TyxHQUNKeEMsR0FBUThDLEtBQUs1SyxFQUFNNkssT0FBT2hDLE1BQzVCeUIsRUFBS3RLLEVBQU02SyxPQUFPaEMsSUFDbEJBLE9BRUF5QixFQUFLbEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU2pDLFVBSTFDc0MsRUFBS2pLLEVBRUhpSyxJQUFPakssR0FFVGdLLEVBQUtwQyxHQUFRb0MsRUFBSUMsR0FDakJGLEVBQUtDLElBRUx2QixHQUFjc0IsRUFDZEEsRUFBSy9KLFFBR1B5SSxHQUFjc0IsRUFDZEEsRUFBSy9KLEVBUVAsT0FOQStJLEtBQ0lnQixJQUFPL0osSUFDVGdLLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTcEMsS0FHakN1QyxFQS9IQXFDLElBR0FyQyxFQXZGSXNDLE1BQ01yTSxJQUNUK0osRUFBS3RCLEdBQ2lDLEtBQWxDN0ksRUFBTXhDLFdBQVdxTCxLQUNuQnVCLEVBQUsvRCxHQUNMd0MsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTMUQsS0FFcEM4RCxJQUFPaEssR0FDSnNLLE9BQ010SyxJQUNUa0ssRUFBS1csUUFDTTdLLEdBQ0pzSyxPQUNNdEssR0FDNkIsS0FBbENKLEVBQU14QyxXQUFXcUwsS0FDbkIyQixFQUFLOUQsR0FDTG1DLE9BRUEyQixFQUFLcEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3JELEtBRXBDNkQsSUFBT3BLLEVBR1QrSixFQURBQyxFQUFLbkQsR0FBUXFELElBR2J6QixHQUFjc0IsRUFDZEEsRUFBSy9KLEtBZWJ5SSxHQUFjc0IsRUFDZEEsRUFBSy9KLEtBT1IrSixFQUdULFNBQVNrQyxLQUNQLElBQUlsQyxFQUFJQyxFQW1CUixPQWpCQUQsRUFBS3RCLEdBQ2lDLEtBQWxDN0ksRUFBTXhDLFdBQVdxTCxLQUNuQnVCLEVBQUt4SCxFQUNMaUcsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTbkgsSUFFcEN1SCxJQUFPaEssSUFFVGdLLEVBQUtsRCxPQUVQaUQsRUFBS0MsS0FDTWhLLElBQ1QrSixFQUFLYyxNQUdBZCxFQTBJVCxTQUFTZSxLQUNQLElBQUlmLEVBQUlDLEVBQUlDLEVBQUlDLEVBS2hCLEdBSEFuQixLQUNBZ0IsRUFBS3RCLElBQ0x1QixFQTJDRixXQUNFLElBQUlELEVBVUosT0FSSTNCLEdBQVFvQyxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUM1QnNCLEVBQUtuSyxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBc0IsRUFBSy9KLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN2QixLQUdqQzBCLEVBdERGdUMsTUFDTXRNLEVBQVksQ0FHckIsSUFGQWlLLEVBQUssR0FDTEMsRUFBS3FDLEtBQ0VyQyxJQUFPbEssR0FDWmlLLEVBQUd2TyxLQUFLd08sR0FDUkEsRUFBS3FDLEtBRUh0QyxJQUFPakssRUFHVCtKLEVBREFDLEVBQUtqQyxHQUFRaUMsRUFBSUMsSUFHakJ4QixHQUFjc0IsRUFDZEEsRUFBSy9KLFFBR1B5SSxHQUFjc0IsRUFDZEEsRUFBSy9KLEVBUVAsT0FOQStJLEtBQ0lnQixJQUFPL0osSUFDVGdLLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTOUIsS0FHakNpQyxFQUdULFNBQVN3QyxLQUNQLElBQUl4QyxFQVVKLE9BUkk3QixHQUFRc0MsS0FBSzVLLEVBQU02SyxPQUFPaEMsTUFDNUJzQixFQUFLbkssRUFBTTZLLE9BQU9oQyxJQUNsQkEsT0FFQXNCLEVBQUsvSixFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTekIsS0FHakM0QixFQWlCVCxTQUFTTyxLQUNQLElBQUlQLEVBQUlDLEVBV1IsSUFUQWpCLEtBQ0FnQixFQUFLLEdBQ0R4QixHQUFRaUMsS0FBSzVLLEVBQU02SyxPQUFPaEMsTUFDNUJ1QixFQUFLcEssRUFBTTZLLE9BQU9oQyxJQUNsQkEsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTcEIsS0FFakN3QixJQUFPaEssR0FDWitKLEVBQUdyTyxLQUFLc08sR0FDSnpCLEdBQVFpQyxLQUFLNUssRUFBTTZLLE9BQU9oQyxNQUM1QnVCLEVBQUtwSyxFQUFNNkssT0FBT2hDLElBQ2xCQSxPQUVBdUIsRUFBS2hLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVNwQixLQVMxQyxPQU5BTyxLQUNJZ0IsSUFBTy9KLElBQ1RnSyxFQUFLaEssRUFDbUIsSUFBcEIrSSxJQUF5QmEsR0FBU3RCLEtBR2pDeUIsRUFHVCxTQUFTVyxLQUNQLElBQUlYLEVBQUlDLEVBV1IsR0FUQWpCLEtBQ0FnQixFQUFLLEdBQ0R4QixHQUFRaUMsS0FBSzVLLEVBQU02SyxPQUFPaEMsTUFDNUJ1QixFQUFLcEssRUFBTTZLLE9BQU9oQyxJQUNsQkEsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTcEIsS0FFcEN3QixJQUFPaEssRUFDVCxLQUFPZ0ssSUFBT2hLLEdBQ1orSixFQUFHck8sS0FBS3NPLEdBQ0p6QixHQUFRaUMsS0FBSzVLLEVBQU02SyxPQUFPaEMsTUFDNUJ1QixFQUFLcEssRUFBTTZLLE9BQU9oQyxJQUNsQkEsT0FFQXVCLEVBQUtoSyxFQUNtQixJQUFwQitJLElBQXlCYSxHQUFTcEIsVUFJMUN1QixFQUFLL0osRUFRUCxPQU5BK0ksS0FDSWdCLElBQU8vSixJQUNUZ0ssRUFBS2hLLEVBQ21CLElBQXBCK0ksSUFBeUJhLEdBQVN0QixLQUdqQ3lCLEVBSVAsU0FBUzNHLEdBQWdCNEUsRUFBZUMsRUFBZ0J1RSxFQUFlQyxHQUdyRSxHQUZBRCxFQUFRQSxHQUFTLE9BQ2pCQyxFQUFXQSxHQUFZLFlBQ25CeEUsR0FBd0IsSUFBaEJBLEVBQUsxTSxPQUNmLE9BQU95TSxFQUVULEdBQWMsU0FBVndFLEVBQWlCLENBQ25CLElBQUlFLEVBQVF6RSxFQUFLMEUsTUFDakIsTUFBTyxDQUNMOUwsS0FBTTRMLEVBQ052SixHQUFJd0osRUFBTyxHQUNYRSxLQUFNeEosR0FBZ0I0RSxFQUFPQyxFQUFNdUUsRUFBT0MsR0FDMUNDLE1BQU9BLEVBQU8sR0FDZEcsY0FBZUwsR0FJakIsSUFBSUksRUFBTzNFLEVBQUs2RSxRQUNoQixNQUFPLENBQ0xqTSxLQUFNNEwsRUFDTnZKLEdBQUkwSixFQUFNLEdBQ1ZBLEtBQU01RSxFQUNOMEUsTUFBT3RKLEdBQWdCd0osRUFBTSxHQUFJM0UsRUFBTXVFLEVBQU9DLEdBQzlDSSxjQUFlTCxHQVF2QixJQUZBek0sRUFBYUksT0FFTUgsR0FBY3lJLEtBQWdCN0ksRUFBTXJFLE9BQ3JELE9BQU93RSxFQU1QLE1BSklBLElBQWVDLEdBQWN5SSxHQUFjN0ksRUFBTXJFLFFBQ25EcU8sR0F0bUVLLENBQUVsTCxLQUFNLFFBeW1FVG1MLEdBQ0pmLEdBQ0FELEdBQWlCakosRUFBTXJFLE9BQVNxRSxFQUFNNkssT0FBTzVCLElBQWtCLEtBQy9EQSxHQUFpQmpKLEVBQU1yRSxPQUNuQitOLEdBQW9CVCxHQUFnQkEsR0FBaUIsR0FDckRTLEdBQW9CVCxHQUFnQkEsK3FCQ3JoRjlDLElBQUFrRSxFQUFBOVUsRUFBQSxHQUNBK1UsRUFBQS9VLEVBQUEsR0FnQkFnVixFQUFBLFdBUUEsT0FKSSxTQUFtQkMsRUFBMEJ4UyxHQUN6Q29ELEtBQUtwRCxRQUFVQSxFQUNmb0QsS0FBS29QLFVBQVlBLEdBTnpCLEdBQWEvVSxFQUFBOFUsY0FVYixJQUFBRSxFQUFBLFdBcUNJLFNBQUFBLEVBQW1CakwsRUFBY0ssRUFBYzZLLEVBQXlCQyxHQWZ4RHZQLEtBQUF3UCxRQUFVLEVBZ0J0QnhQLEtBQUtvRSxLQUFPQSxFQUNacEUsS0FBS3lFLEtBQU9BLEVBQ1p6RSxLQUFLeVAsT0FBU3JMLEVBQ2RwRSxLQUFLMFAsTUFBUWpMLEVBQ2J6RSxLQUFLMlAsTUFBUXZMLEVBQU9LLEVBQ3BCekUsS0FBS3NQLEtBQU9MLEVBQUFuUyxXQUFXd1MsR0FDdkJ0UCxLQUFLdVAsU0FBV0EsRUFFaEJ2UCxLQUFLNFAsU0FBb0IsSUFBVHhMLEdBQXVCLElBQVRLLEVBQzlCekUsS0FBSzZQLFNBQW9CLElBQVR6TCxHQUF1QixJQUFUSyxFQUU5QnpFLEtBQUtULE1BQVEwUCxFQUFBblEsTUFBTUcsUUFBUSxDQUFDZSxLQUFLb0UsS0FBTXBFLEtBQUt5UCxPQUFRelAsS0FBS3NQLE1BQU9MLEVBQUFuUSxNQUFNRSxlQW9KOUUsT0FqTWtCcVEsRUFBQVMsYUFBZCxTQUEyQkMsR0FDdkIsT0FBSTdSLEtBQUs4UixNQUFNRCxJQUFRQSxFQUNaQSxFQUFJM1EsV0FHSjJRLEVBQUlFLFlBQVksSUFJakJaLEVBQUFhLE9BQWQsU0FBcUIxVSxFQUFlK1QsR0FDaEMsT0FBTyxJQUFJRixFQUFPLEVBQUcsRUFBRyxDQUFDN1QsR0FBUStULElBR3ZCRixFQUFBYyxZQUFkLFNBQTBCL0wsRUFBY0ssRUFBYzhLLEdBQ2xELE9BQU8sSUFBSUYsRUFBT2pMLEVBQU1LLEVBQU0sSUFBSXZELE1BQU1rRCxFQUFPSyxHQUFPOEssSUFrQ25ERixFQUFBbFQsVUFBQWlELFNBQVAsV0FDSSxNQUFPLFNBQVdZLEtBQUtvRSxLQUFPLFVBQVlwRSxLQUFLeUUsS0FBTyxXQUFhMkwsS0FBS0MsVUFBVXJRLEtBQUtzUCxPQUdwRkQsRUFBQWxULFVBQUFtVSxNQUFQLFdBRUksT0FBTyxJQUFJakIsRUFBT3JQLEtBQUtvRSxLQUFNcEUsS0FBS3lFLEtBQU16RSxLQUFLc1AsS0FBS3RTLFFBQVNnRCxLQUFLdVAsV0FHN0RGLEVBQUFsVCxVQUFBb1UsT0FBUCxTQUFjQyxHQUNWLE9BQU94USxLQUFLMFAsUUFBVWMsRUFBTWQsT0FBUzFQLEtBQUt5UCxTQUFXZSxFQUFNZixRQUNwRHpQLEtBQUtzUCxLQUFLbUIsTUFBTSxTQUFDalYsRUFBT2pCLEdBQU0sT0FBQWlCLElBQVVnVixFQUFNbEIsS0FBSy9VLE1BR3ZEOFUsRUFBQWxULFVBQUF1VSxZQUFQLFNBQW1CQyxFQUFhQyxHQUc1QixPQUZBRCxHQUFZLEdBQ1pDLEdBQVksR0FDQzVRLEtBQUtvRSxLQUFPdU0sRUFBTSxHQUc1QnRCLEVBQUFsVCxVQUFBMFUsU0FBUCxTQUFnQkMsR0FDWixPQUFPOVEsS0FBS3NQLEtBQUt3QixFQUFRLElBR3RCekIsRUFBQWxULFVBQUE0VSxVQUFQLFNBQWlCRCxFQUFldFYsR0FFNUIsT0FEV3dFLEtBQUtzUCxLQUFNd0IsRUFBUSxHQUFLdFYsRUFDNUJ3RSxNQUdKcVAsRUFBQWxULFVBQUE2VSxHQUFQLFNBQVVMLEVBQWFDLEdBR25CLE9BRkFELEdBQVksRUFDWkMsR0FBWSxFQUNMNVEsS0FBS3NQLEtBQUtzQixFQUFNNVEsS0FBS29FLEtBQU91TSxJQUdoQ3RCLEVBQUFsVCxVQUFBOFUsTUFBUCxTQUFhTixFQUFhQyxFQUFhcFYsR0FJbkMsT0FIQW1WLEdBQVksRUFDWkMsR0FBWSxFQUNENVEsS0FBS3NQLEtBQU1zQixFQUFNNVEsS0FBS29FLEtBQU91TSxHQUFPblYsRUFDeEN3RSxNQUdKcVAsRUFBQWxULFVBQUErVSxLQUFQLFNBQVkxVixHQUNSLElBQUksSUFBSWpCLEVBQUksRUFBR0EsRUFBSXlGLEtBQUtzUCxLQUFLN1IsU0FBVWxELEVBQ3hCeUYsS0FBS3NQLEtBQU0vVSxHQUFLaUIsRUFFL0IsT0FBT3dFLE1BSUpxUCxFQUFBbFQsVUFBQWdWLE9BQVAsU0FBYzdCLEdBQ1ZMLEVBQUF2UyxPQUFPc0QsS0FBS3NQLEtBQUs3UixTQUFXNlIsRUFBSzdSLE9BQVEsOENBQ3pDLElBQUksSUFBSWxELEVBQUksRUFBR0EsRUFBSXlGLEtBQUtzUCxLQUFLN1IsU0FBVWxELEVBQ3hCeUYsS0FBS3NQLEtBQU0vVSxHQUFLK1UsRUFBSy9VLEdBRXBDLE9BQU95RixNQUdKcVAsRUFBQWxULFVBQUFpVixXQUFQLFNBQWtCQyxHQUNkclIsS0FBS21SLE9BQU9uUixLQUFLc1AsS0FBS3RPLElBQUlxUSxLQUd2QmhDLEVBQUFsVCxVQUFBc0IsT0FBUCxTQUFjNlQsR0FDVixPQUFrQixJQUFkQSxFQUNPdFIsS0FBS29FLEtBR0xwRSxLQUFLeUUsTUFJYjRLLEVBQUFsVCxVQUFBb1YsWUFBUCxXQUNJLE9BQU92UixLQUFLc1AsS0FBSyxJQU9kRCxFQUFBbFQsVUFBQXFWLFNBQVAsU0FBZ0JoVyxHQUNaLE9BQXFDLElBQTlCd0UsS0FBS3NQLEtBQUtoRyxRQUFROU4sSUFHdEI2VCxFQUFBbFQsVUFBQXNWLFFBQVAsU0FBZWIsR0FDWCxPQUFPNVEsS0FBS3NQLEtBQUt0UyxPQUFPNFQsRUFBSSxHQUFLNVEsS0FBS29FLEtBQU13TSxFQUFNNVEsS0FBS29FLE9BR3BEaUwsRUFBQWxULFVBQUF1VixXQUFQLFNBQWtCZCxFQUFhZSxHQUMzQixJQUFJLElBQUl0VyxFQUFJLEVBQUdkLEVBQUksRUFBR2MsR0FBSzJFLEtBQUtvRSxPQUFRL0ksRUFDcEMyRSxLQUFLaVIsTUFBTTVWLEVBQUd1VixFQUFLZSxFQUFRcFgsT0FJNUI4VSxFQUFBbFQsVUFBQXlWLFFBQVAsU0FBZWpCLEdBQWYsSUFBQTVRLEVBQUFDLEtBQ0ksT0FBT2tQLEVBQUF4USxNQUFNLEVBQUdzQixLQUFLeUUsS0FBTyxHQUFHekQsSUFBSSxTQUFDcEcsR0FBTSxPQUFBbUYsRUFBS2lSLEdBQUdMLEVBQUsvVixNQUdwRHlVLEVBQUFsVCxVQUFBMFYsV0FBUCxTQUFrQmxCLEVBQWFnQixHQUMzQixJQUFJLElBQUkvVyxFQUFJLEVBQUdMLEVBQUksRUFBR0ssR0FBS29GLEtBQUt5RSxPQUFRN0osRUFDcENvRixLQUFLaVIsTUFBTU4sRUFBSy9WLEVBQUcrVyxFQUFRcFgsT0FJNUI4VSxFQUFBbFQsVUFBQTJWLGVBQVAsU0FBc0JULEdBQXRCLElBQUF0UixFQUFBQyxLQUNJLE9BQU8sSUFBSXFQLEVBQU8sRUFBR3JQLEtBQUt5RSxLQUN0QnlLLEVBQUF4USxNQUFNLEVBQUdzQixLQUFLeUUsS0FBSyxHQUFHekQsSUFBSSxTQUFDcEcsR0FBTSxPQUFBbUYsRUFBSzBSLFFBQVE3VyxHQUFHbVgsT0FBT1YsS0FDeEQsV0FHRGhDLEVBQUFsVCxVQUFBNlYsZUFBUCxTQUFzQlgsR0FBdEIsSUFBQXRSLEVBQUFDLEtBQ0ksT0FBTyxJQUFJcVAsRUFBT3JQLEtBQUtvRSxLQUFNLEVBQ3pCOEssRUFBQXhRLE1BQU0sRUFBR3NCLEtBQUtvRSxLQUFLLEdBQUdwRCxJQUFJLFNBQUNwRyxHQUFNLE9BQUFtRixFQUFLNlIsUUFBUWhYLEdBQUdtWCxPQUFPVixLQUN4RCxXQUdEaEMsRUFBQWxULFVBQUE4VixlQUFQLFNBQXNCbFEsR0FFbEIsSUFBSW1RLEVBQVFDLEVBQUUsbUJBQ2RELEVBQU1FLFNBQVMsZ0JBR08sWUFBbEJwUyxLQUFLdVAsVUFDTDJDLEVBQU1HLElBQUksbUJBQW9CclMsS0FBS1QsT0FFdkMsSUFBSyxJQUFJbEUsRUFBSSxFQUFHQSxHQUFLMkUsS0FBS29FLE9BQVEvSSxFQUFHLENBQ2pDLElBQUlpWCxFQUFLSCxFQUFFLGFBQ1hELEVBQU1LLE9BQU9ELEdBQ2IsSUFBSyxJQUFJMVgsRUFBSSxFQUFHQSxHQUFLb0YsS0FBS3lFLE9BQVE3SixFQUFHLENBQ2pDLElBQUk0WCxFQUFLTCxFQUFFLHdDQUNQTSxFQUFPTixFQUFFLGVBQ2JNLEVBQUtMLFNBQVMsaUJBQ1EsWUFBbEJwUyxLQUFLdVAsVUFDTGlELEVBQUdKLFNBQVNwUyxLQUFLZ1IsR0FBRzNWLEVBQUVULEdBQUssWUFBYyxhQUU3QyxJQUFJOFgsRUFBV1AsRUFBRSxpQkFDakJPLEVBQVNDLEtBQUt0RCxFQUFPUyxhQUFhOVAsS0FBS2dSLEdBQUczVixFQUFFVCxLQUM1QzZYLEVBQUtGLE9BQU9HLEdBQ1pGLEVBQUdELE9BQU9FLEdBQ1ZILEVBQUdDLE9BQU9DLElBSWxCLE9BQU9OLEVBQU0sR0FBR1UsV0FHeEJ2RCxFQXJNQSxHQUFhaFYsRUFBQWdWLFNBdU1iLElBQUF3RCxFQUFBLFdBbUNBLE9BbkNBLGdCQXFDQUMsRUFBQSxTQUFBbFQsR0FXSSxTQUFBa1QsRUFBc0JDLEVBQStCQyxHQUFyRCxJQUFBalQsRUFDSUgsRUFBQWxGLEtBQUFzRixPQUFPQSxZQUNQRCxFQUFLZ1QsV0FBYUEsRUFDbEJoVCxFQUFLaVQsV0FBYUEsSUF1SDFCLE9BcklpQzlTLEVBQUE0UyxFQUFBbFQsR0FFZmtULEVBQUFqWCxPQUFkLFNBQXFCb1gsRUFBMEJDLEdBQzNDLE9BQU8sSUFBSUosRUFDUEssRUFBa0J0WCxPQUFPLEVBQUdvWCxHQUM1QkUsRUFBa0J0WCxPQUFPLEVBQUdxWCxLQVk3QkosRUFBQTNXLFVBQUFpWCxhQUFQLFdBQ0ksTUFBTyxJQUFJcFQsS0FBSytTLFdBQVdLLGVBQWMsS0FBS3BULEtBQUtnVCxXQUFXSSxlQUFjLEtBR3pFTixFQUFBM1csVUFBQWtYLG9CQUFQLFNBQTJCQyxHQUN2QixJQUFJcEIsRUFBUUMsRUFBRSxtQkFDZEQsRUFBTUUsU0FBUyxnQkFDZixJQUFJbUIsRUFBZ0IsSUFBSUMsSUFBSXhULEtBQUsrUyxXQUFXVSxtQkFBbUJILElBQzNESSxFQUFnQixJQUFJRixJQUFJeFQsS0FBS2dULFdBQVdTLG1CQUFtQkgsSUFHM0RLLEVBQWdCeEIsRUFBRSxhQUFheUIsU0FBUzFCLEdBRzVDeUIsRUFBY3BCLE9BQU9KLEVBQUUsY0FFdkIsSUFBSSxJQUFJMEIsRUFBSSxFQUFHQSxHQUFLUCxFQUFPN08sT0FBUW9QLEVBQUcsQ0FDbEMsSUFBSUMsRUFBa0IzQixFQUFFLG1DQUFtQzBCLEVBQUMsU0FDdkRELFNBQVNELEdBQ1ZELEVBQWNLLElBQUlGLElBQ2xCQyxFQUFnQjFCLFNBQVMsWUFJakMsSUFBSyxJQUFJL1csRUFBSSxFQUFHQSxHQUFLaVksRUFBT2xQLE9BQVEvSSxFQUFHLENBQ25DLElBQUlpWCxFQUFLSCxFQUFFLGFBQ1hELEVBQU1LLE9BQU9ELEdBQ2IsSUFBSTBCLEVBQWU3QixFQUFFLGdDQUFnQzlXLEVBQUMsU0FDakR1WSxTQUFTdEIsR0FDVmlCLEVBQWNRLElBQUkxWSxJQUNsQjJZLEVBQWE1QixTQUFTLFlBRTFCLElBQUssSUFBSXhYLEVBQUksRUFBR0EsR0FBSzBZLEVBQU83TyxPQUFRN0osRUFBRyxDQUNuQyxJQUFJNFgsRUFBS0wsRUFBRSxxRUFDWEssRUFBR0gsSUFBSSxtQkFBb0JpQixFQUFPL1QsT0FDOUJnVSxFQUFjUSxJQUFJMVksSUFDbEJxWSxFQUFjSyxJQUFJblosSUFDbEI0WCxFQUFHSixTQUFTLFlBUWhCLElBQUlLLEVBQU9OLEVBQUUsZUFDYk0sRUFBS0wsU0FBUyxpQkFDZCxJQUFJTSxFQUFXUCxFQUFFLGlCQUNqQk8sRUFBU0MsS0FBSyxHQUFLVyxFQUFPdEMsR0FBRzNWLEVBQUVULElBQy9CNlgsRUFBS0YsT0FBT0csR0FDWkYsRUFBR0QsT0FBT0UsR0FDVkgsRUFBR0MsT0FBT0MsSUFJbEIsT0FBT04sRUFBTSxHQUFHVSxXQUdiRSxFQUFBM1csVUFBQThYLFVBQVAsU0FBaUJDLEdBQ2IsSUFBSTVFLEVBQWtCLEdBRWxCMkQsRUFBYWpULEtBQUsrUyxXQUFXVSxtQkFBbUJTLEdBQ2hEaEIsRUFBYWxULEtBQUtnVCxXQUFXUyxtQkFBbUJTLEdBU3BELE9BTkFoQixFQUFXaUIsUUFBUSxTQUFDQyxHQUNoQm5CLEVBQVdrQixRQUFRLFNBQUNFLEdBQ2hCL0UsRUFBSzFSLEtBQUtzVyxFQUFPbEQsR0FBR3FELEVBQWFELFFBSWxDLElBQUkvRSxFQUFPNEQsRUFBV3hWLE9BQ3pCeVYsRUFBV3pWLE9BQVE2UixFQUFNNEUsRUFBTzNFLFdBR2pDdUQsRUFBQTNXLFVBQUFtWSxPQUFQLFNBQWNoTSxFQUFnQjlNLEdBRTFCLElBQUl5WCxFQUFhalQsS0FBSytTLFdBQVdVLG1CQUFtQm5MLEdBQ2hENEssRUFBYWxULEtBQUtnVCxXQUFXUyxtQkFBbUJuTCxHQUNoRGlNLEVBQWdCdEIsRUFBV3hWLE9BQzNCK1csRUFBZ0J0QixFQUFXelYsT0FDM0JnWCxFQUFpQkYsRUFBZ0JDLEVBRXJDLEdBQUloWixFQUFNb1UsU0FDTnNELEVBQVdpQixRQUFRLFNBQUNDLEVBQWF4WixHQUM3QnFZLEVBQVdrQixRQUFRLFNBQUNFLEVBQWFoWixHQUM3QmlOLEVBQU8ySSxNQUFNb0QsRUFBYUQsRUFBYTVZLEVBQU0rVix1QkFRcEQsTUFBSWdELElBQWtCL1ksRUFBTTRJLE1BQVFvUSxJQUFrQmhaLEVBQU1pSixPQUN6QyxJQUFsQjhQLEdBQXlDLElBQWxCQyxJQUF3QmhaLEVBQU1xVSxVQUFZNEUsR0FBa0JqWixFQUFNbVUsT0FXM0YsS0FBTSwrRkFDVTRFLEVBQWdCLElBQU1DLEVBQWdCLG1DQUFxQ2haLEVBQU00SSxLQUFPLElBQU01SSxFQUFNaUosS0FBTyxJQVgzSCxJQUFJaVEsRUFBSSxFQUNSeEIsRUFBV2lCLFFBQVEsU0FBQ0MsRUFBYXhaLEdBQzdCcVksRUFBV2tCLFFBQVEsU0FBQ0UsRUFBYWhaLEdBRzdCaU4sRUFBTzJJLE1BQU1vRCxFQUFhRCxFQUFhNVksRUFBTXFWLFNBQVM2RCxZQVUvRDVCLEVBQUEzVyxVQUFBd1ksT0FBUCxTQUFjQyxHQUNWNVUsS0FBSytTLFdBQVc0QixPQUFPQyxHQUN2QjVVLEtBQUtnVCxXQUFXMkIsT0FBT0MsSUFHL0I5QixFQXJJQSxDQUFpQ0QsR0F1SWpDTSxFQUFBLFdBa0JJLFNBQUFBLEVBQXNCN0IsR0FDbEJ0UixLQUFLc1IsVUFBWUEsRUFTekIsT0F4QmtCNkIsRUFBQXRYLE9BQWQsU0FBcUJ5VixFQUFrQnVELEdBQ25DLE1BQXdCLE1BQXBCQSxFQUNPLElBQUlDLEVBQXFCeEQsR0FFRSxZQUE3QnVELEVBQWdCdEYsU0FDZCxJQUFJd0YsRUFBeUJ6RCxFQUFXdUQsR0FHeEMsSUFBSUcsRUFBeUIxRCxFQUFXdUQsSUFWaEMxQixFQUFBOEIsZ0JBQWtCLENBQUMsR0FBSSxNQUFPLFVBMEJ6RDlCLEVBNUJBLEdBOEJBNkIsRUFBQSxTQUFBcFYsR0FJSSxTQUFBb1YsRUFBbUIxRCxFQUFrQnVELEdBQXJDLElBQUE5VSxFQUNJSCxFQUFBbEYsS0FBQXNGLEtBQU1zUixJQUFVdFIsWUFDaEJELEVBQUs4VSxnQkFBa0JBLEVBQWdCdkYsT0FvQi9DLE9BMUJ1Q3BQLEVBQUE4VSxFQUFBcFYsR0FTNUJvVixFQUFBN1ksVUFBQXNYLG1CQUFQLFNBQTBCbUIsR0FDdEIsT0FBTzVVLEtBQUs2VSxpQkFHVEcsRUFBQTdZLFVBQUFpWCxhQUFQLFdBQ0ksT0FBT3BULEtBQUs2VSxnQkFBZ0JuVCxLQUFLLE1BRzlCc1QsRUFBQTdZLFVBQUF3WSxPQUFQLFNBQWNDLEdBQWQsSUFBQTdVLEVBQUFDLEtBQ1FrVixFQUFTTixFQUFJblgsT0FBT3VDLEtBQUtzUixXQUM3QnRSLEtBQUs2VSxnQkFBZ0JWLFFBQVEsU0FBQXJELEdBQ3pCLEdBQUlBLEVBQVEsR0FBS29FLEVBQVNwRSxFQUN0QixNQUFNcUMsRUFBa0I4QixnQkFBZ0JsVixFQUFLdVIsV0FBYSxVQUFZUixFQUFRLDhDQUs5RmtFLEVBMUJBLENBQXVDN0IsR0E0QnZDMkIsRUFBQSxTQUFBbFYsR0FFSSxTQUFBa1YsRUFBbUJ4RCxVQUNmMVIsRUFBQWxGLEtBQUFzRixLQUFNc1IsSUFBVXRSLEtBZXhCLE9BbEJtQ0UsRUFBQTRVLEVBQUFsVixHQU14QmtWLEVBQUEzWSxVQUFBc1gsbUJBQVAsU0FBMEJtQixHQUN0QixPQUFPM0YsRUFBQTFTLFdBQVdtQyxNQUFNLEVBQUdrVyxFQUFJblgsT0FBT3VDLEtBQUtzUixhQUd4Q3dELEVBQUEzWSxVQUFBaVgsYUFBUCxXQUNJLE1BQU8sS0FHSjBCLEVBQUEzWSxVQUFBd1ksT0FBUCxTQUFjQyxLQUlsQkUsRUFsQkEsQ0FBbUMzQixHQW9CbkM0QixFQUFBLFNBQUFuVixHQUtJLFNBQUFtVixFQUFtQnpELEVBQWtCNkQsR0FBckMsSUFBQXBWLEVBQ0lILEVBQUFsRixLQUFBc0YsS0FBTXNSLElBQVV0UixLQUNaNlUsRUFBNkIsVUFDakNNLEVBQWlCN0YsS0FBSzZFLFFBQVEsU0FBQ2lCLEVBQWM3YSxHQUFNLE9BQUE2YSxHQUFnQlAsRUFBZ0JqWCxLQUFLckQsRUFBRSxLQUMxRndGLEVBQUs4VSxnQkFBa0JBLEVBQ3ZCOVUsRUFBS29WLGlCQUFtQkEsSUFzQmhDLE9BaEN1Q2pWLEVBQUE2VSxFQUFBblYsR0FhNUJtVixFQUFBNVksVUFBQXNYLG1CQUFQLFNBQTBCbUIsR0FDdEIsT0FBTzVVLEtBQUs2VSxpQkFHVEUsRUFBQTVZLFVBQUFpWCxhQUFQLFdBQ0ksTUFBTyxXQUdKMkIsRUFBQTVZLFVBQUF3WSxPQUFQLFNBQWNDLEdBRVYsSUFBSVMsRUFBZ0JyVixLQUFLbVYsaUJBQWlCeEYsTUFDdEN1RixFQUFTTixFQUFJblgsT0FBT3VDLEtBQUtzUixXQUM3QixHQUFJK0QsRUFBZ0JILEVBQ2hCLEtBQU0sa0NBQW9DL0IsRUFBa0I4QixnQkFBZ0JqVixLQUFLc1IsV0FDakYsU0FBVytELEVBQWdCLHlDQUEyQ0gsRUFDdEUvQixFQUFrQjhCLGdCQUFnQmpWLEtBQUtzUixXQUFhLE1BSWhFeUQsRUFoQ0EsQ0FBdUM1QixHQWtDdkNtQyxFQUFBLFNBQUExVixHQUFBLFNBQUEwVixtREFjQSxPQWRzQ3BWLEVBQUFvVixFQUFBMVYsR0FFcEIwVixFQUFBelosT0FBZCxTQUFxQjBaLEdBQ2pCLE1BQWdCLE1BQVpBLEVBQ08sSUFBSUMsRUFFZSxZQUFyQkQsRUFBUWhHLFNBQ04sSUFBSWtHLEVBQXNCRixHQUcxQixJQUFJRyxFQUFzQkgsSUFJN0NELEVBZEEsQ0FBc0N6QyxHQWdCdEM2QyxFQUFBLFNBQUE5VixHQUlJLFNBQUE4VixFQUFtQkgsR0FBbkIsSUFBQXhWLEVBQ0lILEVBQUFsRixLQUFBc0YsT0FBT0EsWUFDUEQsRUFBSzhVLGdCQUFrQlUsSUF5RS9CLE9BL0VvQ3JWLEVBQUF3VixFQUFBOVYsR0FTekI4VixFQUFBdlosVUFBQXdZLE9BQVAsU0FBY0MsR0FDVjVVLEtBQUs2VSxnQkFBZ0J2RixLQUFLNkUsUUFBUSxTQUFBckQsR0FDOUIsR0FBSUEsRUFBUSxHQUFLOEQsRUFBSWpGLE1BQVFtQixFQUN6QixLQUFNLFNBQVdBLEVBQVEsOENBSzlCNEUsRUFBQXZaLFVBQUE4WCxVQUFQLFNBQWlCQyxHQUNiLE9BQU8sSUFBSTdFLEVBQ1ByUCxLQUFLNlUsZ0JBQWdCelEsS0FBTXBFLEtBQUs2VSxnQkFBZ0JwUSxLQUNoRHpFLEtBQUs2VSxnQkFBZ0J2RixLQUFLdE8sSUFBSSxTQUFBOFAsR0FBUyxPQUFBb0QsRUFBT3JELFNBQVNDLEtBQ3ZEb0QsRUFBTzNFLFdBSVJtRyxFQUFBdlosVUFBQW1ZLE9BQVAsU0FBY2hNLEVBQWdCOU0sR0FDMUIsR0FBSUEsRUFBTW9VLFNBQVUsQ0FDaEIsSUFBSStGLEVBQUluYSxFQUFNK1YsY0FDZHZSLEtBQUs2VSxnQkFBZ0J2RixLQUFLNkUsUUFBUSxTQUFBckQsR0FDOUJ4SSxFQUFPeUksVUFBVUQsRUFBTzZFLFNBRzNCLElBQUkzVixLQUFLNlUsZ0JBQWdCbEYsT0FBU25VLEVBQU1tVSxNQU16QyxLQUFNLGlDQUFtQ25VLEVBQU1tVSxNQUFRLCtFQUNNM1AsS0FBSzZVLGdCQUFnQmxGLE1BQVEsS0FOMUYzUCxLQUFLNlUsZ0JBQWdCdkYsS0FBSzZFLFFBQVEsU0FBQ3JELEVBQU84RSxHQUN0Q3ROLEVBQU95SSxVQUFVRCxFQUFPdFYsRUFBTXFWLFNBQVMrRSxRQVM1Q0YsRUFBQXZaLFVBQUFpWCxhQUFQLFdBQ0ksTUFBTyxJQUFJcFQsS0FBSzZVLGdCQUFnQnZGLEtBQUs1TixLQUFLLEtBQUksS0FHM0NnVSxFQUFBdlosVUFBQWtYLG9CQUFQLFNBQTJCdUIsR0FDdkIsSUFBSTFDLEVBQVFDLEVBQUUsbUJBQ2RELEVBQU1FLFNBQVMsZ0JBQ2ZGLEVBQU1HLElBQUksbUJBQW9CdUMsRUFBSXJWLE9BRWxDLElBREEsSUFBSXNXLEVBQWEsSUFBSXJDLElBQUl4VCxLQUFLNlUsZ0JBQWdCdkYsTUFDckNqVSxFQUFJLEVBQUdBLEdBQUt1WixFQUFJeFEsT0FBUS9JLEVBQUcsQ0FDaEMsSUFBSWlYLEVBQUtILEVBQUUsYUFDWEQsRUFBTUssT0FBT0QsR0FDYixJQUFLLElBQUkxWCxFQUFJLEVBQUdBLEdBQUtnYSxFQUFJblEsT0FBUTdKLEVBQUcsQ0FDaEMsSUFBSTRYLEVBQUtMLEVBQUUscUVBRVAwRCxFQUFXOUIsSUFBSWEsRUFBSWxFLFlBQVlyVixFQUFHVCxLQUNsQzRYLEVBQUdKLFNBQVMsWUFHaEIsSUFBSTBELEVBQWUzRCxFQUFFLGVBQ3JCMkQsRUFBYTFELFNBQVMsb0JBQ3RCMEQsRUFBYW5ELEtBQUssR0FBS2lDLEVBQUlsRSxZQUFZclYsRUFBRVQsSUFDekM0WCxFQUFHRCxPQUFPdUQsR0FFVixJQUFJckQsRUFBT04sRUFBRSxlQUNiTSxFQUFLTCxTQUFTLGlCQUNkLElBQUlNLEVBQVdQLEVBQUUsaUJBQ2pCTyxFQUFTQyxLQUFLLEdBQUtpQyxFQUFJNUQsR0FBRzNWLEVBQUVULElBQzVCNlgsRUFBS0YsT0FBT0csR0FDWkYsRUFBR0QsT0FBT0UsR0FDVkgsRUFBR0MsT0FBT0MsSUFJbEIsT0FBT04sRUFBTSxHQUFHVSxXQUV4QjhDLEVBL0VBLENBQW9DSixHQWlGcENFLEVBQUEsU0FBQTVWLEdBQUEsU0FBQTRWLG1EQXVEQSxPQXZEZ0N0VixFQUFBc1YsRUFBQTVWLEdBRXJCNFYsRUFBQXJaLFVBQUF3WSxPQUFQLFNBQWNDLEtBSVBZLEVBQUFyWixVQUFBOFgsVUFBUCxTQUFpQkMsR0FDYixPQUFPLElBQUk3RSxFQUFPNkUsRUFBT3ZFLE1BQU8sRUFBR3VFLEVBQU81RSxLQUFNNEUsRUFBTzNFLFdBR3BEaUcsRUFBQXJaLFVBQUFtWSxPQUFQLFNBQWNoTSxFQUFnQjlNLEdBQzFCLEdBQUlBLEVBQU1vVSxTQUNOdEgsRUFBTzRJLEtBQUsxVixFQUFNK1YsbUJBRWpCLElBQUlqSixFQUFPcUgsT0FBU25VLEVBQU1tVSxNQUkzQixLQUFNLGlDQUFtQ25VLEVBQU1tVSxNQUFRLCtFQUNNckgsRUFBT3FILE1BQVEsS0FKNUVySCxFQUFPNkksT0FBTzNWLEVBQU04VCxRQVFyQmtHLEVBQUFyWixVQUFBaVgsYUFBUCxXQUNJLE1BQU8sT0FHSm9DLEVBQUFyWixVQUFBa1gsb0JBQVAsU0FBMkJ1QixHQUN2QixJQUFJMUMsRUFBUUMsRUFBRSxtQkFDZEQsRUFBTUUsU0FBUyxnQkFDZkYsRUFBTUcsSUFBSSxtQkFBb0J1QyxFQUFJclYsT0FDbEMsSUFBSyxJQUFJbEUsRUFBSSxFQUFHQSxHQUFLdVosRUFBSXhRLE9BQVEvSSxFQUFHLENBQ2hDLElBQUlpWCxFQUFLSCxFQUFFLGFBQ1hELEVBQU1LLE9BQU9ELEdBQ2IsSUFBSyxJQUFJMVgsRUFBSSxFQUFHQSxHQUFLZ2EsRUFBSW5RLE9BQVE3SixFQUFHLENBQ2hDLElBQUk0WCxFQUFLTCxFQUFFLHFFQUNYSyxFQUFHSixTQUFTLFlBRVosSUFBSTBELEVBQWUzRCxFQUFFLGVBQ3JCMkQsRUFBYTFELFNBQVMsb0JBQ3RCMEQsRUFBYW5ELEtBQUssR0FBS2lDLEVBQUlsRSxZQUFZclYsRUFBRVQsSUFDekM0WCxFQUFHRCxPQUFPdUQsR0FFVixJQUFJckQsRUFBT04sRUFBRSxlQUNiTSxFQUFLTCxTQUFTLGlCQUNkLElBQUlNLEVBQVdQLEVBQUUsaUJBQ2pCTyxFQUFTQyxLQUFLLEdBQUtpQyxFQUFJNUQsR0FBRzNWLEVBQUVULElBQzVCNlgsRUFBS0YsT0FBT0csR0FDWkYsRUFBR0QsT0FBT0UsR0FDVkgsRUFBR0MsT0FBT0MsSUFJbEIsT0FBT04sRUFBTSxHQUFHVSxXQUV4QjRDLEVBdkRBLENBQWdDRixHQXlEaENHLEVBQUEsU0FBQTdWLEdBS0ksU0FBQTZWLEVBQW1CTixHQUFuQixJQUFBcFYsRUFDSUgsRUFBQWxGLEtBQUFzRixPQUFPQSxLQUNQRCxFQUFLb1YsaUJBQW1CQSxFQUN4QmxHLEVBQUF2UyxPQUFxQyxZQUE5QnlZLEVBQWlCNUYsVUFFeEIsSUFBSXNGLEVBQTZCLFVBQ2pDTSxFQUFpQjdGLEtBQUs2RSxRQUFRLFNBQUNpQixFQUFjN2EsR0FBTSxPQUFBNmEsR0FBZ0JQLEVBQWdCalgsS0FBS3JELEVBQUUsS0FDMUZ3RixFQUFLOFUsZ0JBQWtCQSxJQThFL0IsT0ExRm9DM1UsRUFBQXVWLEVBQUE3VixHQWV6QjZWLEVBQUF0WixVQUFBd1ksT0FBUCxTQUFjQyxHQUVWLElBQUlTLEVBQWdCclYsS0FBS21WLGlCQUFpQnhGLE1BQ3RDb0csRUFBWW5CLEVBQUlqRixNQUNwQixHQUFJMEYsRUFBZ0JVLEVBQ2hCLEtBQU0sNEJBQThCVixFQUNsQyx5Q0FBMkNVLEVBQVksY0FJMUROLEVBQUF0WixVQUFBOFgsVUFBUCxTQUFpQkMsR0FDYixJQUFJOEIsRUFBZWhXLEtBQUs2VSxnQkFBZ0I3VCxJQUFJLFNBQUF6RyxHQUFLLE9BQUEyWixFQUFPckQsU0FBU3RXLEtBRWpFLE9BQW1DLElBQS9CeUYsS0FBS21WLGlCQUFpQi9RLEtBRWYsSUFBSWlMLEVBQU8sRUFBRzJHLEVBQWF2WSxPQUFRdVksRUFBYzlCLEVBQU8zRSxVQUl4RCxJQUFJRixFQUFPMkcsRUFBYXZZLE9BQVEsRUFBR3VZLEVBQWM5QixFQUFPM0UsV0FJaEVrRyxFQUFBdFosVUFBQW1ZLE9BQVAsU0FBY2hNLEVBQWdCakYsR0FFMUIsR0FBSUEsRUFBSXVNLFNBQVUsQ0FDZCxJQUFJcUcsRUFBYzVTLEVBQUlrTyxjQUN0QnZSLEtBQUs2VSxnQkFBZ0JWLFFBQVEsU0FBQStCLEdBQWlCLE9BQUE1TixFQUFPeUksVUFBVW1GLEVBQWVELFNBRTdFLElBQUlqVyxLQUFLNlUsZ0JBQWdCcFgsU0FBVzRGLEVBQUlzTSxNQUl6QyxLQUFNLDZDQUErQ3RNLEVBQUlzTSxNQUFRLGdHQUNhM1AsS0FBSzZVLGdCQUFnQnBYLE9BQVMsS0FKNUd1QyxLQUFLNlUsZ0JBQWdCVixRQUFRLFNBQUMrQixFQUFlM2IsR0FBTSxPQUFBK04sRUFBT3lJLFVBQVVtRixFQUFlN1MsRUFBSWlNLEtBQUsvVSxRQVE3RmtiLEVBQUF0WixVQUFBaVgsYUFBUCxXQUNJLE1BQU8sYUFHSnFDLEVBQUF0WixVQUFBa1gsb0JBQVAsU0FBMkJ1QixHQUN2QixJQUFJMUMsRUFBUUMsRUFBRSxtQkFDZEQsRUFBTUUsU0FBUyxnQkFDZkYsRUFBTUcsSUFBSSxtQkFBb0J1QyxFQUFJclYsT0FFbEMsSUFEQSxJQUFJc1csRUFBYSxJQUFJckMsSUFBSXhULEtBQUs2VSxpQkFDckJ4WixFQUFJLEVBQUdBLEdBQUt1WixFQUFJeFEsT0FBUS9JLEVBQUcsQ0FDaEMsSUFBSWlYLEVBQUtILEVBQUUsYUFDWEQsRUFBTUssT0FBT0QsR0FDYixJQUFLLElBQUkxWCxFQUFJLEVBQUdBLEdBQUtnYSxFQUFJblEsT0FBUTdKLEVBQUcsQ0FDaEMsSUFBSTRYLEVBQUtMLEVBQUUscUVBQ1BnRSxFQUFhTixFQUFXOUIsSUFBSWEsRUFBSWxFLFlBQVlyVixFQUFHVCxJQUMvQ3ViLEdBQ0EzRCxFQUFHSixTQUFTLFlBR2hCLElBQUlnRSxFQUFtQmpFLEVBQUUsZUFDekJpRSxFQUFpQmhFLFNBQVMsb0JBQzFCZ0UsRUFBaUJ6RCxLQUFLd0QsRUFBYSxJQUFNLEtBQ3pDM0QsRUFBR0QsT0FBTzZELEdBRVYsSUFBSTNELEVBQU9OLEVBQUUsZUFDYk0sRUFBS0wsU0FBUyxpQkFDZCxJQUFJTSxFQUFXUCxFQUFFLGlCQUNqQk8sRUFBU0MsS0FBSyxHQUFHaUMsRUFBSTVELEdBQUczVixFQUFFVCxJQUMxQjZYLEVBQUtGLE9BQU9HLEdBQ1pGLEVBQUdELE9BQU9FLEdBQ1ZILEVBQUdDLE9BQU9DLElBS2xCLE9BQU9OLEVBQU0sR0FBR1UsV0FFeEI2QyxFQTFGQSxDQUFvQ0gsR0E0RnBDZSxFQUFBLFdBU0ksU0FBQUEsRUFBbUJ2YixFQUFjVSxHQUM3QndFLEtBQUtsRixLQUFPQSxFQUNaa0YsS0FBS3hFLE1BQVFBLEVBRWJ3RSxLQUFLc1csS0FBT25FLEVBQUUsb0VBQXNFclgsRUFBTyxnQkFDdEZ5YixRQUFRdlcsS0FBS3dXLFVBQVlyRSxFQUFFLDRDQUdoQ25TLEtBQUt5VyxVQXNCYixPQW5CV0osRUFBQWxhLFVBQUFzYSxRQUFQLFdBQ0ksSUFBSUMsRUFBUzFXLEtBQUtzVyxLQUFLSyxLQUFLLHNCQUM1QkQsRUFBT0UsUUFDUEYsRUFBTy9ELEtBQUszUyxLQUFLeEUsTUFBTXlXLG1CQUdwQm9FLEVBQUFsYSxVQUFBMGEsU0FBUCxTQUFnQnJiLEdBQ0l3RSxLQUFNeEUsTUFBUUEsRUFBTThVLFFBQ3BDdFEsS0FBS3lXLFdBUVRKLEVBQUFsYSxVQUFBOFYsZUFBQSxTQUFlbFEsR0FDWCxPQUFPL0IsS0FBS3hFLE1BQU15VyxlQUFlbFEsSUFFekNzVSxFQXZDQSxHQUFhaGMsRUFBQWdjLFdBMkNiLElBQUFTLEVBQUEsV0FZSSxTQUFBQSxFQUFtQ0MsRUFBcURDLEdBQXJEaFgsS0FBQStXLFVBQXFEL1csS0FBQWdYLE9Bb0I1RixPQWxCV0YsRUFBQTNhLFVBQUFrVixRQUFQLFNBQWVqQyxFQUEwQnpHLEdBQ3JDLElBQ0ksT0FBT3NPLEVBQWNqWCxLQUFLZ1gsS0FBS3JPLEVBQU15RyxJQUV6QyxNQUFNOEgsR0FDRixPQUFPQyxFQUFZLElBQUloSSxFQUFZQyxFQUFXOEgsTUFJL0NKLEVBQUEzYSxVQUFBaWIsb0JBQVAsU0FBMkJwYixHQUN2QixPQUFJa0YsTUFBTUMsUUFBUW5CLEtBQUsrVyxTQUNaL1csS0FBSytXLFFBQVEsSUFBTS9hLElBQU1BLEdBQUtnRSxLQUFLK1csUUFBUSxJQUFNL1csS0FBSytXLFFBQVEsS0FBT0QsRUFBZU8sVUFHcEZyYixJQUFNZ0UsS0FBSytXLFNBMUJIRCxFQUFBTyxVQUFZLEVBOEJ2Q1AsRUFoQ0EsR0FrQ0EsU0FBU1EsRUFBa0IzTyxHQUN2QixHQUFvQixJQUFoQkEsRUFBS2xMLE9BQ0wsT0FBTyxJQUFJNFIsRUFBTyxFQUFFLEVBQUUsQ0FBQyxHQUFHLFVBRXpCLEdBQW9CLElBQWhCMUcsRUFBS2xMLE9BQWMsQ0FDeEIsSUFBSThaLEVBQU01TyxFQUFLLEdBQ2YsR0FBSTRPLEVBQUkzSCxTQUFVLENBRWQsSUFBSTRILEVBQU9ELEVBQUloRyxjQUNmLE9BQU8sSUFBSWxDLEVBQU9tSSxFQUFNQSxFQUFNLElBQUl0VyxNQUFNc1csRUFBS0EsR0FBTyxVQUFVdEcsS0FBSyxHQUluRSxHQUFpQixJQUFicUcsRUFBSW5ULEtBQ0osS0FBTSx1RkFFVixPQUFPLElBQUlpTCxFQUFPa0ksRUFBSTFHLFNBQVMsR0FBSTBHLEVBQUkxRyxTQUFTLEdBQUksSUFBSTNQLE1BQU1xVyxFQUFJMUcsU0FBUyxHQUFLMEcsRUFBSTFHLFNBQVMsSUFBSyxVQUFVSyxLQUFLLEdBR3BILEdBQXFCLElBQWhCdkksRUFBS2xMLE9BQWMsQ0FDekIsSUFBSWdhLEVBQVU5TyxFQUFLLEdBQ2YrTyxFQUFVL08sRUFBSyxHQUNuQixJQUFLOE8sRUFBUTdILFNBQ1QsS0FBTSx3REFFVixJQUFLOEgsRUFBUTlILFNBQ1QsS0FBTSwyREFFVixPQUFPLElBQUlQLEVBQU9vSSxFQUFRbEcsY0FBZW1HLEVBQVFuRyxjQUFlLElBQUlyUSxNQUFNdVcsRUFBUWxHLGNBQWdCbUcsRUFBUW5HLGVBQWVMLEtBQUssR0FBSSxVQUdsSSxLQUFNLDBFQUtkLFNBQVN5RyxFQUFtQi9DLEVBQWF0RCxFQUErQkQsR0FDcEUsSUFBSXVHLEVBQU0sRUFDVixHQUFJdEcsRUFBVyxDQUNYLElBQUtBLEVBQVUxQixVQUFZMEIsRUFBVUMsY0FBZ0IsSUFBTXNHLE9BQU9DLFVBQVV4RyxFQUFVQyxlQUNsRixLQUFNLDRGQUVWcUcsRUFBTXRHLEVBQVVDLGNBS3BCLE9BQUlxRCxFQUFJL0UsU0FDRyxJQUFJUixFQUFPLEVBQUUsRUFBRSxDQUFDdUYsRUFBSXRGLEtBQUt5QyxPQUFPVixJQUFXLFVBRzFDLElBQVJ1RyxFQUNPaEQsRUFBSTlDLGVBQWVULEdBRWIsSUFBUnVHLEVBQ0VoRCxFQUFJNUMsZUFBZVgsR0FLbkJ1RCxFQUFJdEUsUUFJbkIsU0FBU3lILEVBQW9CbkQsRUFBYXZELEdBR3RDLE9BRkF1RCxFQUFNQSxFQUFJdEUsU0FDTmMsV0FBV0MsR0FDUnVELEVBU1gsU0FBU29ELEVBQWFyUCxHQUdsQixJQUZBLElBQUlzUCxFQUFPdFAsRUFBSyxHQUNadVAsRUFBU0QsRUFBSzNILFFBQ1YxVixFQUFJLEVBQUdBLEdBQUtxZCxFQUFLeFQsT0FBUTdKLEVBRTdCLElBQUssSUFBSXVkLEVBQVMsRUFBR0MsRUFBUUYsRUFBTzlULEtBQU0rVCxHQUFVRixFQUFLN1QsT0FBUStULElBQVVDLEVBQ3ZFRixFQUFPakgsTUFBTW1ILEVBQU94ZCxFQUFHcWQsRUFBS2pILEdBQUdtSCxFQUFRdmQsSUFHL0MsT0FBT3NkLEVBR1gsU0FBU0csRUFBYTFQLEdBR2xCLElBRkEsSUFBSXNQLEVBQU90UCxFQUFLLEdBQ1p1UCxFQUFTRCxFQUFLM0gsUUFDVmpWLEVBQUksRUFBR0EsR0FBSzRjLEVBQUs3VCxPQUFRL0ksRUFFN0IsSUFBSyxJQUFJaWQsRUFBUyxFQUFHQyxFQUFRTCxFQUFPelQsS0FBTTZULEdBQVVMLEVBQUt4VCxPQUFRNlQsSUFBVUMsRUFDdkVMLEVBQU9qSCxNQUFNNVYsRUFBR2tkLEVBQU9OLEVBQUtqSCxHQUFHM1YsRUFBR2lkLElBRzFDLE9BQU9KLEVBbklFN2QsRUFBQXljLGlCQTBJYixJQUptQ2hjLEVBSTdCMGQsRUFBdUQsQ0FDekRDLE9BQVcsSUFBSTNCLEVBQWUsRUFBR3VCLEdBQ2pDSyxPQUFXLElBQUk1QixFQUFlLEVBQUdrQixHQUNqQ1csS0FBUyxJQUFJN0IsRUFBZSxDQUFDLEVBQUUsR0FBSSxTQUFDbk8sR0FDaEMsR0FBb0IsSUFBaEJBLEVBQUtsTCxPQUNMLE9BQU91YSxFQUFhclAsR0FHcEIsSUFBSTJJLEVBQVkzSSxFQUFLLEdBQ3JCLElBQUsySSxFQUFVMUIsVUFBWTBCLEVBQVVDLGNBQWdCLElBQU1zRyxPQUFPQyxVQUFVeEcsRUFBVUMsZUFDbEYsS0FBTSx1RkFHVixJQUFJcUcsRUFBTXRHLEVBQVVDLGNBQ3BCLE9BQVksSUFBUnFHLEVBQ09JLEVBQWFyUCxHQUVQLElBQVJpUCxFQUNFUyxFQUFhMVAsR0FJYkEsRUFBSyxHQUFHMkgsVUFJM0JzSSxNQUFVLElBQUk5QixFQUFlLEVBQUcsU0FBQ25PLEdBSzdCLElBSkEsSUFBSXNQLEVBQU90UCxFQUFLLEdBQ1p1UCxFQUFTN0ksRUFBT2MsWUFBWThILEVBQUt4VCxLQUFNd1QsRUFBSzdULEtBQU0sVUFHOUN4SixFQUFJcWQsRUFBS3hULEtBQU1wSixFQUFJLEVBQUdULEdBQUssSUFBS0EsSUFBS1MsRUFDekM2YyxFQUFPckcsV0FBV3hXLEVBQUc0YyxFQUFLeEcsUUFBUTdXLElBRXRDLE9BQU9zZCxJQUVYVyxNQUFVLElBQUkvQixFQUFlLENBQUMsRUFBRUEsRUFBZU8sVUFBVyxTQUFDMU8sR0FBbUIsT0FBQTJPLEVBQWtCM08sR0FBTXVJLEtBQUssS0FDM0c0SCxLQUFTLElBQUloQyxFQUFlLENBQUMsRUFBRUEsRUFBZU8sVUFBVyxTQUFDMU8sR0FBbUIsT0FBQTJPLEVBQWtCM08sR0FBTXVJLEtBQUssS0FDMUc2SCxJQUFRLElBQUlqQyxFQUFlLENBQUMsRUFBRUEsRUFBZU8sVUFBVyxTQUFDMU8sR0FHckQsSUFGQSxJQUFJaU0sRUFBTTBDLEVBQWtCM08sR0FBTXVJLEtBQUssR0FDbkM4SCxFQUFXOWEsS0FBS0gsSUFBSTZXLEVBQUl4USxLQUFNd1EsRUFBSW5RLE1BQzlCbEssRUFBSSxFQUFHQSxHQUFLeWUsSUFBWXplLEVBQzVCcWEsRUFBSTNELE1BQU0xVyxFQUFHQSxFQUFHLEdBRXBCLE9BQU9xYSxJQUVYcUUsTUFBVSxJQUFJbkMsRUFBZSxDQUFDLEVBQUVBLEVBQWVPLFVBQVcsU0FBQzFPLEdBQ3ZELElBRUkzSyxFQUZBa2IsRUFBV3ZRLEVBQUssR0FDaEI1SyxFQUFNLEVBR1YsSUFBS21iLEVBQVM1SixLQUFLbUIsTUFBTSxTQUFBMEksR0FBSyxPQUFBdEIsT0FBT0MsVUFBVXFCLEtBQzNDLEtBQU0sOERBR1YsR0FBdUIsSUFBbkJELEVBQVN2SixNQUNUM1IsRUFBTWtiLEVBQVMzSCxrQkFFZCxJQUF1QixJQUFuQjJILEVBQVN2SixNQVFkLEtBQU0sbUZBTE4sR0FGQTVSLEVBQU1tYixFQUFTckksU0FBUyxHQUN4QjdTLEVBQU1rYixFQUFTckksU0FBUyxHQUNwQjlTLEVBQU1DLEVBQ04sS0FBTSw0RUFPZDJLLEVBQUtxRyxRQUVMLElBQUk0RixFQUFNMEMsRUFBa0IzTyxHQUU1QixPQURBaU0sRUFBSXhELFdBQVcsV0FBTSxPQUFBbkMsRUFBQTFTLFdBQVdrQyx1QkFBdUJWLEVBQUtDLEtBQ3JENFcsSUFFWHdFLFNBQWEsSUFBSXRDLEVBQWUsQ0FBQyxFQUFFLEdBQUksU0FBQ25PLEdBR3BDLElBQUlnSCxFQUF3QixJQUFoQmhILEVBQUtsTCxPQUFla0wsRUFBSyxHQUFHNEksY0FBZ0IsSUFFcEQ1UyxFQUFRZ0ssRUFBSyxHQUFHNEksY0FDaEIzUyxFQUFNK0osRUFBSyxHQUFHNEksY0FFZDhILEdBQVl6YSxFQUFJRCxJQUFVZ1IsRUFBUSxHQUVsQ0wsRUFBT0osRUFBQXhRLE1BQU1DLEVBQU9DLEVBQU15YSxFQUFVQSxHQUN4QyxPQUFPLElBQUloSyxFQUFPLEVBQUdNLEVBQU9MLEVBQU0sWUFFdENnSyxNQUFVLElBQUl4QyxFQUFlLEVBQUcsU0FBQ25PLEdBQzdCLElBQUlpTSxFQUFNMEMsRUFBa0IzTyxHQUN4QjNNLEVBQUk0WSxFQUFJeFEsS0FDWixHQUFJcEksRUFBSSxHQUFNLEVBY1YsSUFQQSxJQUFJdWQsRUFBTSxFQUdObGUsRUFBSSxFQUNKVCxFQUFJc0QsS0FBS00sTUFBTXhDLEVBQUUsR0FHWm5CLEVBQUksRUFBR0EsRUFBSW1CLElBQUtuQixFQUFHLENBR3hCLElBQUksSUFBSU4sRUFBSSxFQUFHQSxFQUFJeUIsSUFBS3pCLEVBQ3BCcWEsRUFBSTNELE1BQU01VixFQUFJLEVBQUdULEVBQUksRUFBRzJlLEtBQ3hCbGUsR0FBS0EsRUFBSSxFQUFJVyxHQUFLQSxFQUNsQnBCLEdBQUtBLEVBQUksRUFBSW9CLEdBQUtBLEVBT3RCWCxHQUFLQSxFQUFJLEVBQUlXLEdBQUtBLEVBQ2xCcEIsR0FBS0EsRUFBSSxFQUFJb0IsR0FBS0EsT0FLckIsR0FBVSxJQUFOQSxFQUNMNFksRUFBSXpELE9BQU8sQ0FBQyxFQUFFLEVBQUUsRUFBRSxTQUVqQixHQUFVLElBQU5uVixFQUNMNFksRUFBSXpELE9BQU8sQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxTQUVoRCxHQUFVLElBQU5uVixFQUNMNFksRUFBSXpELE9BQU8sQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsVUFFM0csR0FBVSxJQUFOblYsRUFDTDRZLEVBQUl6RCxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsUUFFaE0sSUFBVSxLQUFOblYsRUFJTCxLQUFNLG9GQUhONFksRUFBSXpELE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsRUFBRSxFQUFFLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRSxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUtqVCxPQUFPeUQsSUFFWGpGLE1BQVUsSUFBSW1ILEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQTBHLEVBQU9hLE9BQU92SCxFQUFLLEdBQUdnSCxNQUFPLFlBQ2pGbFMsT0FBVyxJQUFJcVosRUFBZSxFQUFHLFNBQUNuTyxHQUFtQixPQUFBMEcsRUFBT2EsT0FBT2hTLEtBQUtGLElBQUkySyxFQUFLLEdBQUd2RSxLQUFNdUUsRUFBSyxHQUFHbEUsTUFBTyxZQUN6RytTLEtBQVMsSUFBSVYsRUFBZSxFQUFHLFNBQUNuTyxHQUFtQixXQUFJMEcsRUFBTyxFQUFHLEVBQUcsQ0FBQzFHLEVBQUssR0FBR3ZFLEtBQU11RSxFQUFLLEdBQUdsRSxNQUFPLFlBRWxHK1UsSUFBUSxJQUFJMUMsRUFBZSxDQUFDLEVBQUUsR0FBSSxTQUFDbk8sR0FBbUIsT0FBQWdQLEVBQW1CaFAsRUFBSyxHQUFJQSxFQUFLLEdBQUksU0FBQ0osRUFBVWtSLEdBQWEsT0FBQWxSLEVBQUlrUixNQUN2SEMsS0FBUyxJQUFJNUMsRUFBZSxDQUFDLEVBQUUsR0FBSSxTQUFDbk8sR0FBbUIsT0FBQWdQLEVBQW1CaFAsRUFBSyxHQUFJQSxFQUFLLEdBQUksU0FBQ0osRUFBVWtSLEdBQWEsT0FBQWxSLEVBQUlrUixNQUN4SDFiLElBQVEsSUFBSStZLEVBQWUsQ0FBQyxFQUFFLEdBQUksU0FBQ25PLEdBQW1CLE9BQUFnUCxFQUFtQmhQLEVBQUssR0FBSUEsRUFBSyxHQUFJLFNBQUNKLEVBQVVrUixHQUFhLE9BQUF2YixLQUFLSCxJQUFJd0ssRUFBR2tSLE9BQy9IemIsSUFBUSxJQUFJOFksRUFBZSxDQUFDLEVBQUUsR0FBSSxTQUFDbk8sR0FBbUIsT0FBQWdQLEVBQW1CaFAsRUFBSyxHQUFJQSxFQUFLLEdBQUksU0FBQ0osRUFBVWtSLEdBQWEsT0FBQXZiLEtBQUtGLElBQUl1SyxFQUFHa1IsT0FFL0hFLEtBQVMsSUFBSTdDLEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLeWIsS0FBS0osT0FDMUdLLElBQVEsSUFBSTlDLEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLMGIsSUFBSUwsT0FDeEdNLElBQVEsSUFBSS9DLEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLMmIsSUFBSU4sT0FDeEdPLElBQVEsSUFBSWhELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLNGIsSUFBSVAsT0FDeEdRLEtBQVMsSUFBSWpELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLNmIsS0FBS1IsT0FDMUdTLEtBQVMsSUFBSWxELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLOGIsS0FBS1QsT0FDMUdVLEtBQVMsSUFBSW5ELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLK2IsS0FBS1YsT0FFMUdXLEtBQVMsSUFBSXBELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLZ2MsS0FBS1gsT0FDMUdZLEtBQVMsSUFBSXJELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLaWMsS0FBS1osT0FDMUdhLEtBQVMsSUFBSXRELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLa2MsS0FBS2IsT0FDMUdjLE1BQVUsSUFBSXZELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLbWMsTUFBTWQsT0FDNUdlLE1BQVUsSUFBSXhELEVBQWUsRUFBRyxTQUFDbk8sR0FBbUIsT0FBQW9QLEVBQW9CcFAsRUFBSyxHQUFJLFNBQUM0USxHQUFlLE9BQUFyYixLQUFLb2MsTUFBTWYsT0FDNUdnQixNQUFVLElBQUl6RCxFQUFlLEVBQUcsU0FBQ25PLEdBQW1CLE9BQUFvUCxFQUFvQnBQLEVBQUssR0FBSSxTQUFDNFEsR0FBZSxPQUFBcmIsS0FBS3FjLE1BQU1oQixPQUU1R2lCLFFBQVcsSUFBSTFELEVBQWUsQ0FBQyxFQUFFQSxFQUFlTyxXQTVLakJ2YyxFQTRLc0QsVUEzSzlFLFNBQUM2TixHQUFxQixLQUFNLHVDQUF1QzdOLEVBQUksZ0JBNks5RTJmLE9BQVUsSUFBSTNELEVBQWUsRUFBRyxTQUFDbk8sRUFBZ0J5RyxHQUk3QyxPQUZBQSxFQUFVc0wsSUFBSUQsT0FBTzlSLEVBQUssSUFFbkIsSUFBSTBHLEVBQU8sRUFBRyxFQUFHLENBQUMsR0FBSSxhQVFyQ3NMLEVBQUEsV0FtQkksU0FBQUEsRUFBb0JyRSxFQUFlc0UsR0FRL0IsSUFBSSxJQUFJQyxLQWhCSjdhLEtBQUE3QyxLQUFrRCxHQUNsRDZDLEtBQUE4YSxVQUE2RCxHQUNwRDlhLEtBQUErYSxjQUEyQixHQUkzQi9hLEtBQUFnYixVQUFtQyxHQUdoRGhiLEtBQUtzVyxLQUFPQSxFQUNSc0UsSUFDQTVhLEtBQUtpYixhQUFlLElBQUlDLEVBQWFOLEdBQ3JDNWEsS0FBS2liLGFBQWFSLE9BQU8sSUFBSXBMLEVBQU8sRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBTSxZQUkvRW1KLEVBQ3BCeFksS0FBS21iLFlBQVlOLEVBQWNyQyxFQUFpQnFDLElBbUY1RCxPQTNHa0JGLEVBQUFTLHFCQUFkLFNBQW1DOUUsR0FDL0IsSUFBSStFLEVBQVMsSUFBSVYsRUFBWXJFLEdBRTdCckgsRUFBQXpTLFVBQVVtZSxHQUFhVSxPQUFTQSxHQXlCN0JWLEVBQUF4ZSxVQUFBbWYsT0FBUCxTQUFjeGdCLEdBQ1YsT0FBT2tGLEtBQUs3QyxLQUFLZixlQUFldEIsSUFHN0I2ZixFQUFBeGUsVUFBQW9mLE9BQVAsU0FBY3pnQixHQUNWLElBQUkwZ0IsRUFBT3hiLEtBQUs3QyxLQUFLckMsR0FDckIsT0FBSTBnQixHQU1HeGIsS0FBSzhhLFVBQVVoZ0IsSUFHbkI2ZixFQUFBeGUsVUFBQXNmLFVBQVAsU0FBaUIzZ0IsR0FDYixPQUFPa0YsS0FBSzdDLEtBQUtyQyxJQUdkNmYsRUFBQXhlLFVBQUF1ZixlQUFQLFNBQXNCNWdCLEdBQ2xCLE9BQU9rRixLQUFLOGEsVUFBVWhnQixJQUduQjZmLEVBQUF4ZSxVQUFBd2YsT0FBUCxTQUFjN2dCLEVBQWNVLEdBQ3hCLElBQUlnZ0IsRUFBT3hiLEtBQUs3QyxLQUFLckMsR0FDakIwZ0IsRUFDQUEsRUFBSzNFLFNBQVNyYixJQUdkZ2dCLEVBQU8sSUFBSW5GLEVBQVN2YixFQUFNVSxHQUN0QndFLEtBQUtzVyxPQUNRLFFBQVR4YixFQUNBa0YsS0FBS3NXLEtBQUsvRCxPQUFPaUosRUFBS2xGLE1BR3RCdFcsS0FBS3NXLEtBQUtDLFFBQVFpRixFQUFLbEYsT0FHL0J0VyxLQUFLN0MsS0FBS3JDLEdBQVEwZ0IsR0FHdEJ4YixLQUFLZ2IsVUFBVTdHLFFBQVEsU0FBQTNaLEdBQUssT0FBQUEsRUFBRW9oQixjQUFjSixNQUd6Q2IsRUFBQXhlLFVBQUEwZixXQUFQLFNBQWtCL2dCLEdBQ2QsSUFBSTBnQixFQUFPeGIsS0FBSzdDLEtBQUtyQyxHQUNyQm1VLEVBQUF2UyxPQUFPOGUsR0FDUHhiLEtBQUtnYixVQUFVN0csUUFBUSxTQUFBM1osR0FBSyxPQUFBQSxFQUFFb2hCLGNBQWNKLE1BR3pDYixFQUFBeGUsVUFBQWdmLFlBQVAsU0FBbUJyZ0IsRUFBY2tjLEdBQzdCaFgsS0FBSzhhLFVBQVVoZ0IsR0FBUWtjLEdBR3BCMkQsRUFBQXhlLFVBQUEyZixhQUFQLFNBQW9CdGdCLEdBQ2hCd0UsS0FBSythLGNBQWNuZCxLQUFLcEMsSUFHckJtZixFQUFBeGUsVUFBQTRmLFlBQVAsV0FDSS9iLEtBQUsrYSxjQUFjbE0sT0FHaEI4TCxFQUFBeGUsVUFBQTZmLFlBQVAsV0FDSSxPQUFPaGMsS0FBSythLGNBQWMvYSxLQUFLK2EsY0FBY3RkLE9BQVMsSUFHbkRrZCxFQUFBeGUsVUFBQXNlLE9BQVAsU0FBYzdGLFNBQ08sUUFBakJxSCxFQUFBamMsS0FBS2liLG9CQUFZLElBQUFnQixLQUFFeEIsT0FBTzdGLElBR3ZCK0YsRUFBQXhlLFVBQUErZixZQUFQLFNBQW1CQyxHQUNmbmMsS0FBS2diLFVBQVVwZCxLQUFLdWUsSUFHakJ4QixFQUFBeGUsVUFBQWlnQixNQUFQLGlCQUNJcGMsS0FBSzdDLEtBQU8sR0FFSCxRQUFUOGUsRUFBQWpjLEtBQUtzVyxZQUFJLElBQUEyRixLQUFFckYsU0FFbkIrRCxFQS9HQSxHQUFhdGdCLEVBQUFzZ0IsY0FpSGIsSUFBQU8sRUFBQSxXQUtJLFNBQUFBLEVBQW1CNUUsR0FDZnRXLEtBQUtzVyxLQUFPQSxFQUNadFcsS0FBS3FjLFFBQVUvRixFQUFLLEdBQUdnRyxXQUFXLE1BNEIxQyxPQXpCV3BCLEVBQUEvZSxVQUFBc2UsT0FBUCxTQUFjN0YsR0FDVixHQUFLNVUsS0FBS3FjLFFBQVYsQ0FJQXJjLEtBQUtzVyxLQUFLLEdBQUc1RyxNQUFRa0YsRUFBSWxGLE1BQ3pCMVAsS0FBS3NXLEtBQUssR0FBRzdHLE9BQVNtRixFQUFJbkYsT0FJMUIsSUFGQSxJQUFJOE0sRUFBVXZjLEtBQUtxYyxRQUFRRyxnQkFBZ0I1SCxFQUFJbEYsTUFBT2tGLEVBQUluRixRQUVsRHBVLEVBQUksRUFBR0EsRUFBSXVaLEVBQUl4USxPQUFRL0ksRUFDM0IsSUFBSSxJQUFJVCxFQUFJLEVBQUdBLEVBQUlnYSxFQUFJblEsT0FBUTdKLEVBQUcsQ0FDOUIsSUFBSUwsRUFBSWMsRUFBSXVaLEVBQUlsRixNQUFROVUsRUFDcEJDLEVBQUkrWixFQUFJNUQsR0FBRzNWLEVBQUksRUFBR1QsRUFBSSxHQUcxQjJoQixFQUFRak4sS0FBSyxFQUFFL1UsR0FBS00sRUFDcEIwaEIsRUFBUWpOLEtBQUssRUFBRS9VLEVBQUksR0FBS00sRUFDeEIwaEIsRUFBUWpOLEtBQUssRUFBRS9VLEVBQUksR0FBS00sRUFDeEIwaEIsRUFBUWpOLEtBQUssRUFBRS9VLEVBQUksR0FBSyxJQUloQ3lGLEtBQUtxYyxRQUFRSSxhQUFhRixFQUFTLEVBQUcsS0FFOUNyQixFQW5DQSxHQUFhN2dCLEVBQUE2Z0IsZUF3Q2IsSUFBQXdCLEVBQUEsV0EwQkksU0FBQUEsRUFBc0JDLEVBQWNqQyxHQUNoQzFhLEtBQUsyYyxJQUFNQSxFQUNYM2MsS0FBSzBhLElBQU1BLEVBTW5CLE9BOUJrQmdDLEVBQUFFLFdBQWQsV0FDSSxPQUFPekssRUFBRSx1U0FHQ3VLLEVBQUE3Z0IsT0FBZCxTQUFxQjhnQixFQUFjakMsR0FDL0IsTUFBb0Isb0JBQWhCaUMsRUFBVSxLQUNILElBQUlFLEVBQWVGLEVBQUtqQyxHQUVmLGVBQWhCaUMsRUFBVSxLQUNILElBQUlHLEVBQVdILEVBQUtqQyxHQUVOLHVCQUFoQmlDLEVBQVUsS0FDUixJQUFJSSxFQUFrQkosRUFBS2pDLEdBRzNCc0MsRUFBV25oQixPQUFPOGdCLEVBQUtqQyxJQWUxQ2dDLEVBbENBLEdBQXNCcmlCLEVBQUFxaUIsZ0JBaUl0QixJQUFNTyxFQUFvQyxDQUFDQyxLQUFNLGNBRWpELFNBQWdCQyxFQUFXQyxHQUN2QixPQUFPQSxFQUFRM00sTUFBTSxTQUFBcFYsR0FBSyxNQUFXLFlBQVhBLEVBQUU2aEIsT0FHaEMsU0FBU2pHLEVBQWN6YixHQUNuQixNQUFPLENBQ0gwaEIsS0FBTSxVQUNOMWhCLE1BQU9BLEdBSWYsU0FBUzJiLEVBQVlrRyxHQUNqQixNQUFPLENBQ0hILEtBQU0sUUFDTkcsTUFBT0EsR0FkZmhqQixFQUFBOGlCLGFBc0JBLElBQUFILEVBQUEsU0FBQXBkLEdBQUEsU0FBQW9kLElBQUEsSUFBQWpkLEVBQUEsT0FBQUgsS0FBQTBkLE1BQUF0ZCxLQUFBdWQsWUFBQXZkLFlBRW9CRCxFQUFBeWQsT0FBMkJQLElBNEUvQyxPQTlFeUMvYyxFQUFBOGMsRUFBQXBkLEdBSXZCb2QsRUFBQW5oQixPQUFkLFNBQXFCOGdCLEVBQWNqQyxHQUUvQixPQUFPMWEsS0FBS3lkLGtCQUFrQmQsRUFBVSxNQUFHQSxFQUFLakMsSUEwQjVDc0MsRUFBQTdnQixVQUFBdWhCLFVBQVIsU0FBa0JGLEdBQ0V4ZCxLQUFNd2QsT0FBU0EsR0FnQjVCUixFQUFBN2dCLFVBQUF3aEIsUUFBUCxXQUNJLElBQUlDLEVBQU01ZCxLQUFLNmQsV0FFZixPQURBN2QsS0FBSzBkLFVBQVVFLEdBQ1JBLEdBS0paLEVBQUE3Z0IsVUFBQThWLGVBQVAsU0FBc0JsUSxHQUNsQixJQUFJdVUsRUFBT25FLEVBQUUsZUFDVDJMLEVBQU8zTCxFQUFFLDJCQUEyQm5TLEtBQUsrZCxlQUFlaGMsR0FBUSxVQUFVNlIsU0FBUzBDLEdBRXZGLEdBQXlCLFVBQXJCdFcsS0FBS3dkLE9BQU9OLE1BQW9CbGQsS0FBS3dkLE9BQU9ILE1BQU1qTyxZQUFjcFAsS0FBTSxDQUN0RThkLEVBQUt2TCxPQUFPbUssRUFBY0UsY0FFMUIsSUFBSW9CLEVBQVM3TCxFQUFFLHNIQUdMblMsS0FBS3dkLE9BQU9ILE1BQU16Z0IsUUFBTyxnREFHbkMwWixFQUFLL0QsT0FBT3lMLEdBR2hCLE9BQU8xSCxFQUFLLEdBQUcxRCxXQTdESm9LLEVBQUFTLGtCQUFzRixDQUNqR1EsV0FBYyxTQUFDMVYsRUFBWW1TLEdBQXFCLFdBQUl3RCxFQUFpQjNWLEVBQUdtUyxJQUN4RXlELFFBQVcsU0FBQzVWLEVBQVltUyxHQUFxQixXQUFJMEQsRUFBYzdWLEVBQUdtUyxJQUNsRTJELFVBQWEsU0FBQzlWLEVBQVltUyxHQUFxQixXQUFJNEQsRUFBZ0IvVixFQUFHbVMsSUFDdEU2RCxPQUFVLFNBQUNoVyxFQUFZbVMsR0FBcUIsV0FBSThELEVBQW1CalcsRUFBR21TLElBQ3RFK0QsUUFBVyxTQUFDbFcsRUFBWW1TLEdBQXFCLFdBQUlnRSxFQUFvQm5XLEVBQUdtUyxJQUN4RWlFLE9BQVUsU0FBQ3BXLEVBQVltUyxHQUFxQixXQUFJa0UsRUFBbUJyVyxFQUFHbVMsSUFDdEVtRSxRQUFXLFNBQUN0VyxFQUFZbVMsR0FBcUIsV0FBSW9FLEVBQXFCdlcsRUFBR21TLElBQ3pFcUUsUUFBVyxTQUFDeFcsRUFBWW1TLEdBQXFCLFdBQUlzRSxFQUFjelcsRUFBR21TLElBQ2xFdUUsU0FBWSxTQUFDMVcsRUFBWW1TLEdBQXFCLFdBQUl3RSxFQUFlM1csRUFBR21TLElBQ3BFeUUsVUFBYSxTQUFDNVcsRUFBWW1TLEdBQXFCLFdBQUkwRSxFQUF3QjdXLEVBQUdtUyxJQUM5RTJFLGNBQWlCLFNBQUM5VyxFQUFZbVMsR0FBcUIsV0FBSTRFLEVBQW9CL1csRUFBR21TLElBQzlFNkUsU0FBWSxTQUFDaFgsRUFBWW1TLEdBQXFCLFdBQUk4RSxFQUFzQmpYLEVBQUdtUyxJQUMzRStFLFVBQWEsU0FBQ2xYLEVBQVltUyxHQUFxQixXQUFJZ0YsRUFBZ0JuWCxFQUFHbVMsSUFDdEVpRixRQUFXLFNBQUNwWCxFQUFZbVMsR0FBcUIsV0FBSWtGLEdBQWNyWCxFQUFHbVMsSUFDbEVtRixRQUFXLFNBQUN0WCxFQUFZbVMsR0FBcUIsV0FBSW9GLEdBQWtCdlgsRUFBR21TLElBQ3RFcUYsTUFBUyxTQUFDeFgsRUFBWW1TLEdBQXFCLFdBQUlvRixHQUFrQnZYLEVBQUdtUyxJQUNwRW5YLFdBQWMsU0FBQ2dGLEVBQVltUyxHQUFxQixXQUFJc0YsR0FBcUJ6WCxFQUFHbVMsS0FpRHBGc0MsRUE5RUEsQ0FBeUNOLEdBQW5CcmlCLEVBQUEyaUIsYUFpRnRCLElBQUFGLEVBQUEsU0FBQWxkLEdBT0ksU0FBQWtkLEVBQVlILEVBQWNqQyxHQUExQixJQUFBM2EsRUFDSUgsRUFBQWxGLEtBQUFzRixLQUFNMmMsRUFBS2pDLElBQUkxYSxZQUNmRCxFQUFLcUQsSUFBNEI0WixFQUFXbmhCLE9BQU84Z0IsRUFBZ0IsV0FBR2pDLEdBQ3RFM2EsRUFBS3NELElBQU0yWixFQUFXbmhCLE9BQU84Z0IsRUFBUyxJQUFHakMsS0F1Q2pELE9BakRnQ3hhLEVBQUE0YyxFQUFBbGQsR0FhckJrZCxFQUFBM2dCLFVBQUF3aEIsUUFBUCxXQUVJLElBQUlzQyxFQUFZamdCLEtBQUtxRCxJQUFJc2EsVUFFekIsR0FBdUIsWUFBbkJzQyxFQUFVL0MsS0FDVixPQUFPK0MsRUFHWCxJQUFJdkYsRUFBTTFhLEtBQUswYSxJQUNYNWYsRUFBT2tGLEtBQUtvRCxJQUFJdEksS0FLcEIsT0FIQTRmLEVBQUlpQixPQUFPN2dCLEVBQU1tbEIsRUFBVXprQixPQUNYd0UsS0FBTWtnQixhQUFlRCxFQUFVemtCLE1BRXhDeWtCLEdBR0puRCxFQUFBM2dCLFVBQUE4VixlQUFQLFdBQ0ksSUFBSXFFLEVBQU9uRSxFQUFFLGVBQ1RnTyxFQUNKLGdEQUNNbmdCLEtBQUtvRCxJQUFJdEksS0FBSSw0Q0FFYmtGLEtBQUtxRCxJQUFJNE8saUJBQWdCLG1CQUkvQixHQUZBcUUsRUFBSy9ELE9BQU80TixHQUVSbmdCLEtBQUtrZ0IsYUFBYyxDQUNuQixJQUFJbEMsRUFBUywyREFDUGhlLEtBQUtvRCxJQUFJdEksS0FBSSxXQUFXa0YsS0FBS2tnQixhQUFhak8saUJBQWdCLHVCQUVoRXFFLEVBQUsvRCxPQUFPeUwsR0FHaEIsT0FBTzFILEVBQUssR0FBRzFELFdBRXZCa0ssRUFqREEsQ0FBZ0NKLEdBQW5CcmlCLEVBQUF5aUIsYUFvRGIsSUFBQUMsRUFBQSxTQUFBbmQsR0FVSSxTQUFBbWQsRUFBbUJKLEVBQWNqQyxHQUFqQyxJQUFBM2EsRUFDSUgsRUFBQWxGLEtBQUFzRixLQUFNMmMsRUFBS2pDLElBQUkxYSxZQUVmRCxFQUFLcWdCLFdBQWF6RCxFQUFTLElBQVUsT0FDckM1YyxFQUFLc2dCLFNBQVcxRCxFQUFTLElBQVEsS0FBRTNiLElBQUksU0FBQ3pHLEdBQWMsT0FBQXlpQixFQUFXbmhCLE9BQU90QixFQUFHbWdCLEtBQzNFM2EsRUFBS3NELElBQU0yWixFQUFXbmhCLE9BQU84Z0IsRUFBUyxJQUFHakMsS0F1R2pELE9BdEhnQ3hhLEVBQUE2YyxFQUFBbmQsR0FtQnJCbWQsRUFBQTVnQixVQUFBMGhCLFNBQVAsZUFBQTlkLEVBQUFDLEtBQ1F3YixFQUFPeGIsS0FBSzBhLElBQUlhLE9BQU92YixLQUFLb2dCLFlBQ2hDLElBQUs1RSxHQUFRQSxhQUFnQjFFLEVBQ3pCLE9BQU9LLEVBQVksSUFBSWhJLEVBQVluUCxLQUFNLHdDQUEwQ0EsS0FBS29nQixhQUc1RixJQUFJOVgsRUFBU2tULEVBQUtoZ0IsTUFHbEIsR0FGZ0J3RSxLQUFNc2dCLGVBQWlCaFksRUFBT2dJLFFBRTFDdFEsS0FBS3FnQixTQUFTNWlCLE9BQVMsRUFDdkIsT0FBTzBaLEVBQVksSUFBSWhJLEVBQVluUCxLQUFNLDRFQUc3QyxJQUFJaWdCLEVBQVlqZ0IsS0FBS3FELElBQUlzYSxVQUV6QixHQUF1QixZQUFuQnNDLEVBQVUvQyxLQUNWLE9BQU8rQyxFQUdYLElBQUlNLEVBQWlCdmdCLEtBQUtxZ0IsU0FBU3JmLElBQUksU0FBQzhQLEVBQU92VyxHQUNkLElBQXpCd0YsRUFBS3NnQixTQUFTNWlCLE9BRWRzQyxFQUFLMmEsSUFBSW9CLGFBQWF4VCxFQUFPcUgsT0FJN0I1UCxFQUFLMmEsSUFBSW9CLGFBQWF4VCxFQUFPN0ssT0FBYWxELEVBQUUsSUFFaEQsSUFBSXFqQixFQUFNOU0sRUFBTTZNLFVBRWhCLE9BREE1ZCxFQUFLMmEsSUFBSXFCLGNBQ0Y2QixJQUdYLElBQUtULEVBQVdvRCxHQUNaLE9BQU9BLEVBQWU1SixLQUFLLFNBQUF0YixHQUFNLE1BQWtCLFlBQVhBLEVBQUU2aEIsT0FHaEIsSUFBMUJxRCxFQUFlOWlCLE9BQ0N1QyxLQUFNd2dCLGVBQWlCbEwsRUFBZXpaLE9BQ2xEbUUsS0FBS3FnQixTQUFTLGFBQWNYLEVBQWtCLElBQU1hLEVBQWUsR0FBRy9rQixPQUcxRHdFLEtBQU13Z0IsZUFBaUIxTixFQUFtQmpYLE9BQ3REbUUsS0FBS3FnQixTQUFTLGFBQWNYLEVBQWtCLElBQU1hLEVBQWUsR0FBRy9rQixNQUN0RXdFLEtBQUtxZ0IsU0FBUyxhQUFjWCxFQUFrQixJQUFNYSxFQUFlLEdBQUcva0IsT0FHOUUsSUFNSSxPQUxBd0UsS0FBS3dnQixlQUFnQjdMLE9BQU82RyxFQUFLaGdCLE9BQ2pDd0UsS0FBS3dnQixlQUFnQmxNLE9BQU9rSCxFQUFLaGdCLE1BQU95a0IsRUFBVXprQixPQUNsRGdnQixFQUFLL0UsVUFDTHpXLEtBQUswYSxJQUFJbUIsV0FBV0wsRUFBSzFnQixNQUNUa0YsS0FBTXlnQixjQUFnQmpGLEVBQUtoZ0IsTUFBTThVLFFBQzFDMkcsRUFBY2pYLEtBQUt5Z0IsZUFFOUIsTUFBTXZKLEdBQ0YsT0FBT0MsRUFBWSxJQUFJaEksRUFBWW5QLEtBQU1rWCxNQUt2QzZGLEVBQUE1Z0IsVUFBQTRoQixlQUFWLFNBQXlCaGMsR0FpQ3JCLE1BQU8sdUJBcEJHLDRIQVROL0IsS0FBS3NnQixnQkFBa0J0Z0IsS0FBS3dnQixlQUNoQnhnQixLQUFLd2dCLGVBQWVuTixvQkFBb0JyVCxLQUFLc2dCLGdCQUs3QyxJQU1PLDBCQUNUdGdCLEtBQUt3Z0IsZUFDSCx1Q0FBdUN4Z0IsS0FBS29nQixXQUFVLHNDQUFzQ3BnQixLQUFLd2dCLGVBQWVwTixlQUFjLGdCQUM5SCx1Q0FBdUNwVCxLQUFLb2dCLFdBQVUsVUFBUSwwR0FLeEVwZ0IsS0FBS3FELElBQUk0TyxpQkFBZ0Isb0JBVXRCLGtCQVBJalMsS0FBS3lnQixjQUFnQix5RUFFeEJ6Z0IsS0FBS29nQixXQUFVLFdBQVdwZ0IsS0FBS3lnQixjQUFjeE8saUJBQWdCLHVCQUVqRSxJQUlNLG9CQUdwQjhLLEVBdEhBLENBQWdDQyxHQTBIaENILEVBQUEsU0FBQWpkLEdBUUksU0FBQWlkLEVBQVlGLEVBQWNqQyxHQUExQixJQUFBM2EsRUFDSUgsRUFBQWxGLEtBQUFzRixLQUFNMmMsRUFBS2pDLElBQUkxYSxZQUNmRCxFQUFLK0MsV0FBYTZaLEVBQUk3WixXQUFXOUIsSUFBSSxTQUFDMGYsR0FBa0IsT0FBQWhFLEVBQWM3Z0IsT0FBTzZrQixFQUFNaEcsS0FDbkZ6TCxFQUFBdlMsT0FBT3FELEVBQUsrQyxXQUFXckYsT0FBUyxLQXFCeEMsT0FoQ29DeUMsRUFBQTJjLEVBQUFqZCxHQWN6QmlkLEVBQUExZ0IsVUFBQXdoQixRQUFQLFdBR0ksSUFEQSxJQUFJSCxFQUNJampCLEVBQUksRUFBR0EsRUFBSXlGLEtBQUs4QyxXQUFXckYsU0FBVWxELEVBQUcsQ0FDNUMsSUFBSW9tQixFQUFZM2dCLEtBQUs4QyxXQUFXdkksR0FHaEMsR0FGQXlGLEtBQUs0Z0Isc0JBQXdCRCxFQUVULGFBRHBCbkQsRUFBU21ELEVBQVVoRCxXQUNSVCxLQUNQLE9BQU9NLEVBSWYsT0FBT0EsR0FHSlgsRUFBQTFnQixVQUFBOFYsZUFBUCxXQUNJLE9BQU9qUyxLQUFLNGdCLHNCQUF1QjNPLGtCQUUzQzRLLEVBaENBLENBQW9DSCxHQUF2QnJpQixFQUFBd2lCLGlCQWtDYixJQUFBcUIsRUFBQSxTQUFBdGUsR0FJSSxTQUFBc2UsRUFBbUJ2QixFQUFjakMsR0FBakMsSUFBQTNhLEVBQ0lILEVBQUFsRixLQUFBc0YsS0FBTTJjLEVBQUtqQyxJQUFJMWEsWUFDZkQsRUFBS3FFLEtBQU91WSxFQUFVLEtBQUUzYixJQUFJLFNBQUMzRixHQUFVLE9BQUEyaEIsRUFBV25oQixPQUFPUixFQUFHcWYsT0EwRHBFLE9BaEUrQnhhLEVBQUFnZSxFQUFBdGUsR0FTakJzZSxFQUFBL2hCLFVBQUEwaEIsU0FBVixXQUVJLElBQUlnRCxFQUFhN2dCLEtBQUtvRSxLQUFLcEQsSUFBSSxTQUFBM0YsR0FBSyxPQUFBQSxFQUFFc2lCLFlBQ3RDLE9BQUlSLEVBQVcwRCxHQUNKN2dCLEtBQUs4Z0IsWUFBWUQsRUFBVzdmLElBQUksU0FBQTNGLEdBQUssT0FBQUEsRUFBRUcsU0FHdkNxbEIsRUFBV2xLLEtBQUssU0FBQXRiLEdBQU0sTUFBa0IsWUFBWEEsRUFBRTZoQixRQUt0Q2dCLEVBQUEvaEIsVUFBQTJrQixZQUFSLFNBQW9CQyxHQUloQixJQUhBLElBQUlDLEVBQXVCLEdBQ3ZCdmMsRUFBT3NjLEVBQUssR0FBR3RjLEtBQ2Z3YyxFQUFVLEVBQ04xbUIsRUFBSSxFQUFHQSxFQUFJa0ssSUFBUWxLLEVBQ3ZCeW1CLEVBQVFwakIsS0FBSyxJQUVqQixJQUFRckQsRUFBSSxFQUFHQSxFQUFJd21CLEVBQUt0akIsU0FBVWxELEVBQUcsQ0FDakMsSUFBSXFhLEVBQU1tTSxFQUFLeG1CLEdBRWYsR0FEQTBtQixHQUFXck0sRUFBSXhRLEtBQ1h3USxFQUFJblEsT0FBU0EsRUFDYixPQUFPMFMsRUFBWSxJQUFJaEksRUFBWW5QLEtBQU0seUNBRTdDLElBQUksSUFBSXBGLEVBQUksRUFBR0EsRUFBSTZKLElBQVE3SixFQUN2QixJQUFJLElBQUlTLEVBQUksRUFBR0EsRUFBSXVaLEVBQUl4USxPQUFRL0ksRUFDM0IybEIsRUFBUXBtQixHQUFHZ0QsS0FBS2dYLEVBQUk1RCxHQUFHM1YsRUFBRSxFQUFHVCxFQUFFLElBSTFDLElBQUkrVyxFQUEwQixHQUFJdVAsT0FBTzVELE1BQU0sR0FBSTBELEdBQ25ELE9BQU8vSixFQUFjLElBQUk1SCxFQUFPNFIsRUFBU3hjLEVBQU1rTixFQUMzQ29QLEVBQUtJLEtBQUssU0FBQXhtQixHQUFLLE1BQWUsV0FBZkEsRUFBRTRVLFdBQXlCLFNBQVd3UixFQUFLLEdBQUd4UixZQUc5RDJPLEVBQUEvaEIsVUFBQTRoQixlQUFQLFdBQ0ksSUFBSTdMLEVBQVFDLEVBQUUsbUJBQ2RELEVBQU1FLFNBQVMsZ0JBQ2YsSUFBSTdTLEVBQVEwUCxFQUFBblEsTUFBTUMsTUFDTyxZQUFyQmlCLEtBQUt3ZCxPQUFPTixPQUNaM2QsRUFBUVMsS0FBS3dkLE9BQU9oaUIsTUFBTStELE9BRTlCMlMsRUFBTUcsSUFBSSxtQkFBb0I5UyxHQUc5QixJQURBLElBQUk2RSxFQUFPcEUsS0FBS29FLEtBQ1A3SixFQUFJLEVBQUdBLEVBQUk2SixFQUFLM0csU0FBVWxELEVBQUcsQ0FDbEMsSUFBSStYLEVBQUtILEVBQUUsYUFDWEQsRUFBTUssT0FBT0QsR0FDYixJQUFJRSxFQUFLTCxFQUFFLHdDQUNYRyxFQUFHQyxPQUFPQyxHQUNWQSxFQUFHRyxLQUFLdk8sRUFBSzdKLEdBQUcwWCxlQUFlLENBQUNtUCxXQUFXLEtBRS9DLE9BQU9sUCxFQUFNLEdBQUdVLFdBRXhCc0wsRUFoRUEsQ0FBK0JsQixHQWtFL0JvQixFQUFBLFNBQUF4ZSxHQUlJLFNBQUF3ZSxFQUFtQnpCLEVBQWNqQyxHQUFqQyxJQUFBM2EsRUFDSUgsRUFBQWxGLEtBQUFzRixLQUFNMmMsRUFBS2pDLElBQUkxYSxZQUNmRCxFQUFLMEUsS0FBT2tZLEVBQVUsS0FBRTNiLElBQUksU0FBQzNGLEdBQVUsT0FBQTJoQixFQUFXbmhCLE9BQU9SLEVBQUdxZixPQTREcEUsT0FsRTRCeGEsRUFBQWtlLEVBQUF4ZSxHQVNkd2UsRUFBQWppQixVQUFBMGhCLFNBQVYsV0FDSSxJQUFJd0QsRUFBYXJoQixLQUFLeUUsS0FBS3pELElBQUksU0FBQXBHLEdBQUssT0FBQUEsRUFBRStpQixZQUV0QyxPQUFJUixFQUFXa0UsR0FDSnJoQixLQUFLc2hCLFlBQVlELEVBQVdyZ0IsSUFBSSxTQUFBcEcsR0FBSyxPQUFBQSxFQUFFWSxTQUd2QzZsQixFQUFXMUssS0FBSyxTQUFBdGIsR0FBTSxNQUFrQixZQUFYQSxFQUFFNmhCLFFBSXRDa0IsRUFBQWppQixVQUFBbWxCLFlBQVIsU0FBb0JQLEdBQ2hCLElBQUkzYyxFQUFPMmMsRUFBSyxHQUFHM2MsS0FFbkIsT0FBSTJjLEVBQUtJLEtBQUssU0FBQXhtQixHQUFNLE9BQU9BLEVBQUV5SixNQUFRQSxJQUMxQitTLEVBQVksSUFBSWhJLEVBQVluUCxLQUFNLHNDQUd0Q2lYLEVBQWMsSUFBSTVILEVBQ3JCMFIsRUFBSyxHQUFHM2MsS0FDUjJjLEVBQUtoUCxPQUFPLFNBQVN3UCxFQUFNQyxHQUN2QixPQUFPRCxFQUFPQyxFQUFRL2MsTUFDeEIsR0FDRnNjLEVBQUtoUCxPQUFPLFNBQVNKLEVBQVNpRCxHQUUxQixPQURBakQsRUFBVUEsRUFBUXVQLE9BQU90TSxFQUFJdEYsT0FFZixJQUNsQnlSLEVBQUtJLEtBQUssU0FBQXhtQixHQUFLLE1BQWUsV0FBZkEsRUFBRTRVLFdBQXlCLFNBQVd3UixFQUFLLEdBQUd4UixZQUk5RDZPLEVBQUFqaUIsVUFBQTRoQixlQUFQLFdBQ0ksSUFBSXRaLEVBQU96RSxLQUFLeUUsS0FDaEIsR0FBbUIsR0FBZkEsRUFBS2hILE9BRUwsT0FBT2dILEVBQUssR0FBR3dOLGlCQUdmLElBQUlDLEVBQVFDLEVBQUUsbUJBQ2RELEVBQU1FLFNBQVMsZ0JBQ2YsSUFBSTdTLEVBQVEwUCxFQUFBblEsTUFBTUMsTUFDTyxZQUFyQmlCLEtBQUt3ZCxPQUFPTixPQUNaM2QsRUFBUVMsS0FBS3dkLE9BQU9oaUIsTUFBTStELE9BRTlCMlMsRUFBTUcsSUFBSSxtQkFBb0I5UyxHQUM5QixJQUFJK1MsRUFBS0gsRUFBRSxhQUNYRCxFQUFNSyxPQUFPRCxHQUViLElBQUssSUFBSS9YLEVBQUksRUFBR0EsRUFBSWtLLEVBQUtoSCxTQUFVbEQsRUFBRyxDQUNsQyxJQUFJaVksRUFBS0wsRUFBRSx3Q0FDWEcsRUFBR0MsT0FBT0MsR0FDQS9OLEVBQUtsSyxHQUNmaVksRUFBR0csS0FBS2xPLEVBQUtsSyxHQUFHMFgsZUFBZSxDQUFDbVAsV0FBVyxLQUUvQyxPQUFPbFAsRUFBTSxHQUFHVSxXQUc1QndMLEVBbEVBLENBQTRCcEIsR0FvRTVCc0IsRUFBQSxTQUFBMWUsR0FNSSxTQUFBMGUsRUFBbUIzQixFQUFjakMsR0FBakMsSUFBQTNhLEVBQ0lILEVBQUFsRixLQUFBc0YsS0FBTTJjLEVBQUtqQyxJQUFJMWEsWUFDZkQsRUFBS3BCLE1BQVFxZSxFQUFXbmhCLE9BQU84Z0IsRUFBSWhlLE1BQU8rYixHQUMxQzNhLEVBQUtuQixJQUFNb2UsRUFBV25oQixPQUFPOGdCLEVBQUkvZCxJQUFLOGIsR0FDdEMzYSxFQUFLbEIsS0FBTzhkLEVBQUk5ZCxLQUFPbWUsRUFBV25oQixPQUFPOGdCLEVBQUk5ZCxLQUFNNmIsR0FBTyxPQW9HbEUsT0E5RzhCeGEsRUFBQW9lLEVBQUExZSxHQWFoQjBlLEVBQUFuaUIsVUFBQTBoQixTQUFWLFdBRUksSUFBSTRELEVBQWN6aEIsS0FBS3JCLE1BQU1nZixVQUN6QitELEVBQVkxaEIsS0FBS3BCLElBQUkrZSxVQUNyQmdFLEVBQWEzaEIsS0FBS25CLE1BQVFtQixLQUFLbkIsS0FBSzhlLFVBRXhDLEdBQXlCLFlBQXJCOEQsRUFBWXZFLEtBQ1osT0FBT3VFLEVBR1gsR0FBdUIsWUFBbkJDLEVBQVV4RSxLQUNWLE9BQU93RSxFQUdYLEdBQUlDLEdBQWtDLFlBQXBCQSxFQUFXekUsS0FDekIsT0FBT3lFLEVBTVgsSUFBSUMsRUFBSUgsRUFBWWptQixNQUFNK1YsY0FDdEIzUyxFQUFNOGlCLEVBQVVsbUIsTUFBTStWLGNBQ3RCMVMsRUFBTzhpQixFQUFhQSxFQUFXbm1CLE1BQU0rVixjQUFnQixFQUNyRDdTLEVBQXVCLEdBQzNCLEdBQUlHLEVBQU8sR0FDUCxHQUFJK2lCLEdBQUtoakIsRUFDTCxLQUFPZ2pCLEdBQUtoakIsR0FDUkYsRUFBTWQsS0FBS2drQixHQUNYQSxHQUFLL2lCLE9BS2IsR0FBSUQsR0FBT2dqQixFQUNQLEtBQU9oakIsR0FBT2dqQixHQUNWbGpCLEVBQU1kLEtBQUtna0IsR0FDWEEsR0FBSy9pQixFQU1qQixPQUFPb1ksRUFBYyxJQUFJNUgsRUFBTyxFQUFHM1EsRUFBTWpCLE9BQVFpQixFQUFPLFlBR3JENGYsRUFBQW5pQixVQUFBNGhCLGVBQVAsV0FFSSxJQUFJOEQsT0FBYTdmLEVBQ2pCLEdBQXlCLFlBQXJCaEMsS0FBS3dkLE9BQU9OLEtBQW9CLENBSWhDLElBSEEsSUFBSTFoQixFQUFRd0UsS0FBS3dkLE9BQU9oaUIsTUFFcEJzbUIsRUFBVSxHQUNMdm5CLEVBQUksRUFBR0EsR0FBS2lCLEVBQU1tVSxRQUFTcFYsRUFDaEN1bkIsR0FDQSx3REFDTUMsR0FBV3ZtQixFQUFNcVYsU0FBU3RXLElBQUcsMEJBSXZDc25CLEVBQWEseUhBRThDNVMsRUFBQW5RLE1BQU1HLFFBQVF6RCxFQUFPeVQsRUFBQW5RLE1BQU1FLGVBQWMsd29CQVd0RjhpQixFQUFPLHNEQUt6QixNQUFPLHVOQUtXOWhCLEtBQUtuQixLQUFPLGdCQUFrQixJQUFFLHVKQUlEbUIsS0FBS3JCLE1BQU1zVCxpQkFBZ0IsbUNBQzFEalMsS0FBS25CLEtBQU8sa0NBQW9DbUIsS0FBS25CLEtBQUtvVCxpQkFBbUIsUUFBVSxJQUFFLDREQUMxRGpTLEtBQUtwQixJQUFJcVQsaUJBQWdCLCtGQUlwRTRQLEVBQVUsb0JBSXhCdkQsRUE5R0EsQ0FBOEJ0QixHQWdIOUJnRixFQUFBLFNBQUFwaUIsR0FNSSxTQUFBb2lCLEVBQW1CckYsRUFBY2pDLEdBQWpDLElBQUEzYSxFQUNJSCxFQUFBbEYsS0FBQXNGLEtBQU0yYyxFQUFLakMsSUFBSTFhLFlBQ2ZELEVBQUtxRixHQUFLdVgsRUFBSXZYLEdBRWRyRixFQUFLK08sS0FBT2tPLEVBQVduaEIsT0FBTzhnQixFQUFJN04sS0FBTTRMLEdBQ3hDM2EsRUFBSzZPLE1BQVFvTyxFQUFXbmhCLE9BQU84Z0IsRUFBSS9OLE1BQU84TCxLQStFbEQsT0ExRmdEeGEsRUFBQThoQixFQUFBcGlCLEdBaUJsQ29pQixFQUFBN2xCLFVBQUEwaEIsU0FBVixXQUVJLElBQUlvRSxFQUFhamlCLEtBQUs4TyxLQUFLNk8sVUFDdkJ1RSxFQUFjbGlCLEtBQUs0TyxNQUFNK08sVUFFN0IsR0FBd0IsWUFBcEJzRSxFQUFXL0UsS0FDWCxPQUFPK0UsRUFHWCxHQUF5QixZQUFyQkMsRUFBWWhGLEtBQ1osT0FBT2dGLEVBR1gsSUFBSUMsRUFBZW5pQixLQUFLb2lCLGNBQWNILEVBQVlDLEdBQ2xELE9BQUlDLEdBSUduaUIsS0FBS3FpQixTQUNSSixFQUFXem1CLE1BQU8wbUIsRUFBWTFtQixNQUFPd0UsS0FBS29GLEdBQzFDcEYsS0FBS3NpQixVQUFVdGlCLEtBQUtvRixJQUFLcEYsS0FBS3VQLFdBRzVCeVMsRUFBQTdsQixVQUFBaW1CLGNBQVYsU0FBd0JILEVBQXFDQyxHQUN6RCxPQUFPLE1BR0hGLEVBQUE3bEIsVUFBQWttQixTQUFSLFNBQWlCRSxFQUFpQkMsRUFBa0JwZCxFQUNoRGlNLEVBQWlEOUIsR0FFakQsSUFDSWtJLEVBQ0FDLEVBRkEvRixFQUFVLEdBR2QsR0FBSTRRLEVBQVFuZSxPQUFTb2UsRUFBU3BlLE1BQVFtZSxFQUFROWQsT0FBUytkLEVBQVMvZCxLQUFNLENBRWxFLElBQUssSUFBSWxLLEVBQUksRUFBR0EsR0FBS2dvQixFQUFRNVMsUUFBU3BWLEVBQ2xDb1gsRUFBUS9ULEtBQUt5VCxFQUFRa1IsRUFBUTFSLFNBQVN0VyxHQUFJaW9CLEVBQVMzUixTQUFTdFcsS0FFaEVrZCxFQUFVOEssRUFBUW5lLEtBQ2xCc1QsRUFBVTZLLEVBQVE5ZCxVQUVqQixHQUFJOGQsRUFBUTNTLFNBQVUsQ0FDdkIsSUFBSTZTLEVBQWFGLEVBQVFoUixjQUN6QixJQUFTaFgsRUFBSSxFQUFHQSxHQUFLaW9CLEVBQVM3UyxRQUFTcFYsRUFDbkNvWCxFQUFRL1QsS0FBS3lULEVBQVFvUixFQUFZRCxFQUFTM1IsU0FBU3RXLEtBRXZEa2QsRUFBVStLLEVBQVNwZSxLQUNuQnNULEVBQVU4SyxFQUFTL2QsU0FFbEIsS0FBSStkLEVBQVM1UyxTQVNkLE9BQU91SCxFQUFZLElBQUloSSxFQUFZblAsS0FBTSxzQ0FBd0NvRixFQUFLLGNBQ3RGbWQsRUFBUW5lLEtBQU8sSUFBTW1lLEVBQVE5ZCxLQUFPLGlCQUNwQytkLEVBQVNwZSxLQUFPLElBQU1vZSxFQUFTL2QsS0FBTyxNQVZ0QyxJQUFJaWUsRUFBY0YsRUFBU2pSLGNBQzNCLElBQVNoWCxFQUFJLEVBQUdBLEdBQUtnb0IsRUFBUTVTLFFBQVNwVixFQUNsQ29YLEVBQVEvVCxLQUFLeVQsRUFBUWtSLEVBQVExUixTQUFTdFcsR0FBSW1vQixJQUU5Q2pMLEVBQVU4SyxFQUFRbmUsS0FDbEJzVCxFQUFVNkssRUFBUTlkLEtBT3RCLE9BQU93UyxFQUFjLElBQUk1SCxFQUFPb0ksRUFBU0MsRUFBUy9GLEVBQVNwQyxLQUl4RHlTLEVBQUE3bEIsVUFBQTRoQixlQUFQLFdBQ0ksTUFBTyx1REFDSS9kLEtBQUs4TyxLQUFLbUQsaUJBQWdCLGtDQUNwQmpTLEtBQUtvRixHQUFFLGtDQUNicEYsS0FBSzRPLE1BQU1xRCxpQkFBZ0IsMEJBRzlDK1AsRUExRkEsQ0FBZ0RoRixHQTRGaERnQyxFQUFBLFNBQUFwZixHQUFBLFNBQUFvZixJQUFBLElBQUFqZixFQUFBLE9BQUFILEtBQUEwZCxNQUFBdGQsS0FBQXVkLFlBQUF2ZCxZQUN1QkQsRUFBQXdQLFNBQVcsU0FDWHhQLEVBQUF1aUIsVUFBWSxDQUMzQkssSUFBTSxTQUFDcGEsRUFBV2tSLEdBQWMsT0FBQWxSLEVBQUlrUixHQUNwQ21KLElBQU0sU0FBQ3JhLEVBQVdrUixHQUFjLE9BQUFsUixFQUFJa1IsTUFFNUMsT0FONEJ2WixFQUFBOGUsRUFBQXBmLEdBTTVCb2YsRUFOQSxDQUE0QmdELEdBUTVCOUMsRUFBQSxTQUFBdGYsR0FBQSxTQUFBc2YsSUFBQSxJQUFBbmYsRUFBQSxPQUFBSCxLQUFBMGQsTUFBQXRkLEtBQUF1ZCxZQUFBdmQsWUFDdUJELEVBQUF3UCxTQUFXLFNBQ1h4UCxFQUFBdWlCLFVBQVksQ0FDM0JPLElBQU0sU0FBQ3RhLEVBQVdrUixHQUFjLE9BQUFsUixFQUFJa1IsR0FDcENxSixJQUFNLFNBQUN2YSxFQUFXa1IsR0FBYyxPQUFBbFIsRUFBSWtSLEdBQ3BDc0osS0FBTyxTQUFDeGEsRUFBV2tSLEdBQWMsT0FBQWxSLEVBQUlrUixHQUNyQ3VKLEtBQU8sU0FBQ3phLEVBQVdrUixHQUFjLE9BQUFsUixFQUFJa1IsR0FDckN3SixLQUFPLFNBQUMxYSxFQUFXa1IsR0FBYyxPQUFBdmIsS0FBS2dsQixJQUFJM2EsRUFBRWtSLE9BYXBELE9BcEI2QnZaLEVBQUFnZixFQUFBdGYsR0FVZnNmLEVBQUEvaUIsVUFBQWltQixjQUFWLFNBQXdCSCxFQUFxQ0MsR0FDekQsTUFBZ0IsTUFBWmxpQixLQUFLb0YsSUFBMEIsTUFBWnBGLEtBQUtvRixJQUEwQixNQUFacEYsS0FBS29GLElBRXRDNmMsRUFBV3ptQixNQUFNb1UsVUFBYXNTLEVBQVkxbUIsTUFBTW9VLFNBS2xELEtBSlF1SCxFQUFZLElBQUloSSxFQUFZblAsS0FBTSw0SUFNekRrZixFQXBCQSxDQUE2QjhDLEdBc0I3QnhELEVBQUEsU0FBQTVlLEdBQUEsU0FBQTRlLElBQUEsSUFBQXplLEVBQUEsT0FBQUgsS0FBQTBkLE1BQUF0ZCxLQUFBdWQsWUFBQXZkLFlBRXVCRCxFQUFBd1AsU0FBVyxVQUNYeFAsRUFBQXVpQixVQUFZLENBQzNCYSxJQUFNLFNBQUM1YSxFQUFXa1IsR0FBYyxPQUFDbFIsR0FBS2tSLEVBQUssRUFBSSxNQUV2RCxPQU5pQ3ZaLEVBQUFzZSxFQUFBNWUsR0FNakM0ZSxFQU5BLENBQWlDd0QsR0FRakN0RCxFQUFBLFNBQUE5ZSxHQUFBLFNBQUE4ZSxJQUFBLElBQUEzZSxFQUFBLE9BQUFILEtBQUEwZCxNQUFBdGQsS0FBQXVkLFlBQUF2ZCxZQUV1QkQsRUFBQXdQLFNBQVcsVUFDWHhQLEVBQUF1aUIsVUFBWSxDQUMzQmMsSUFBTSxTQUFDN2EsRUFBV2tSLEdBQWMsT0FBQ2xSLEdBQUtrUixFQUFLLEVBQUksTUFFdkQsT0FOa0N2WixFQUFBd2UsRUFBQTllLEdBTWxDOGUsRUFOQSxDQUFrQ3NELEdBUWxDcEQsRUFBQSxTQUFBaGYsR0FBQSxTQUFBZ2YsSUFBQSxJQUFBN2UsRUFBQSxPQUFBSCxLQUFBMGQsTUFBQXRkLEtBQUF1ZCxZQUFBdmQsWUFFdUJELEVBQUF3UCxTQUFXLFVBQ1h4UCxFQUFBdWlCLFVBQVksQ0FDM0JlLEtBQU8sU0FBQzlhLEVBQVdrUixHQUFjLE9BQUNsUixJQUFNa1IsRUFBSyxFQUFJLEdBQ2pENkosS0FBTyxTQUFDL2EsRUFBV2tSLEdBQWMsT0FBQ2xSLElBQU1rUixFQUFLLEVBQUksTUFFekQsT0FQaUN2WixFQUFBMGUsRUFBQWhmLEdBT2pDZ2YsRUFQQSxDQUFpQ29ELEdBU2pDbEQsRUFBQSxTQUFBbGYsR0FBQSxTQUFBa2YsSUFBQSxJQUFBL2UsRUFBQSxPQUFBSCxLQUFBMGQsTUFBQXRkLEtBQUF1ZCxZQUFBdmQsWUFFdUJELEVBQUF3UCxTQUFXLFVBQ1h4UCxFQUFBdWlCLFVBQVksQ0FDM0JpQixJQUFNLFNBQUNoYixFQUFXa1IsR0FBYyxPQUFDbFIsRUFBSWtSLEVBQUssRUFBSSxHQUM5QytKLEtBQU8sU0FBQ2piLEVBQVdrUixHQUFjLE9BQUNsUixHQUFLa1IsRUFBSyxFQUFJLEdBQ2hEZ0ssSUFBTSxTQUFDbGIsRUFBV2tSLEdBQWMsT0FBQ2xSLEVBQUlrUixFQUFLLEVBQUksR0FDOUNpSyxLQUFPLFNBQUNuYixFQUFXa1IsR0FBYyxPQUFDbFIsR0FBS2tSLEVBQUssRUFBSSxNQUV4RCxPQVRtQ3ZaLEVBQUE0ZSxFQUFBbGYsR0FTbkNrZixFQVRBLENBQW1Da0QsR0FhbkM1QyxFQUFBLFNBQUF4ZixHQUtJLFNBQUF3ZixFQUFtQnpDLEVBQWNqQyxHQUFqQyxJQUFBM2EsRUFDSUgsRUFBQWxGLEtBQUFzRixLQUFNMmMsRUFBS2pDLElBQUkxYSxZQU1GRCxFQUFBdWlCLFVBQTRELENBQ3pFSyxJQUFNLFNBQUNmLEdBQWMsT0FBQUEsR0FDckJnQixJQUFNLFNBQUNoQixHQUFjLE9BQUNBLEdBQ3RCK0IsSUFBTSxTQUFDL0IsR0FBYyxPQUFBQSxFQUFJLEVBQUksSUFHaEI3aEIsRUFBQTZqQixrQkFBeUQsQ0FDdEVqQixJQUFNLFNBQ05DLElBQU0sU0FDTmUsSUFBTSxXQWRONWpCLEVBQUtxRixHQUFLdVgsRUFBSXZYLEdBRWRyRixFQUFLOGpCLFFBQVU3RyxFQUFXbmhCLE9BQU84Z0IsRUFBSTlVLElBQUs2UyxLQTZDbEQsT0F0RDZDeGEsRUFBQWtmLEVBQUF4ZixHQXdCL0J3ZixFQUFBampCLFVBQUEwaEIsU0FBVixXQUVJLElBQUlpRyxFQUFnQjlqQixLQUFLNmpCLFFBQVFsRyxVQUVqQyxHQUEyQixZQUF2Qm1HLEVBQWM1RyxLQUNkLE9BQU80RyxFQUdYLElBQUkzQixFQUFlbmlCLEtBQUsrakIsYUFBYUQsR0FDckMsT0FBSTNCLEdBSUduaUIsS0FBS2drQixRQUFRRixFQUFjdG9CLE1BQU93RSxLQUFLc2lCLFVBQVV0aUIsS0FBS29GLElBQUtwRixLQUFLNGpCLGtCQUFrQjVqQixLQUFLb0YsTUFHeEZnYSxFQUFBampCLFVBQUE0bkIsYUFBVixTQUF1QkQsR0FDbkIsT0FBTyxNQUdIMUUsRUFBQWpqQixVQUFBNm5CLFFBQVIsU0FBZ0JwUCxFQUFhdkQsRUFBZ0M5QixHQUN6RCxPQUFPMEgsRUFBYyxJQUFJNUgsRUFBT3VGLEVBQUl4USxLQUFNd1EsRUFBSW5RLEtBQU1tUSxFQUFJdEYsS0FBS3RPLElBQUlxUSxHQUFVOUIsS0FHeEU2UCxFQUFBampCLFVBQUE0aEIsZUFBUCxXQUNJLE1BQU8sc0RBQ0kvZCxLQUFLb0YsR0FBRSxrQ0FDUHBGLEtBQUs2akIsUUFBUTVSLGlCQUFnQiwwQkFHaERtTixFQXREQSxDQUE2Q3BDLEdBQWhDM2lCLEVBQUEra0IsMEJBdURiLElBQUFFLEVBQUEsU0FBQTFmLEdBS0ksU0FBQTBmLEVBQW1CM0MsRUFBY2pDLEdBQWpDLElBQUEzYSxFQUNJSCxFQUFBbEYsS0FBQXNGLEtBQU0yYyxFQUFLakMsSUFBSTFhLFlBQ2ZELEVBQUtra0IsY0FBZ0J0SCxFQUFJelUsV0FBV3pLLE9BRXBDc0MsRUFBSzhqQixRQUFVN0csRUFBV25oQixPQUFPOGdCLEVBQUk5VSxJQUFLNlMsS0E4QmxELE9BdkN5Q3hhLEVBQUFvZixFQUFBMWYsR0FZM0IwZixFQUFBbmpCLFVBQUEwaEIsU0FBVixXQUVJLElBQUlpRyxFQUFnQjlqQixLQUFLNmpCLFFBQVFsRyxVQUVqQyxHQUEyQixZQUF2Qm1HLEVBQWM1RyxLQUNkLE9BQU80RyxFQU1YLElBRkEsSUFBSUksRUFBU0osRUFBY3RvQixNQUN2Qm1XLEVBQXFCLEdBQ2pCdFcsRUFBSSxFQUFHQSxHQUFLNm9CLEVBQU85ZixPQUFRL0ksRUFDL0IsSUFBSyxJQUFJVCxFQUFJLEVBQUdBLEdBQUtzcEIsRUFBT3pmLE9BQVE3SixFQUNoQytXLEVBQVEvVCxLQUFLc21CLEVBQU9sVCxHQUFHM1YsRUFBR1QsSUFLbEMsT0FBT3FjLEVBQWMsSUFBSTVILEVBQU82VSxFQUFPemYsS0FBTXlmLEVBQU85ZixLQUFNdU4sRUFBU3VTLEVBQU8zVSxZQUd2RStQLEVBQUFuakIsVUFBQTRoQixlQUFQLFdBQ0ksTUFBTyw4RkFFSS9kLEtBQUs2akIsUUFBUTVSLGlCQUFnQiwwQkFHaERxTixFQXZDQSxDQUF5Q3RDLEdBQTVCM2lCLEVBQUFpbEIsc0JBMkNiLElBQUFFLEVBQUEsU0FBQTVmLEdBYUksU0FBQTRmLEVBQW1CN0MsRUFBY2pDLEdBQWpDLElBQUEzYSxFQUNJSCxFQUFBbEYsS0FBQXNGLEtBQU0yYyxFQUFLakMsSUFBSTFhLFlBQ2ZELEVBQUtxZ0IsV0FBYXpELEVBQVksT0FDOUI1YyxFQUFLb2tCLGVBQWlCeEgsRUFBVSxLQUFFM2IsSUFBSSxTQUFDekcsR0FBYyxPQUFBeWlCLEVBQVduaEIsT0FBT3RCLEVBQUdtZ0IsT0F3R2xGLE9BeEhvQ3hhLEVBQUFzZixFQUFBNWYsR0FtQnRCNGYsRUFBQXJqQixVQUFBMGhCLFNBQVYsZUFBQTlkLEVBQUFDLEtBQ1F3YixFQUFPeGIsS0FBSzBhLElBQUlhLE9BQU92YixLQUFLb2dCLFlBQ2hDLElBQUs1RSxFQUNELE9BQU9yRSxFQUFZLElBQUloSSxFQUFZblAsS0FBTSxvREFBc0RBLEtBQUtvZ0IsYUFHeEcsS0FBSTVFLGFBQWdCbkYsR0E4Q2YsQ0FDRCxJQUFJVyxFQUF1QmhYLEtBQU1va0IsaUJBQW1CNUksRUFDcEQsSUFBS3hFLEVBQUtJLG9CQUFvQnBYLEtBQUtta0IsZUFBZTFtQixRQUM5QyxPQUFPMFosRUFBWSxJQUFJaEksRUFBWW5QLEtBQU0sdUNBQXVDQSxLQUFLb2dCLFdBQVUsZUFHbkcsSUFBSWlFLEVBQWFya0IsS0FBS21rQixlQUFlbmpCLElBQUksU0FBQ2MsR0FBVSxPQUFBQSxFQUFNNmIsWUFFMUQsT0FBS1IsRUFBV2tILEdBSVRyTixFQUFLM0YsUUFBUXJSLEtBQU1xa0IsRUFBV3JqQixJQUFJLFNBQUNzakIsR0FBVyxPQUFBQSxFQUFPOW9CLFNBSGpENm9CLEVBQVcxTixLQUFLLFNBQUF0YixHQUFNLE1BQWtCLFlBQVhBLEVBQUU2aEIsT0F0RDFDLElBQUlxSCxFQUFTL0ksRUFBS2hnQixNQUdsQixHQUZnQndFLEtBQU1zZ0IsZUFBaUJpRSxFQUFPalUsUUFFMUN0USxLQUFLbWtCLGVBQWUxbUIsT0FBUyxFQUU3QixPQUFPMFosRUFBWSxJQUFJaEksRUFBWW5QLEtBQU0sNEVBRzdDLElBQUl1Z0IsRUFBaUJ2Z0IsS0FBS21rQixlQUFlbmpCLElBQUksU0FBQzhQLEVBQU92VyxHQUNkLElBQS9Cd0YsRUFBS29rQixlQUFlMW1CLE9BRXBCc0MsRUFBSzJhLElBQUlvQixhQUFheUksRUFBTzVVLE9BSTdCNVAsRUFBSzJhLElBQUlvQixhQUFheUksRUFBTzltQixPQUFhbEQsRUFBRSxJQUVoRCxJQUFJcWpCLEVBQU05TSxFQUFNNk0sVUFFaEIsT0FEQTVkLEVBQUsyYSxJQUFJcUIsY0FDRjZCLElBSVgsSUFBS1QsRUFBV29ELEdBQ1osT0FBT0EsRUFBZTVKLEtBQUssU0FBQXRiLEdBQU0sTUFBa0IsWUFBWEEsRUFBRTZoQixPQUdoQixJQUExQnFELEVBQWU5aUIsT0FDQ3VDLEtBQU13Z0IsZUFBaUJsTCxFQUFlelosT0FDbERtRSxLQUFLbWtCLGVBQWUsYUFBY3pFLEVBQWtCLElBQU1hLEVBQWUsR0FBRy9rQixPQUdoRXdFLEtBQU13Z0IsZUFBaUIxTixFQUFtQmpYLE9BQ3REbUUsS0FBS21rQixlQUFlLGFBQWN6RSxFQUFrQixJQUFNYSxFQUFlLEdBQUcva0IsTUFDNUV3RSxLQUFLbWtCLGVBQWUsYUFBY3pFLEVBQWtCLElBQU1hLEVBQWUsR0FBRy9rQixPQUdwRixJQUVJLE9BREF3RSxLQUFLd2dCLGVBQWdCN0wsT0FBTzRQLEdBQ3JCdE4sRUFBY2pYLEtBQUt3Z0IsZUFBZ0J2TSxVQUFVc1EsSUFFeEQsTUFBTXJOLEdBQ0YsT0FBT0MsRUFBWSxJQUFJaEksRUFBWW5QLEtBQU1rWCxNQXNCM0NzSSxFQUFBcmpCLFVBQUE0aEIsZUFBVixTQUF5QmhjLEdBUXJCLE9BTmNvUSxFQUFFLGVBQ1JDLFNBQVMsb0JBS2JwUyxLQUFLc2dCLGdCQUFrQnRnQixLQUFLd2dCLGVBRXJCLG1EQURLeGdCLEtBQUt3Z0IsZUFBZW5OLG9CQUFvQnJULEtBQUtzZ0IsZ0JBRTFDLHNCQUNUdGdCLEtBQUt3Z0IsZUFDSCx3Q0FBdUN4Z0IsS0FBS29nQixXQUFhcGdCLEtBQUt3Z0IsZUFBZXBOLGdCQUFjLFNBQzNGLHVDQUF1Q3BULEtBQUtvZ0IsV0FBVSxVQUFRLHVCQUlqRXBnQixLQUFLb2tCLGlCQUNILGtEQUNEcGtCLEtBQUtvZ0IsV0FBVSwwQkFDWHBnQixLQUFLbWtCLGVBQWVuakIsSUFBSSxTQUFDdVcsR0FBUSxzQ0FBZ0NBLEVBQUl0RixpQkFBZ0IsV0FBVXZRLEtBQUssS0FBSSw0QkFLM0csSUFJbkI4ZCxFQXhIQSxDQUFvQ3hDLEdBMEhwQzBDLEVBQUEsU0FBQTlmLEdBQUEsU0FBQThmLG1EQVNBLE9BVDhCeGYsRUFBQXdmLEVBQUE5ZixHQUVuQjhmLEVBQUF2akIsVUFBQTBoQixTQUFQLFdBQ0ksT0FBTzVHLEVBQWMsSUFBSTVILEVBQU8sRUFBRSxFQUFFLENBQUMsR0FBRyxZQUdsQ3FRLEVBQUF2akIsVUFBQTRoQixlQUFWLFdBQ0ksTUFBTyxrQkFFZjJCLEVBVEEsQ0FBOEIxQyxHQVc5QixTQUFTK0UsR0FBV3ZtQixHQUNoQixJQUFJZ3BCLEVBQVNuVixFQUFPUyxhQUFhdFUsR0FDakMsTUFBTyw2QkFBNEJncEIsRUFBTy9tQixPQUFTLEVBQUksVUFBWSxJQUFFLHFCQUN6RCttQixFQUFNLHNCQUl0QixJQUFBMUUsR0FBQSxTQUFBbGdCLEdBSUksU0FBQWtnQixFQUFtQm5ELEVBQWNqQyxHQUFqQyxJQUFBM2EsRUFDSUgsRUFBQWxGLEtBQUFzRixLQUFNMmMsRUFBS2pDLElBQUkxYSxZQUNmRCxFQUFLMGtCLGFBQWVwVixFQUFPYSxPQUFPblEsRUFBSzRjLElBQVcsTUFBRyxZQWdCN0QsT0F0QnVDemMsRUFBQTRmLEVBQUFsZ0IsR0FTekJrZ0IsRUFBQTNqQixVQUFBMGhCLFNBQVYsV0FDSSxPQUFPNUcsRUFBY2pYLEtBQUt5a0IsZUFHdkIzRSxFQUFBM2pCLFVBQUE0aEIsZUFBUCxTQUFzQmhjLEdBRWxCLE9BQUlBLEdBQVdBLEVBQVFxZixVQUNaVyxHQUFXL2hCLEtBQUt5a0IsYUFBYWxULGVBRzdCdlIsS0FBS3lrQixhQUFheFMsa0JBR3JDNk4sRUF0QkEsQ0FBdUM5QyxHQUExQjNpQixFQUFBeWxCLHFCQXlCYixJQUFBRSxHQUFBLFNBQUFwZ0IsR0FJSSxTQUFBb2dCLEVBQW1CckQsRUFBY2pDLEdBQWpDLElBQUEzYSxFQUNJSCxFQUFBbEYsS0FBQXNGLEtBQU0yYyxFQUFLakMsSUFBSTFhLFlBQ2ZELEVBQUtqRixLQUFPNmhCLEVBQWdCLGFBb0JwQyxPQTFCMEN6YyxFQUFBOGYsRUFBQXBnQixHQVM1Qm9nQixFQUFBN2pCLFVBQUEwaEIsU0FBVixXQUNJLElBQ0lyQyxFQURNeGIsS0FBSzBhLElBQ0FhLE9BQU92YixLQUFLbEYsTUFDM0IsT0FBSTBnQixHQUFVQSxhQUFnQjFFLEVBSW5CSyxFQUFZLElBQUloSSxFQUFZblAsS0FBTSx3QkFBMEJBLEtBQUtsRixPQUhqRW1jLEVBQWN1RSxFQUFLaGdCLFFBTzNCd2tCLEVBQUE3akIsVUFBQTRoQixlQUFQLFdBQ0ksTUFBTyxpREFDb0IsWUFBckIvZCxLQUFLd2QsT0FBT04sS0FBcUJsZCxLQUFLd2QsT0FBT2hpQixNQUFNeVcsaUJBQW1CLElBQUUscURBQ3BDalMsS0FBS2xGLEtBQUksMEJBRzNEa2xCLEVBMUJBLENBQTBDaEQsR0FBN0IzaUIsRUFBQTJsQix3QkE0QmIsSUFBQUosR0FBQSxTQUFBaGdCLEdBRUksU0FBQWdnQixFQUFtQmpELEVBQWNqQyxVQUM3QjlhLEVBQUFsRixLQUFBc0YsS0FBTTJjLEVBQUtqQyxJQUFJMWEsS0FtQnZCLE9BdEJtQ0UsRUFBQTBmLEVBQUFoZ0IsR0FNckJnZ0IsRUFBQXpqQixVQUFBMGhCLFNBQVYsV0FDSSxJQUFJNkcsRUFBVzFrQixLQUFLMGEsSUFBSXNCLGNBQ3hCLE9BQUkwSSxFQUNPek4sRUFBYzVILEVBQU9hLE9BQU93VSxFQUFVLFdBR3RDdk4sRUFBWSxJQUFJaEksRUFBWW5QLEtBQU0sbUZBSTFDNGYsRUFBQXpqQixVQUFBNGhCLGVBQVAsV0FDSSxNQUFPLGlEQUNvQixZQUFyQi9kLEtBQUt3ZCxPQUFPTixLQUFxQmxkLEtBQUt3ZCxPQUFPaGlCLE1BQU15VyxpQkFBbUIsSUFBRSwrRUFJdEYyTixFQXRCQSxDQUFtQzVDLEdBQXRCM2lCLEVBQUF1bEIsbUNDMzJFYixTQUFBdkUsRUFBQS9nQixHQUFBLElBQUFxcUI7Ozs7Ozs7O0lBUUMsV0FHRCxJQUFBM2lCLEVBTUE0aUIsRUFBQSxJQUdBQyxFQUFBLGtFQUNBQyxFQUFBLHNCQUdBQyxFQUFBLDRCQUdBQyxFQUFBLElBR0FDLEVBQUEseUJBR0FDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBR0FDLEVBQUEsRUFDQUMsRUFBQSxFQUdBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsR0FDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsSUFDQUMsRUFBQSxJQUNBQyxFQUFBLElBR0FDLEVBQUEsR0FDQUMsRUFBQSxNQUdBQyxFQUFBLElBQ0FDLEVBQUEsR0FHQUMsRUFBQSxFQUNBQyxFQUFBLEVBSUFDLEVBQUEsSUFDQUMsRUFBQSxpQkFDQUMsRUFBQSx1QkFDQUMsRUFBQSxJQUdBQyxFQUFBLFdBQ0FDLEVBQUFELEVBQUEsRUFDQUUsRUFBQUYsSUFBQSxFQUdBRyxFQUFBLENBQ0EsT0FBQWhCLEdBQ0EsUUFBQVAsR0FDQSxXQUFBQyxHQUNBLFNBQUFFLEdBQ0EsY0FBQUMsR0FDQSxRQUFBSyxHQUNBLFdBQUFKLEdBQ0EsZ0JBQUFDLEdBQ0EsU0FBQUUsSUFJQWdCLEVBQUEscUJBQ0FDLEVBQUEsaUJBQ0FDLEVBQUEseUJBQ0FDLEVBQUEsbUJBQ0FDLEVBQUEsZ0JBQ0FDLEVBQUEsd0JBQ0FDLEVBQUEsaUJBQ0FDLEVBQUEsb0JBQ0FDLEVBQUEsNkJBQ0FDLEVBQUEsZUFDQUMsRUFBQSxrQkFDQUMsRUFBQSxnQkFDQUMsRUFBQSxrQkFFQUMsR0FBQSxpQkFDQUMsR0FBQSxrQkFDQUMsR0FBQSxlQUNBQyxHQUFBLGtCQUNBQyxHQUFBLGtCQUNBQyxHQUFBLHFCQUNBQyxHQUFBLG1CQUNBQyxHQUFBLG1CQUVBQyxHQUFBLHVCQUNBQyxHQUFBLG9CQUNBQyxHQUFBLHdCQUNBQyxHQUFBLHdCQUNBQyxHQUFBLHFCQUNBQyxHQUFBLHNCQUNBQyxHQUFBLHNCQUNBQyxHQUFBLHNCQUNBQyxHQUFBLDZCQUNBQyxHQUFBLHVCQUNBQyxHQUFBLHVCQUdBQyxHQUFBLGlCQUNBQyxHQUFBLHFCQUNBQyxHQUFBLGdDQUdBQyxHQUFBLDRCQUNBQyxHQUFBLFdBQ0FDLEdBQUFDLE9BQUFILEdBQUFoVixRQUNBb1YsR0FBQUQsT0FBQUYsR0FBQWpWLFFBR0FxVixHQUFBLG1CQUNBQyxHQUFBLGtCQUNBQyxHQUFBLG1CQUdBQyxHQUFBLG1EQUNBQyxHQUFBLFFBQ0FDLEdBQUEsbUdBTUFDLEdBQUEsc0JBQ0FDLEdBQUFULE9BQUFRLEdBQUEzVixRQUdBNlYsR0FBQSxhQUNBQyxHQUFBLE9BQ0FDLEdBQUEsT0FHQUMsR0FBQSw0Q0FDQUMsR0FBQSxvQ0FDQUMsR0FBQSxRQUdBQyxHQUFBLDRDQUdBQyxHQUFBLFdBTUFDLEdBQUEsa0NBR0FDLEdBQUEsT0FHQUMsR0FBQSxxQkFHQUMsR0FBQSxhQUdBQyxHQUFBLDhCQUdBQyxHQUFBLGNBR0FDLEdBQUEsbUJBR0FDLEdBQUEsOENBR0FDLEdBQUEsT0FHQUMsR0FBQSx5QkFPQUMsR0FBQUMsZ0RBU0FDLEdBQUFDLDhPQUlBQyxHQUFBLG9CQUNBQyxHQUFBLElBQUFILEdBQUEsSUFDQUksR0FBQSxJQUFBTixHQUFBLElBQ0FPLEdBQUEsT0FDQUMsR0FBQSxvQkFDQUMsR0FBQSw4QkFDQUMsR0FBQSxvQkFBQVIsR0FBQUssR0FsQkEscUVBbUJBSSxHQUFBLDJCQUVBQyxHQUFBLHFCQUNBQyxHQUFBLGtDQUNBQyxHQUFBLHFDQUNBQyxHQUFBLDhCQUlBQyxHQUFBLE1BQUFQLEdBQUEsSUFBQUMsR0FBQSxJQUNBTyxHQUFBLE1BQUFGLEdBQUEsSUFBQUwsR0FBQSxJQUdBUSxHQVpBLE1BQUFaLEdBQUEsSUFBQUssR0FBQSxJQVlBLElBS0FRLEdBSkEsb0JBSUFELElBSEEsaUJBQUFOLEdBQUFDLEdBQUFDLElBQUFycUIsS0FBQSwwQkFBQXlxQixHQUFBLE1BSUFFLEdBQUEsT0FBQVosR0FBQUssR0FBQUMsSUFBQXJxQixLQUFBLFNBQUEwcUIsR0FDQUUsR0FBQSxPQUFBVCxHQUFBTixHQUFBLElBQUFBLEdBQUFPLEdBQUFDLEdBQUFWLElBQUEzcEIsS0FBQSxTQUdBNnFCLEdBQUFsRCxPQS9CQSxPQStCQSxLQU1BbUQsR0FBQW5ELE9BQUFrQyxHQUFBLEtBR0FrQixHQUFBcEQsT0FBQXVDLEdBQUEsTUFBQUEsR0FBQSxLQUFBVSxHQUFBRixHQUFBLEtBR0FNLEdBQUFyRCxPQUFBLENBQ0EyQyxHQUFBLElBQUFOLEdBQUEscUNBQUFKLEdBQUFVLEdBQUEsS0FBQXRxQixLQUFBLFNBQ0F3cUIsR0FBQSxxQ0FBQVosR0FBQVUsR0FBQUMsR0FBQSxLQUFBdnFCLEtBQUEsU0FDQXNxQixHQUFBLElBQUFDLEdBQUEsaUNBQ0FELEdBQUEsaUNBdEJBLG1EQURBLG1EQTBCQVIsR0FDQWEsSUFDQTNxQixLQUFBLFVBR0FpckIsR0FBQXRELE9BQUEsMEJBQUE0QixHQTNEQSxtQkE4REEyQixHQUFBLHFFQUdBQyxHQUFBLENBQ0EseUVBQ0EsdUVBQ0Esb0VBQ0EsMERBQ0EsdURBSUFDLElBQUEsRUFHQUMsR0FBQSxHQUNBQSxHQUFBekUsSUFBQXlFLEdBQUF4RSxJQUNBd0UsR0FBQXZFLElBQUF1RSxHQUFBdEUsSUFDQXNFLEdBQUFyRSxJQUFBcUUsR0FBQXBFLElBQ0FvRSxHQUFBbkUsSUFBQW1FLEdBQUFsRSxJQUNBa0UsR0FBQWpFLEtBQUEsRUFDQWlFLEdBQUFoRyxHQUFBZ0csR0FBQS9GLEdBQ0ErRixHQUFBM0UsSUFBQTJFLEdBQUE3RixHQUNBNkYsR0FBQTFFLElBQUEwRSxHQUFBNUYsR0FDQTRGLEdBQUExRixHQUFBMEYsR0FBQXpGLEdBQ0F5RixHQUFBdkYsR0FBQXVGLEdBQUF0RixHQUNBc0YsR0FBQXBGLEdBQUFvRixHQUFBbEYsSUFDQWtGLEdBQUFqRixJQUFBaUYsR0FBQWhGLElBQ0FnRixHQUFBN0UsS0FBQSxFQUdBLElBQUE4RSxHQUFBLEdBQ0FBLEdBQUFqRyxHQUFBaUcsR0FBQWhHLEdBQ0FnRyxHQUFBNUUsSUFBQTRFLEdBQUEzRSxJQUNBMkUsR0FBQTlGLEdBQUE4RixHQUFBN0YsR0FDQTZGLEdBQUExRSxJQUFBMEUsR0FBQXpFLElBQ0F5RSxHQUFBeEUsSUFBQXdFLEdBQUF2RSxJQUNBdUUsR0FBQXRFLElBQUFzRSxHQUFBeEYsR0FDQXdGLEdBQUF2RixHQUFBdUYsR0FBQXJGLEdBQ0FxRixHQUFBbkYsSUFBQW1GLEdBQUFsRixJQUNBa0YsR0FBQWpGLElBQUFpRixHQUFBaEYsSUFDQWdGLEdBQUFyRSxJQUFBcUUsR0FBQXBFLElBQ0FvRSxHQUFBbkUsSUFBQW1FLEdBQUFsRSxLQUFBLEVBQ0FrRSxHQUFBM0YsR0FBQTJGLEdBQUExRixHQUNBMEYsR0FBQTlFLEtBQUEsRUFHQSxJQTRFQStFLEdBQUEsQ0FDQUMsS0FBQSxLQUNBQyxJQUFBLElBQ0FDLEtBQUEsSUFDQUMsS0FBQSxJQUNBQyxTQUFBLFFBQ0FDLFNBQUEsU0FJQUMsR0FBQS9qQixXQUNBZ2tCLEdBQUExakIsU0FHQTJqQixHQUFBLGlCQUFBclMsUUFBQXBnQixpQkFBQW9nQixFQUdBc1MsR0FBQSxpQkFBQUMsaUJBQUEzeUIsaUJBQUEyeUIsS0FHQUMsR0FBQUgsSUFBQUMsSUFBQUcsU0FBQSxjQUFBQSxHQUdBQyxHQUE4QzF6QixNQUFBMnpCLFVBQUEzekIsRUFHOUM0ekIsR0FBQUYsSUFBQSxpQkFBQXp6QixTQUFBMHpCLFVBQUExekIsRUFHQTR6QixHQUFBRCxPQUFBNXpCLFVBQUEwekIsR0FHQUksR0FBQUQsSUFBQVIsR0FBQVUsUUFHQUMsR0FBQSxXQUNBLElBRUEsSUFBQUMsRUFBQUwsT0FBQU0sU0FBQU4sR0FBQU0sUUFBQSxRQUFBRCxNQUVBLE9BQUFBLEdBS0FILE9BQUFLLFNBQUFMLEdBQUFLLFFBQUEsUUFDSyxNQUFBcnJCLEtBWEwsR0FlQXNyQixHQUFBSixPQUFBSyxjQUNBQyxHQUFBTixPQUFBTyxPQUNBQyxHQUFBUixPQUFBUyxNQUNBQyxHQUFBVixPQUFBVyxTQUNBQyxHQUFBWixPQUFBYSxNQUNBQyxHQUFBZCxPQUFBZSxhQWNBLFNBQUE5UixHQUFBdEcsRUFBQXFZLEVBQUExbUIsR0FDQSxPQUFBQSxFQUFBbEwsUUFDQSxjQUFBdVosRUFBQXRjLEtBQUEyMEIsR0FDQSxjQUFBclksRUFBQXRjLEtBQUEyMEIsRUFBQTFtQixFQUFBLElBQ0EsY0FBQXFPLEVBQUF0YyxLQUFBMjBCLEVBQUExbUIsRUFBQSxHQUFBQSxFQUFBLElBQ0EsY0FBQXFPLEVBQUF0YyxLQUFBMjBCLEVBQUExbUIsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFFQSxPQUFBcU8sRUFBQXNHLE1BQUErUixFQUFBMW1CLEdBYUEsU0FBQTJtQixHQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUlBLElBSEEsSUFBQTVlLEdBQUEsRUFDQXJULEVBQUEsTUFBQTh4QixFQUFBLEVBQUFBLEVBQUE5eEIsU0FFQXFULEVBQUFyVCxHQUFBLENBQ0EsSUFBQWpDLEVBQUErekIsRUFBQXplLEdBQ0EwZSxFQUFBRSxFQUFBbDBCLEVBQUFpMEIsRUFBQWowQixHQUFBK3pCLEdBRUEsT0FBQUcsRUFZQSxTQUFBQyxHQUFBSixFQUFBRSxHQUlBLElBSEEsSUFBQTNlLEdBQUEsRUFDQXJULEVBQUEsTUFBQTh4QixFQUFBLEVBQUFBLEVBQUE5eEIsU0FFQXFULEVBQUFyVCxJQUNBLElBQUFneUIsRUFBQUYsRUFBQXplLEtBQUF5ZSxLQUlBLE9BQUFBLEVBWUEsU0FBQUssR0FBQUwsRUFBQUUsR0FHQSxJQUZBLElBQUFoeUIsRUFBQSxNQUFBOHhCLEVBQUEsRUFBQUEsRUFBQTl4QixPQUVBQSxNQUNBLElBQUFneUIsRUFBQUYsRUFBQTl4QixLQUFBOHhCLEtBSUEsT0FBQUEsRUFhQSxTQUFBTSxHQUFBTixFQUFBTyxHQUlBLElBSEEsSUFBQWhmLEdBQUEsRUFDQXJULEVBQUEsTUFBQTh4QixFQUFBLEVBQUFBLEVBQUE5eEIsU0FFQXFULEVBQUFyVCxHQUNBLElBQUFxeUIsRUFBQVAsRUFBQXplLEtBQUF5ZSxHQUNBLFNBR0EsU0FZQSxTQUFBUSxHQUFBUixFQUFBTyxHQU1BLElBTEEsSUFBQWhmLEdBQUEsRUFDQXJULEVBQUEsTUFBQTh4QixFQUFBLEVBQUFBLEVBQUE5eEIsT0FDQXV5QixFQUFBLEVBQ0F4UyxFQUFBLEtBRUExTSxFQUFBclQsR0FBQSxDQUNBLElBQUFqQyxFQUFBK3pCLEVBQUF6ZSxHQUNBZ2YsRUFBQXQwQixFQUFBc1YsRUFBQXllLEtBQ0EvUixFQUFBd1MsS0FBQXgwQixHQUdBLE9BQUFnaUIsRUFZQSxTQUFBeVMsR0FBQVYsRUFBQS96QixHQUVBLFNBREEsTUFBQSt6QixFQUFBLEVBQUFBLEVBQUE5eEIsU0FDQXl5QixHQUFBWCxFQUFBL3pCLEVBQUEsTUFZQSxTQUFBMjBCLEdBQUFaLEVBQUEvekIsRUFBQTQwQixHQUlBLElBSEEsSUFBQXRmLEdBQUEsRUFDQXJULEVBQUEsTUFBQTh4QixFQUFBLEVBQUFBLEVBQUE5eEIsU0FFQXFULEVBQUFyVCxHQUNBLEdBQUEyeUIsRUFBQTUwQixFQUFBK3pCLEVBQUF6ZSxJQUNBLFNBR0EsU0FZQSxTQUFBdWYsR0FBQWQsRUFBQUUsR0FLQSxJQUpBLElBQUEzZSxHQUFBLEVBQ0FyVCxFQUFBLE1BQUE4eEIsRUFBQSxFQUFBQSxFQUFBOXhCLE9BQ0ErZixFQUFBdGMsTUFBQXpELEtBRUFxVCxFQUFBclQsR0FDQStmLEVBQUExTSxHQUFBMmUsRUFBQUYsRUFBQXplLEtBQUF5ZSxHQUVBLE9BQUEvUixFQVdBLFNBQUE4UyxHQUFBZixFQUFBZ0IsR0FLQSxJQUpBLElBQUF6ZixHQUFBLEVBQ0FyVCxFQUFBOHlCLEVBQUE5eUIsT0FDQW9PLEVBQUEwakIsRUFBQTl4QixTQUVBcVQsRUFBQXJULEdBQ0E4eEIsRUFBQTFqQixFQUFBaUYsR0FBQXlmLEVBQUF6ZixHQUVBLE9BQUF5ZSxFQWVBLFNBQUFpQixHQUFBakIsRUFBQUUsRUFBQUMsRUFBQWUsR0FDQSxJQUFBM2YsR0FBQSxFQUNBclQsRUFBQSxNQUFBOHhCLEVBQUEsRUFBQUEsRUFBQTl4QixPQUtBLElBSEFnekIsR0FBQWh6QixJQUNBaXlCLEVBQUFILElBQUF6ZSxNQUVBQSxFQUFBclQsR0FDQWl5QixFQUFBRCxFQUFBQyxFQUFBSCxFQUFBemUsS0FBQXllLEdBRUEsT0FBQUcsRUFlQSxTQUFBZ0IsR0FBQW5CLEVBQUFFLEVBQUFDLEVBQUFlLEdBQ0EsSUFBQWh6QixFQUFBLE1BQUE4eEIsRUFBQSxFQUFBQSxFQUFBOXhCLE9BSUEsSUFIQWd6QixHQUFBaHpCLElBQ0FpeUIsRUFBQUgsSUFBQTl4QixJQUVBQSxLQUNBaXlCLEVBQUFELEVBQUFDLEVBQUFILEVBQUE5eEIsS0FBQTh4QixHQUVBLE9BQUFHLEVBYUEsU0FBQWlCLEdBQUFwQixFQUFBTyxHQUlBLElBSEEsSUFBQWhmLEdBQUEsRUFDQXJULEVBQUEsTUFBQTh4QixFQUFBLEVBQUFBLEVBQUE5eEIsU0FFQXFULEVBQUFyVCxHQUNBLEdBQUFxeUIsRUFBQVAsRUFBQXplLEtBQUF5ZSxHQUNBLFNBR0EsU0FVQSxJQUFBcUIsR0FBQUMsR0FBQSxVQW1DQSxTQUFBQyxHQUFBQyxFQUFBakIsRUFBQWtCLEdBQ0EsSUFBQXhULEVBT0EsT0FOQXdULEVBQUFELEVBQUEsU0FBQXYxQixFQUFBTSxFQUFBaTFCLEdBQ0EsR0FBQWpCLEVBQUF0MEIsRUFBQU0sRUFBQWkxQixHQUVBLE9BREF2VCxFQUFBMWhCLEdBQ0EsSUFHQTBoQixFQWNBLFNBQUF5VCxHQUFBMUIsRUFBQU8sRUFBQW9CLEVBQUFDLEdBSUEsSUFIQSxJQUFBMXpCLEVBQUE4eEIsRUFBQTl4QixPQUNBcVQsRUFBQW9nQixHQUFBQyxFQUFBLE1BRUFBLEVBQUFyZ0IsUUFBQXJULEdBQ0EsR0FBQXF5QixFQUFBUCxFQUFBemUsS0FBQXllLEdBQ0EsT0FBQXplLEVBR0EsU0FZQSxTQUFBb2YsR0FBQVgsRUFBQS96QixFQUFBMDFCLEdBQ0EsT0FBQTExQixLQW9jQSxTQUFBK3pCLEVBQUEvekIsRUFBQTAxQixHQUNBLElBQUFwZ0IsRUFBQW9nQixFQUFBLEVBQ0F6ekIsRUFBQTh4QixFQUFBOXhCLE9BRUEsT0FBQXFULEVBQUFyVCxHQUNBLEdBQUE4eEIsRUFBQXplLEtBQUF0VixFQUNBLE9BQUFzVixFQUdBLFNBNWNBc2dCLENBQUE3QixFQUFBL3pCLEVBQUEwMUIsR0FDQUQsR0FBQTFCLEVBQUE4QixHQUFBSCxHQWFBLFNBQUFJLEdBQUEvQixFQUFBL3pCLEVBQUEwMUIsRUFBQWQsR0FJQSxJQUhBLElBQUF0ZixFQUFBb2dCLEVBQUEsRUFDQXp6QixFQUFBOHhCLEVBQUE5eEIsU0FFQXFULEVBQUFyVCxHQUNBLEdBQUEyeUIsRUFBQWIsRUFBQXplLEdBQUF0VixHQUNBLE9BQUFzVixFQUdBLFNBVUEsU0FBQXVnQixHQUFBNzFCLEdBQ0EsT0FBQUEsS0FZQSxTQUFBKzFCLEdBQUFoQyxFQUFBRSxHQUNBLElBQUFoeUIsRUFBQSxNQUFBOHhCLEVBQUEsRUFBQUEsRUFBQTl4QixPQUNBLE9BQUFBLEVBQUErekIsR0FBQWpDLEVBQUFFLEdBQUFoeUIsRUFBQWlwQixFQVVBLFNBQUFtSyxHQUFBLzBCLEdBQ0EsZ0JBQUFHLEdBQ0EsYUFBQUEsRUFBQStGLEVBQUEvRixFQUFBSCxJQVdBLFNBQUEyMUIsR0FBQXgxQixHQUNBLGdCQUFBSCxHQUNBLGFBQUFHLEVBQUErRixFQUFBL0YsRUFBQUgsSUFpQkEsU0FBQTQxQixHQUFBWCxFQUFBdEIsRUFBQUMsRUFBQWUsRUFBQU8sR0FNQSxPQUxBQSxFQUFBRCxFQUFBLFNBQUF2MUIsRUFBQXNWLEVBQUFpZ0IsR0FDQXJCLEVBQUFlLEdBQ0FBLEdBQUEsRUFBQWoxQixHQUNBaTBCLEVBQUFDLEVBQUFsMEIsRUFBQXNWLEVBQUFpZ0IsS0FFQXJCLEVBZ0NBLFNBQUE4QixHQUFBakMsRUFBQUUsR0FLQSxJQUpBLElBQUFqUyxFQUNBMU0sR0FBQSxFQUNBclQsRUFBQTh4QixFQUFBOXhCLFNBRUFxVCxFQUFBclQsR0FBQSxDQUNBLElBQUErakIsRUFBQWlPLEVBQUFGLEVBQUF6ZSxJQUNBMFEsSUFBQXhmLElBQ0F3YixNQUFBeGIsRUFBQXdmLEVBQUFoRSxFQUFBZ0UsR0FHQSxPQUFBaEUsRUFZQSxTQUFBbVUsR0FBQTMxQixFQUFBeXpCLEdBSUEsSUFIQSxJQUFBM2UsR0FBQSxFQUNBME0sRUFBQXRjLE1BQUFsRixLQUVBOFUsRUFBQTlVLEdBQ0F3aEIsRUFBQTFNLEdBQUEyZSxFQUFBM2UsR0FFQSxPQUFBME0sRUF5QkEsU0FBQW9VLEdBQUE1YSxHQUNBLGdCQUFBeGIsR0FDQSxPQUFBd2IsRUFBQXhiLElBY0EsU0FBQXEyQixHQUFBNTFCLEVBQUE2MUIsR0FDQSxPQUFBekIsR0FBQXlCLEVBQUEsU0FBQWgyQixHQUNBLE9BQUFHLEVBQUFILEtBWUEsU0FBQWkyQixHQUFBQyxFQUFBbDJCLEdBQ0EsT0FBQWsyQixFQUFBamUsSUFBQWpZLEdBWUEsU0FBQW0yQixHQUFBQyxFQUFBQyxHQUlBLElBSEEsSUFBQXJoQixHQUFBLEVBQ0FyVCxFQUFBeTBCLEVBQUF6MEIsU0FFQXFULEVBQUFyVCxHQUFBeXlCLEdBQUFpQyxFQUFBRCxFQUFBcGhCLEdBQUEsUUFDQSxPQUFBQSxFQVlBLFNBQUFzaEIsR0FBQUYsRUFBQUMsR0FHQSxJQUZBLElBQUFyaEIsRUFBQW9oQixFQUFBejBCLE9BRUFxVCxLQUFBb2YsR0FBQWlDLEVBQUFELEVBQUFwaEIsR0FBQSxRQUNBLE9BQUFBLEVBK0JBLElBQUF1aEIsR0FBQVosR0Fwd0JBLENBRUFhLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsS0FBQUMsSUFBQSxLQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUVBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxLQUFBQyxJQUFBLEtBQ0FDLElBQUEsS0FBQUMsSUFBQSxLQUNBQyxJQUFBLEtBQUFDLElBQUEsTUF1dEJBQyxHQUFBM00sR0FudEJBLENB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QUNuQ29ELEVBQUl4OUMsUUFDSnU5QyxFQUFzQitCLEVBQVlELEVBQWtCN0IsSUFJeERJLEVBQXlCdnVCLEVBQU9tdUIsRUFBSzZCLEdBQ3JDakIsRUFBNkJhLEVBQUs1dkIsRUFBT211QixFQUFLNkIsR0FHOUNMLEVBQU1FLEdBQUcsUUFBUyxTQUFDM3lELEdBR2ZnUCxFQUFFcFMsR0FBTTRXLEtBQUssc0JBQXNCQyxRQUNuQ3EvQyxFQUFtQixJQUFJMUMsRUFBQTU0QyxZQUFZeEksRUFBRXBTLEdBQU00VyxLQUFLLHlCQUMzQ2cvQyxFQUFTN3lELFlBQWM2eUQsRUFBUzd5RCxXQUFXckYsT0FBUyxJQUNyRDgxRCxFQUFBNzJDLGNBQWM3Z0IsT0FBTzg1RCxFQUFVTSxHQUFrQnQ0QyxVQUlyRHNvQixFQUFNMXNCLElBQUkyOEMsR0FHVjlCLEVBQUl4OUMsUUFDSnU5QyxFQUFzQitCLEVBQVlELEVBQWtCN0IsT0FFekQ5a0QsS0FBSyxZQUFZLEdBR3hCNkMsRUFBRWdrRCxVQUFVQyxNQUFNaEIsR0FHbEI1eUIsV0FBVzR5QixFQUFpQixLQUM1QjV5QixXQUFXNHlCLEVBQWlCLEtBQzVCNXlCLFdBQVc0eUIsRUFBaUIsS0FDNUI1eUIsV0FBVzR5QixFQUFpQiIsImZpbGUiOiJleGVyY2lzZXMuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiXHJcbmV4cG9ydCB0eXBlIE11dGFibGU8VD4gPSB7IC1yZWFkb25seSBbUCBpbiBrZXlvZiBUXTogVFtQXSB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFzTXV0YWJsZTxUPihvYmo6IFQpIDogTXV0YWJsZTxUPiB7XHJcbiAgICByZXR1cm4gPE11dGFibGU8VD4+b2JqO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbjogYW55LCBtZXNzYWdlID0gXCJcIikgOiBhc3NlcnRzIGNvbmRpdGlvbiB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbilcclxuICAgICAgICB0aHJvdyBFcnJvcihcIkFzc2VydCBmYWlsZWQ6IFwiICsgbWVzc2FnZSk7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVBcnJheTxUPihhcnI6IHJlYWRvbmx5IFRbXSkge1xyXG4gICAgcmV0dXJuIGFyci5zbGljZSgpO1xyXG59IFxyXG5cclxuXHJcbi8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvOTc5OTc1L2hvdy10by1nZXQtdGhlLXZhbHVlLWZyb20tdGhlLWdldC1wYXJhbWV0ZXJzXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRRdWVyeVN0cmluZygpIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgYW5vbnltb3VzLCBpcyBleGVjdXRlZCBpbW1lZGlhdGVseSBhbmRcclxuICAgIC8vIHRoZSByZXR1cm4gdmFsdWUgaXMgYXNzaWduZWQgdG8gUXVlcnlTdHJpbmchXHJcbiAgICB2YXIgcXVlcnlfc3RyaW5nOiB7W2luZGV4OnN0cmluZ106IGFueX0gPSB7fTtcclxuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xyXG4gICAgdmFyIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIik7XHJcbiAgICBmb3IgKHZhciBpPTA7aTx2YXJzLmxlbmd0aDtpKyspIHtcclxuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXHJcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xyXG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGFyciA9IFsgcXVlcnlfc3RyaW5nW3BhaXJbMF1dLGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSBdO1xyXG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBhcnI7XHJcbiAgICAgICAgICAgIC8vIElmIHRoaXJkIG9yIGxhdGVyIGVudHJ5IHdpdGggdGhpcyBuYW1lXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcXVlcnlfc3RyaW5nO1xyXG59XHJcbmV4cG9ydCBuYW1lc3BhY2UgTWF0bGFiTWF0aCB7XHJcblxyXG4gICAgLy8gdGhlIGluaXRpYWwgc2VlZFxyXG4gICAgbGV0IHNlZWQgPSAwO1xyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXRSYW5kb21TZWVkKG5ld1NlZWQ6IG51bWJlcikge1xyXG4gICAgICAgIHNlZWQgPSBuZXdTZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiByYW5kb20obWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEpIHtcclxuICAgICAgICBzZWVkID0gKHNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xyXG4gICAgICAgIHJldHVybiBzZWVkZWRSYW5kb20oc2VlZCwgbWluLCBtYXgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcmFuZG9tXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50ZWdlcihtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTsgLy9UaGUgbWF4aW11bSBpcyBleGNsdXNpdmUgYW5kIHRoZSBtaW5pbXVtIGlzIGluY2x1c2l2ZVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcmFuZG9tXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50ZWdlckluY2x1c2l2ZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcclxuICAgICAgICBtaW4gPSBNYXRoLmNlaWwobWluKTtcclxuICAgICAgICBtYXggPSBNYXRoLmZsb29yKG1heCk7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2VlZGVkUmFuZG9tKHNlZWQ6IG51bWJlciwgbWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEpIHtcclxuICAgICAgICB2YXIgcm5kID0gc2VlZCAlIDIzMzI4MCAvIDIzMzI4MDtcclxuICAgIFxyXG4gICAgICAgIHJuZCA9IG1pbiArIHJuZCAqIChtYXggLSBtaW4pO1xyXG4gICAgICAgIHJuZCA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCBybmQpKTtcclxuICAgICAgICByZXR1cm4gcm5kO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiByYW5nZShzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgc3RlcDogbnVtYmVyID0gMSkge1xyXG4gICAgICAgIGxldCBhcnIgPSBbXTtcclxuICAgICAgICB3aGlsZShzdGFydCA8PSBlbmQpIHtcclxuICAgICAgICAgICAgYXJyLnB1c2goc3RhcnQpO1xyXG4gICAgICAgICAgICBzdGFydCArPSBzdGVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIENvbG9yIHtcclxuXHJcbiAgICBleHBvcnQgY29uc3QgV0hJVEUgPSBcIiNGRkZGRkZcIjtcclxuICAgIGV4cG9ydCBjb25zdCBMSUdIVF9MRVRURVJTID0gXCJBQkNERUZcIjtcclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdG9Db2xvcihvYmo6IHt0b1N0cmluZygpOiBzdHJpbmd9LCBsZXR0ZXJzOiBzdHJpbmcgPSBcIjEyMzQ1Njc4OUFCQ0RFRlwiKSB7XHJcblxyXG4gICAgICAgIC8vIEdlbmVyYXRlIGEgaGFzaCBmb3IgdGhlIG9iamVjdC4gRmlyc3QgdG9TdHJpbmcsIHRoZW4gaGFzaCB0aGUgc3RyaW5nLlxyXG4gICAgICAgIC8vIFN0cmluZyBoYXNoIGJhc2VkIG9uIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc2MTY0NjEvZ2VuZXJhdGUtYS1oYXNoLWZyb20tc3RyaW5nLWluLWphdmFzY3JpcHRcclxuICAgICAgICB2YXIgc3RyID0gb2JqLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGhhc2ggPSAwOyBpIDwgc3RyLmxlbmd0aDsgaGFzaCA9IHN0ci5jaGFyQ29kZUF0KGkrKykgKyAoKGhhc2ggPDwgNSkgLSBoYXNoKSk7XHJcbiAgICBcclxuICAgICAgICAvLyB1c2UgaGFzaCBhcyBzZWVkIGZvciBSTkdcclxuICAgICAgICByZXR1cm4gc2VlZGVkUmFuZG9tQ29sb3IoTWF0aC5hYnMoaGFzaCksIGxldHRlcnMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBzZWVkZWRSYW5kb21Db2xvcihzZWVkOiBudW1iZXIsIGxldHRlcnM6IHN0cmluZyA9IFwiMTIzNDU2Nzg5QUJDREVGXCIpIHtcclxuICAgIFxyXG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ4NDUwNi9yYW5kb20tY29sb3ItZ2VuZXJhdG9yLWluLWphdmFzY3JpcHRcclxuICAgICAgICBsZXR0ZXJzID0gbGV0dGVycyB8fCBcIjAxMjM0NTY3ODlBQkNERUZcIjtcclxuICAgICAgICB2YXIgY29sb3IgPSAnIyc7XHJcbiAgICAgICAgTWF0bGFiTWF0aC5zZXRSYW5kb21TZWVkKHNlZWQpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrICkge1xyXG4gICAgICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0bGFiTWF0aC5yYW5kb20oKSAqIGxldHRlcnMubGVuZ3RoKV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUNvbG9yKGxldHRlcnM6IHN0cmluZyA9IFwiMTIzNDU2Nzg5QUJDREVGXCIpIHtcclxuICAgIFxyXG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ4NDUwNi9yYW5kb20tY29sb3ItZ2VuZXJhdG9yLWluLWphdmFzY3JpcHRcclxuICAgICAgICBsZXR0ZXJzID0gbGV0dGVycyB8fCBcIjAxMjM0NTY3ODlBQkNERUZcIjtcclxuICAgICAgICB2YXIgY29sb3IgPSAnIyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKysgKSB7XHJcbiAgICAgICAgICAgIGNvbG9yICs9IGxldHRlcnNbTWF0aC5mbG9vcihNYXRsYWJNYXRoLnJhbmRvbSgpICogbGV0dGVycy5sZW5ndGgpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgfVxyXG59IiwiLy8gdHNsaW50OmRpc2FibGU6b25seS1hcnJvdy1mdW5jdGlvbnNcbi8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNob3J0aGFuZFxuLy8gdHNsaW50OmRpc2FibGU6dHJhaWxpbmctY29tbWFcbi8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuLy8gdHNsaW50OmRpc2FibGU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuLy8gdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoXG4vLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zZWN1dGl2ZS1ibGFuay1saW5lc1xuLy8gdHNsaW50OmRpc2FibGU6YWxpZ25cblxuXG4vLyBHZW5lcmF0ZWQgYnkgUEVHLmpzIHYuIDAuMTAuMCAodHMtcGVnanMgcGx1Z2luIHYuIDAuMi41IClcbi8vXG4vLyBodHRwczovL3BlZ2pzLm9yZy8gICBodHRwczovL2dpdGh1Yi5jb20vbWV0YWRldnByby90cy1wZWdqc1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZVBvc2l0aW9uIHtcbiAgb2Zmc2V0OiBudW1iZXI7XG4gIGxpbmU6IG51bWJlcjtcbiAgY29sdW1uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZpbGVSYW5nZSB7XG4gIHN0YXJ0OiBJRmlsZVBvc2l0aW9uO1xuICBlbmQ6IElGaWxlUG9zaXRpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUxpdGVyYWxFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwibGl0ZXJhbFwiO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGlnbm9yZUNhc2U6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNsYXNzUGFydHMgZXh0ZW5kcyBBcnJheTxzdHJpbmcgfCBJQ2xhc3NQYXJ0cz4ge31cblxuZXhwb3J0IGludGVyZmFjZSBJQ2xhc3NFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwiY2xhc3NcIjtcbiAgcGFydHM6IElDbGFzc1BhcnRzO1xuICBpbnZlcnRlZDogYm9vbGVhbjtcbiAgaWdub3JlQ2FzZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQW55RXhwZWN0YXRpb24ge1xuICB0eXBlOiBcImFueVwiO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbmRFeHBlY3RhdGlvbiB7XG4gIHR5cGU6IFwiZW5kXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU90aGVyRXhwZWN0YXRpb24ge1xuICB0eXBlOiBcIm90aGVyXCI7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIEV4cGVjdGF0aW9uID0gSUxpdGVyYWxFeHBlY3RhdGlvbiB8IElDbGFzc0V4cGVjdGF0aW9uIHwgSUFueUV4cGVjdGF0aW9uIHwgSUVuZEV4cGVjdGF0aW9uIHwgSU90aGVyRXhwZWN0YXRpb247XG5cbmV4cG9ydCBjbGFzcyBTeW50YXhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcHVibGljIHN0YXRpYyBidWlsZE1lc3NhZ2UoZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgZnVuY3Rpb24gaGV4KGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGl0ZXJhbEVzY2FwZShzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHNcbiAgICAgICAgLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKVxuICAgICAgICAucmVwbGFjZSgvXCIvZywgIFwiXFxcXFxcXCJcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsYXNzRXNjYXBlKHM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gc1xuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXF0vZywgXCJcXFxcXVwiKVxuICAgICAgICAucmVwbGFjZSgvXFxeL2csIFwiXFxcXF5cIilcbiAgICAgICAgLnJlcGxhY2UoLy0vZywgIFwiXFxcXC1cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcMC9nLCBcIlxcXFwwXCIpXG4gICAgICAgIC5yZXBsYWNlKC9cXHQvZywgXCJcXFxcdFwiKVxuICAgICAgICAucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MDAtXFx4MEZdL2csICAgICAgICAgICAgKGNoKSA9PiBcIlxcXFx4MFwiICsgaGV4KGNoKSApXG4gICAgICAgIC5yZXBsYWNlKC9bXFx4MTAtXFx4MUZcXHg3Ri1cXHg5Rl0vZywgKGNoKSA9PiBcIlxcXFx4XCIgICsgaGV4KGNoKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwZWN0YXRpb24oZXhwZWN0YXRpb246IEV4cGVjdGF0aW9uKSB7XG4gICAgICBzd2l0Y2ggKGV4cGVjdGF0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImxpdGVyYWxcIjpcbiAgICAgICAgICByZXR1cm4gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGV4cGVjdGF0aW9uLnRleHQpICsgXCJcXFwiXCI7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIGNvbnN0IGVzY2FwZWRQYXJ0cyA9IGV4cGVjdGF0aW9uLnBhcnRzLm1hcCgocGFydCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGFydClcbiAgICAgICAgICAgICAgPyBjbGFzc0VzY2FwZShwYXJ0WzBdIGFzIHN0cmluZykgKyBcIi1cIiArIGNsYXNzRXNjYXBlKHBhcnRbMV0gYXMgc3RyaW5nKVxuICAgICAgICAgICAgICA6IGNsYXNzRXNjYXBlKHBhcnQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFwiW1wiICsgKGV4cGVjdGF0aW9uLmludmVydGVkID8gXCJeXCIgOiBcIlwiKSArIGVzY2FwZWRQYXJ0cyArIFwiXVwiO1xuICAgICAgICBjYXNlIFwiYW55XCI6XG4gICAgICAgICAgcmV0dXJuIFwiYW55IGNoYXJhY3RlclwiO1xuICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIFwiZW5kIG9mIGlucHV0XCI7XG4gICAgICAgIGNhc2UgXCJvdGhlclwiOlxuICAgICAgICAgIHJldHVybiBleHBlY3RhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkMTogRXhwZWN0YXRpb25bXSkge1xuICAgICAgY29uc3QgZGVzY3JpcHRpb25zID0gZXhwZWN0ZWQxLm1hcChkZXNjcmliZUV4cGVjdGF0aW9uKTtcbiAgICAgIGxldCBpO1xuICAgICAgbGV0IGo7XG5cbiAgICAgIGRlc2NyaXB0aW9ucy5zb3J0KCk7XG5cbiAgICAgIGlmIChkZXNjcmlwdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgPSAxLCBqID0gMTsgaSA8IGRlc2NyaXB0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChkZXNjcmlwdGlvbnNbaSAtIDFdICE9PSBkZXNjcmlwdGlvbnNbaV0pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uc1tqXSA9IGRlc2NyaXB0aW9uc1tpXTtcbiAgICAgICAgICAgIGorKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVzY3JpcHRpb25zLmxlbmd0aCA9IGo7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb25zLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXTtcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uc1swXSArIFwiIG9yIFwiICsgZGVzY3JpcHRpb25zWzFdO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9ucy5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpXG4gICAgICAgICAgICArIFwiLCBvciBcIlxuICAgICAgICAgICAgKyBkZXNjcmlwdGlvbnNbZGVzY3JpcHRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRm91bmQoZm91bmQxOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICByZXR1cm4gZm91bmQxID8gXCJcXFwiXCIgKyBsaXRlcmFsRXNjYXBlKGZvdW5kMSkgKyBcIlxcXCJcIiA6IFwiZW5kIG9mIGlucHV0XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiRXhwZWN0ZWQgXCIgKyBkZXNjcmliZUV4cGVjdGVkKGV4cGVjdGVkKSArIFwiIGJ1dCBcIiArIGRlc2NyaWJlRm91bmQoZm91bmQpICsgXCIgZm91bmQuXCI7XG4gIH1cblxuICBwdWJsaWMgbWVzc2FnZTogc3RyaW5nO1xuICBwdWJsaWMgZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW107XG4gIHB1YmxpYyBmb3VuZDogc3RyaW5nIHwgbnVsbDtcbiAgcHVibGljIGxvY2F0aW9uOiBJRmlsZVJhbmdlO1xuICBwdWJsaWMgbmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2U6IHN0cmluZywgZXhwZWN0ZWQ6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsLCBsb2NhdGlvbjogSUZpbGVSYW5nZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7XG4gICAgdGhpcy5mb3VuZCA9IGZvdW5kO1xuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB0aGlzLm5hbWUgPSBcIlN5bnRheEVycm9yXCI7XG5cbiAgICBpZiAodHlwZW9mIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIChFcnJvciBhcyBhbnkpLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFN5bnRheEVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGVnJHBhcnNlKGlucHV0OiBzdHJpbmcsIG9wdGlvbnM/OiBJUGFyc2VPcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zIDoge307XG5cbiAgY29uc3QgcGVnJEZBSUxFRDogYW55ID0ge307XG5cbiAgY29uc3QgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uczoge1tpZDogc3RyaW5nXTogYW55fSA9IHsgc3RhcnQ6IHBlZyRwYXJzZXN0YXJ0IH07XG4gIGxldCBwZWckc3RhcnRSdWxlRnVuY3Rpb246ICgpID0+IGFueSA9IHBlZyRwYXJzZXN0YXJ0O1xuXG4gIGNvbnN0IHBlZyRjMCA9IFwiO1wiO1xuICBjb25zdCBwZWckYzEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiO1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMiA9IC9eW1xcblxccl0vO1xuICBjb25zdCBwZWckYzMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbXCJcXG5cIiwgXCJcXHJcIl0sIGZhbHNlLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNCA9IGZ1bmN0aW9uKHM6IGFueSk6IGFueSB7cmV0dXJuIHM7fTtcbiAgY29uc3QgcGVnJGM1ID0gZnVuY3Rpb24oc3RhdGVtZW50czogYW55KTogYW55IHtcclxuICAgICAgaWYgKHN0YXRlbWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlbWVudHNbMF07XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHdoYXQ6IFwic3RhdGVtZW50X2dyb3VwXCIsXHJcbiAgICAgICAgICBzdGF0ZW1lbnRzOiBzdGF0ZW1lbnRzXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM2ID0gXCI9XCI7XG4gIGNvbnN0IHBlZyRjNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI9XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM4ID0gZnVuY3Rpb24oaTogYW55LCBlOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdoYXQ6IFwiaW5kZXhlZF9hc3NpZ25tZW50XCIsXHJcbiAgICAgICAgbGhzOiBpLFxyXG4gICAgICAgIHJoczogZVxyXG4gICAgICB9O1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM5ID0gZnVuY3Rpb24oaTogYW55LCBlOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdoYXQ6IFwiYXNzaWdubWVudFwiLFxyXG4gICAgICAgIGlkZW50aWZpZXI6IGksXHJcbiAgICAgICAgZXhwOiBlXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzEwID0gXCJbXCI7XG4gIGNvbnN0IHBlZyRjMTEgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiW1wiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTIgPSAvXltcXHJcXG5dLztcbiAgY29uc3QgcGVnJGMxMyA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIlxcclwiLCBcIlxcblwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMxNCA9IGZ1bmN0aW9uKGhlYWQ6IGFueSwgcjogYW55KTogYW55IHtyZXR1cm4gcjt9O1xuICBjb25zdCBwZWckYzE1ID0gXCJdXCI7XG4gIGNvbnN0IHBlZyRjMTYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMTcgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIGlmICh0YWlsLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gaGVhZDt9XHJcbiAgICAgIHRhaWwudW5zaGlmdChoZWFkKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcIm1hdHJpeF9leHBcIixcclxuICAgICAgICByb3dzOiB0YWlsXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzE4ID0gXCIsXCI7XG4gIGNvbnN0IHBlZyRjMTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMjAgPSBmdW5jdGlvbihoZWFkOiBhbnksIGk6IGFueSk6IGFueSB7cmV0dXJuIGk7fTtcbiAgY29uc3QgcGVnJGMyMSA9IGZ1bmN0aW9uKGhlYWQ6IGFueSwgdGFpbDogYW55KTogYW55IHtcclxuICAgICAgaWYgKHRhaWwubGVuZ3RoID09PSAwKSB7IHJldHVybiBoZWFkO31cclxuICAgICAgdGFpbC51bnNoaWZ0KGhlYWQpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdoYXQ6IFwicm93X2V4cFwiLFxyXG4gICAgICAgIGNvbHM6IHRhaWxcclxuICAgICAgfTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMjIgPSBcIjpcIjtcbiAgY29uc3QgcGVnJGMyMyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI6XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyNCA9IGZ1bmN0aW9uKGUxOiBhbnksIGUyOiBhbnksIHM6IGFueSk6IGFueSB7cmV0dXJuIHM7fTtcbiAgY29uc3QgcGVnJGMyNSA9IGZ1bmN0aW9uKGUxOiBhbnksIGUyOiBhbnksIGUzOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHdoYXQ6IFwicmFuZ2VfZXhwXCIsXHJcbiAgICAgICAgc3RhcnQ6IGUxLFxyXG4gICAgICAgIGVuZDogZTMgfHwgZTIsXHJcbiAgICAgICAgc3RlcDogKGUzICYmIGUyKSB8fCB1bmRlZmluZWRcclxuICAgICAgfTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjMjYgPSBcInxcIjtcbiAgY29uc3QgcGVnJGMyNyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ8XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMyOCA9IGZ1bmN0aW9uKGhlYWQ6IGFueSwgb3A6IGFueSwgZTogYW55KTogYW55IHtyZXR1cm4gW29wLGVdO307XG4gIGNvbnN0IHBlZyRjMjkgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiBjb21wb3NlQmluYXJ5T3AoaGVhZCwgdGFpbCwgXCJsZWZ0XCIsIFwib3JfZXhwXCIpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMzMCA9IFwiJlwiO1xuICBjb25zdCBwZWckYzMxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIiZcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzMyID0gZnVuY3Rpb24oaGVhZDogYW55LCB0YWlsOiBhbnkpOiBhbnkge1xyXG4gICAgICByZXR1cm4gY29tcG9zZUJpbmFyeU9wKGhlYWQsIHRhaWwsIFwibGVmdFwiLCBcImFuZF9leHBcIik7XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzMzID0gXCI9PVwiO1xuICBjb25zdCBwZWckYzM0ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIj09XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGMzNSA9IFwifj1cIjtcbiAgY29uc3QgcGVnJGMzNiA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJ+PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjMzcgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiBjb21wb3NlQmluYXJ5T3AoaGVhZCwgdGFpbCwgXCJsZWZ0XCIsIFwiZXFfZXhwXCIpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGMzOCA9IFwiPD1cIjtcbiAgY29uc3QgcGVnJGMzOSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI8PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDAgPSBcIjxcIjtcbiAgY29uc3QgcGVnJGM0MSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI8XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0MiA9IFwiPj1cIjtcbiAgY29uc3QgcGVnJGM0MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI+PVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNDQgPSBcIj5cIjtcbiAgY29uc3QgcGVnJGM0NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCI+XCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM0NiA9IGZ1bmN0aW9uKGhlYWQ6IGFueSwgdGFpbDogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIGNvbXBvc2VCaW5hcnlPcChoZWFkLCB0YWlsLCBcImxlZnRcIiwgXCJyZWxfZXhwXCIpO1xyXG4gICAgfTtcbiAgY29uc3QgcGVnJGM0NyA9IFwiK1wiO1xuICBjb25zdCBwZWckYzQ4ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIitcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzQ5ID0gXCItXCI7XG4gIGNvbnN0IHBlZyRjNTAgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLVwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTEgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiBjb21wb3NlQmluYXJ5T3AoaGVhZCwgdGFpbCwgXCJsZWZ0XCIsIFwiYWRkX2V4cFwiKTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjNTIgPSBcIipcIjtcbiAgY29uc3QgcGVnJGM1MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIqXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM1NCA9IFwiL1wiO1xuICBjb25zdCBwZWckYzU1ID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi9cIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzU2ID0gXCJeXCI7XG4gIGNvbnN0IHBlZyRjNTcgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiXlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNTggPSBcIi4qXCI7XG4gIGNvbnN0IHBlZyRjNTkgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiLipcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzYwID0gXCIuL1wiO1xuICBjb25zdCBwZWckYzYxID0gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbihcIi4vXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM2MiA9IFwiLl5cIjtcbiAgY29uc3QgcGVnJGM2MyA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIuXlwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNjQgPSBmdW5jdGlvbihoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiBjb21wb3NlQmluYXJ5T3AoaGVhZCwgdGFpbCwgXCJsZWZ0XCIsIFwibXVsdF9leHBcIik7XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzY1ID0gXCJ+XCI7XG4gIGNvbnN0IHBlZyRjNjYgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiflwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNjcgPSBmdW5jdGlvbihvcDogYW55LCBzdWI6IGFueSk6IGFueSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgd2hhdDogXCJ1bmFyeV9leHBcIixcclxuICAgICAgICBzdWI6IHN1YixcclxuICAgICAgICBvcDogb3BcclxuICAgICAgfTtcclxuICAgIH07XG4gIGNvbnN0IHBlZyRjNjggPSBcIidcIjtcbiAgY29uc3QgcGVnJGM2OSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCInXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM3MCA9IGZ1bmN0aW9uKHN1YjogYW55LCB0cmFuczogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcInRyYW5zcG9zZV9leHBcIixcclxuICAgICAgICBzdWI6c3ViLFxyXG4gICAgICAgIHRyYW5zcG9zZXM6IHRyYW5zXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzcxID0gXCIoXCI7XG4gIGNvbnN0IHBlZyRjNzIgPSBwZWckbGl0ZXJhbEV4cGVjdGF0aW9uKFwiKFwiLCBmYWxzZSk7XG4gIGNvbnN0IHBlZyRjNzMgPSBmdW5jdGlvbih0YXJnZXQ6IGFueSwgaGVhZDogYW55LCBhOiBhbnkpOiBhbnkge3JldHVybiBhO307XG4gIGNvbnN0IHBlZyRjNzQgPSBcIilcIjtcbiAgY29uc3QgcGVnJGM3NSA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCIpXCIsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM3NiA9IGZ1bmN0aW9uKHRhcmdldDogYW55LCBoZWFkOiBhbnksIHRhaWw6IGFueSk6IGFueSB7XHJcbiAgICAgIHRhaWwudW5zaGlmdChoZWFkKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcImNhbGxfZXhwXCIsXHJcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQuaWRlbnRpZmllcixcclxuICAgICAgICBhcmdzOiB0YWlsXHJcbiAgICAgIH07XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzc3ID0gXCJlbmRcIjtcbiAgY29uc3QgcGVnJGM3OCA9IHBlZyRsaXRlcmFsRXhwZWN0YXRpb24oXCJlbmRcIiwgZmFsc2UpO1xuICBjb25zdCBwZWckYzc5ID0gZnVuY3Rpb24oKTogYW55IHsgcmV0dXJuIHt3aGF0OiBcImVuZF9leHBcIn07IH07XG4gIGNvbnN0IHBlZyRjODAgPSBmdW5jdGlvbihlOiBhbnkpOiBhbnkgeyByZXR1cm4gZTsgfTtcbiAgY29uc3QgcGVnJGM4MSA9IGZ1bmN0aW9uKCk6IGFueSB7IHJldHVybiB7d2hhdDogXCJjb2xvbl9leHBcIn07IH07XG4gIGNvbnN0IHBlZyRjODIgPSAvXlswLTkuXS87XG4gIGNvbnN0IHBlZyRjODMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl0sIFwiLlwiXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM4NCA9IGZ1bmN0aW9uKG5lZzogYW55LCBkaWdpdHM6IGFueSk6IGFueSB7cmV0dXJuIGRpZ2l0cy5pbmRleE9mKFwiLlwiKSA9PSBkaWdpdHMubGFzdEluZGV4T2YoXCIuXCIpICYmIGRpZ2l0cy5pbmRleE9mKFwiLlwiKSAhPSAtMTt9O1xuICBjb25zdCBwZWckYzg1ID0gZnVuY3Rpb24obmVnOiBhbnksIGRpZ2l0czogYW55KTogYW55IHtcclxuICAgICByZXR1cm4ge1xyXG4gICAgICAgd2hhdDogXCJmbG9hdFwiLFxyXG4gICAgICAgdmFsdWU6IHBhcnNlRmxvYXQoKG5lZyA/IG5lZyA6IFwiXCIpICsgZGlnaXRzLmpvaW4oXCJcIikpXHJcbiAgICAgfVxyXG4gICB9O1xuICBjb25zdCBwZWckYzg2ID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJpbnRlZ2VyXCIpO1xuICBjb25zdCBwZWckYzg3ID0gL15bMC05XS87XG4gIGNvbnN0IHBlZyRjODggPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiMFwiLCBcIjlcIl1dLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzg5ID0gZnVuY3Rpb24obmVnOiBhbnksIGRpZ2l0czogYW55KTogYW55IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB3aGF0OiBcImludGVnZXJcIixcclxuICAgICAgICB2YWx1ZTogcGFyc2VJbnQoKG5lZyA/IG5lZyA6IFwiXCIpICsgZGlnaXRzLmpvaW4oXCJcIiksIDEwKVxyXG4gICAgICB9XHJcbiAgICB9O1xuICBjb25zdCBwZWckYzkwID0gcGVnJG90aGVyRXhwZWN0YXRpb24oXCJpZGVudGlmaWVyXCIpO1xuICBjb25zdCBwZWckYzkxID0gZnVuY3Rpb24oZmlyc3Q6IGFueSwgcmVzdDogYW55KTogYW55IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgd2hhdDogXCJpZGVudGlmaWVyXCIsXHJcbiAgICAgICAgICBpZGVudGlmaWVyOiBmaXJzdCArIHJlc3Quam9pbihcIlwiKVxyXG4gICAgICAgIH07XHJcbiAgICAgIH07XG4gIGNvbnN0IHBlZyRjOTIgPSAvXlthLXpBLVowLTlfXS87XG4gIGNvbnN0IHBlZyRjOTMgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdLCBbXCIwXCIsIFwiOVwiXSwgXCJfXCJdLCBmYWxzZSwgZmFsc2UpO1xuICBjb25zdCBwZWckYzk0ID0gL15bYS16QS1aXS87XG4gIGNvbnN0IHBlZyRjOTUgPSBwZWckY2xhc3NFeHBlY3RhdGlvbihbW1wiYVwiLCBcInpcIl0sIFtcIkFcIiwgXCJaXCJdXSwgZmFsc2UsIGZhbHNlKTtcbiAgY29uc3QgcGVnJGM5NiA9IHBlZyRvdGhlckV4cGVjdGF0aW9uKFwid2hpdGVzcGFjZVwiKTtcbiAgY29uc3QgcGVnJGM5NyA9IC9eWyBcXHRdLztcbiAgY29uc3QgcGVnJGM5OCA9IHBlZyRjbGFzc0V4cGVjdGF0aW9uKFtcIiBcIiwgXCJcXHRcIl0sIGZhbHNlLCBmYWxzZSk7XG5cbiAgbGV0IHBlZyRjdXJyUG9zID0gMDtcbiAgbGV0IHBlZyRzYXZlZFBvcyA9IDA7XG4gIGNvbnN0IHBlZyRwb3NEZXRhaWxzQ2FjaGUgPSBbeyBsaW5lOiAxLCBjb2x1bW46IDEgfV07XG4gIGxldCBwZWckbWF4RmFpbFBvcyA9IDA7XG4gIGxldCBwZWckbWF4RmFpbEV4cGVjdGVkOiBhbnlbXSA9IFtdO1xuICBsZXQgcGVnJHNpbGVudEZhaWxzID0gMDtcblxuICBsZXQgcGVnJHJlc3VsdDtcblxuICBpZiAob3B0aW9ucy5zdGFydFJ1bGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICghKG9wdGlvbnMuc3RhcnRSdWxlIGluIHBlZyRzdGFydFJ1bGVGdW5jdGlvbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBzdGFydCBwYXJzaW5nIGZyb20gcnVsZSBcXFwiXCIgKyBvcHRpb25zLnN0YXJ0UnVsZSArIFwiXFxcIi5cIik7XG4gICAgfVxuXG4gICAgcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uc1tvcHRpb25zLnN0YXJ0UnVsZV07XG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGlucHV0LnN1YnN0cmluZyhwZWckc2F2ZWRQb3MsIHBlZyRjdXJyUG9zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2F0aW9uKCk6IElGaWxlUmFuZ2Uge1xuICAgIHJldHVybiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwZWN0ZWQoZGVzY3JpcHRpb246IHN0cmluZywgbG9jYXRpb24xPzogSUZpbGVSYW5nZSkge1xuICAgIGxvY2F0aW9uMSA9IGxvY2F0aW9uMSAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGxvY2F0aW9uMVxuICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRzYXZlZFBvcywgcGVnJGN1cnJQb3MpO1xuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgW3BlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uKV0sXG4gICAgICBpbnB1dC5zdWJzdHJpbmcocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyksXG4gICAgICBsb2NhdGlvbjFcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZTogc3RyaW5nLCBsb2NhdGlvbjE/OiBJRmlsZVJhbmdlKSB7XG4gICAgbG9jYXRpb24xID0gbG9jYXRpb24xICE9PSB1bmRlZmluZWRcbiAgICAgID8gbG9jYXRpb24xXG4gICAgICA6IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJHNhdmVkUG9zLCBwZWckY3VyclBvcyk7XG5cbiAgICB0aHJvdyBwZWckYnVpbGRTaW1wbGVFcnJvcihtZXNzYWdlLCBsb2NhdGlvbjEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGxpdGVyYWxFeHBlY3RhdGlvbih0ZXh0MTogc3RyaW5nLCBpZ25vcmVDYXNlOiBib29sZWFuKTogSUxpdGVyYWxFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJsaXRlcmFsXCIsIHRleHQ6IHRleHQxLCBpZ25vcmVDYXNlOiBpZ25vcmVDYXNlIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckY2xhc3NFeHBlY3RhdGlvbihwYXJ0czogSUNsYXNzUGFydHMsIGludmVydGVkOiBib29sZWFuLCBpZ25vcmVDYXNlOiBib29sZWFuKTogSUNsYXNzRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiY2xhc3NcIiwgcGFydHM6IHBhcnRzLCBpbnZlcnRlZDogaW52ZXJ0ZWQsIGlnbm9yZUNhc2U6IGlnbm9yZUNhc2UgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRhbnlFeHBlY3RhdGlvbigpOiBJQW55RXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiYW55XCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRlbmRFeHBlY3RhdGlvbigpOiBJRW5kRXhwZWN0YXRpb24ge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZW5kXCIgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRvdGhlckV4cGVjdGF0aW9uKGRlc2NyaXB0aW9uOiBzdHJpbmcpOiBJT3RoZXJFeHBlY3RhdGlvbiB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJvdGhlclwiLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRjb21wdXRlUG9zRGV0YWlscyhwb3M6IG51bWJlcikge1xuICAgIGxldCBkZXRhaWxzID0gcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdO1xuICAgIGxldCBwO1xuXG4gICAgaWYgKGRldGFpbHMpIHtcbiAgICAgIHJldHVybiBkZXRhaWxzO1xuICAgIH0gZWxzZSB7XG4gICAgICBwID0gcG9zIC0gMTtcbiAgICAgIHdoaWxlICghcGVnJHBvc0RldGFpbHNDYWNoZVtwXSkge1xuICAgICAgICBwLS07XG4gICAgICB9XG5cbiAgICAgIGRldGFpbHMgPSBwZWckcG9zRGV0YWlsc0NhY2hlW3BdO1xuICAgICAgZGV0YWlscyA9IHtcbiAgICAgICAgbGluZTogZGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IGRldGFpbHMuY29sdW1uXG4gICAgICB9O1xuXG4gICAgICB3aGlsZSAocCA8IHBvcykge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwKSA9PT0gMTApIHtcbiAgICAgICAgICBkZXRhaWxzLmxpbmUrKztcbiAgICAgICAgICBkZXRhaWxzLmNvbHVtbiA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGV0YWlscy5jb2x1bW4rKztcbiAgICAgICAgfVxuXG4gICAgICAgIHArKztcbiAgICAgIH1cblxuICAgICAgcGVnJHBvc0RldGFpbHNDYWNoZVtwb3NdID0gZGV0YWlscztcblxuICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGVnJGNvbXB1dGVMb2NhdGlvbihzdGFydFBvczogbnVtYmVyLCBlbmRQb3M6IG51bWJlcik6IElGaWxlUmFuZ2Uge1xuICAgIGNvbnN0IHN0YXJ0UG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhzdGFydFBvcyk7XG4gICAgY29uc3QgZW5kUG9zRGV0YWlscyA9IHBlZyRjb21wdXRlUG9zRGV0YWlscyhlbmRQb3MpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXJ0OiB7XG4gICAgICAgIG9mZnNldDogc3RhcnRQb3MsXG4gICAgICAgIGxpbmU6IHN0YXJ0UG9zRGV0YWlscy5saW5lLFxuICAgICAgICBjb2x1bW46IHN0YXJ0UG9zRGV0YWlscy5jb2x1bW5cbiAgICAgIH0sXG4gICAgICBlbmQ6IHtcbiAgICAgICAgb2Zmc2V0OiBlbmRQb3MsXG4gICAgICAgIGxpbmU6IGVuZFBvc0RldGFpbHMubGluZSxcbiAgICAgICAgY29sdW1uOiBlbmRQb3NEZXRhaWxzLmNvbHVtblxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwZWckZmFpbChleHBlY3RlZDE6IEV4cGVjdGF0aW9uKSB7XG4gICAgaWYgKHBlZyRjdXJyUG9zIDwgcGVnJG1heEZhaWxQb3MpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAocGVnJGN1cnJQb3MgPiBwZWckbWF4RmFpbFBvcykge1xuICAgICAgcGVnJG1heEZhaWxQb3MgPSBwZWckY3VyclBvcztcbiAgICAgIHBlZyRtYXhGYWlsRXhwZWN0ZWQgPSBbXTtcbiAgICB9XG5cbiAgICBwZWckbWF4RmFpbEV4cGVjdGVkLnB1c2goZXhwZWN0ZWQxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFNpbXBsZUVycm9yKG1lc3NhZ2U6IHN0cmluZywgbG9jYXRpb24xOiBJRmlsZVJhbmdlKSB7XG4gICAgcmV0dXJuIG5ldyBTeW50YXhFcnJvcihtZXNzYWdlLCBbXSwgXCJcIiwgbG9jYXRpb24xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRidWlsZFN0cnVjdHVyZWRFcnJvcihleHBlY3RlZDE6IEV4cGVjdGF0aW9uW10sIGZvdW5kOiBzdHJpbmcgfCBudWxsLCBsb2NhdGlvbjE6IElGaWxlUmFuZ2UpIHtcbiAgICByZXR1cm4gbmV3IFN5bnRheEVycm9yKFxuICAgICAgU3ludGF4RXJyb3IuYnVpbGRNZXNzYWdlKGV4cGVjdGVkMSwgZm91bmQpLFxuICAgICAgZXhwZWN0ZWQxLFxuICAgICAgZm91bmQsXG4gICAgICBsb2NhdGlvbjFcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlc3RhcnQoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZVN0YXRlbWVudEdyb3VwKCk7XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VTdGF0ZW1lbnRHcm91cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNjtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VfKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNlU3RhdGVtZW50KCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczUgPSBbXTtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OSkge1xuICAgICAgICAgIHM2ID0gcGVnJGMwO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChwZWckYzIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczYgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNiA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfXygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNS5wdXNoKHM2KTtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRjMDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChwZWckYzIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlX18oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgczQgPSBwZWckYzQoczQpO1xuICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VTdGF0ZW1lbnQoKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBbXTtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRjMDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIGlmIChwZWckYzIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICBzNiA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlX18oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNS5wdXNoKHM2KTtcbiAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgczYgPSBwZWckYzA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChwZWckYzIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICAgIHM2ID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV9fKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgIHM0ID0gcGVnJGM0KHM0KTtcbiAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM1KHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VTdGF0ZW1lbnQoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZUFzc2lnbm1lbnRTdGF0ZW1lbnQoKTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlRXhwKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlQXNzaWdubWVudFN0YXRlbWVudCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZUNhbGxFeHAoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjEpIHtcbiAgICAgICAgICBzMyA9IHBlZyRjNjtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlRXhwKCk7XG4gICAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM4KHMxLCBzNSk7XG4gICAgICAgICAgICAgIHMwID0gczE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIHMxID0gcGVnJHBhcnNlSWRlbnRpZmllcigpO1xuICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYxKSB7XG4gICAgICAgICAgICBzMyA9IHBlZyRjNjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlRXhwKCk7XG4gICAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGM5KHMxLCBzNSk7XG4gICAgICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU1hdHJpeEV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5MSkge1xuICAgICAgczEgPSBwZWckYzEwO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzExKTsgfVxuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMzID0gcGVnJHBhcnNlUm93RXhwKCk7XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gW107XG4gICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gW107XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgIHM4ID0gcGVnJGMwO1xuICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAocGVnJGMxMi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgICAgczggPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3LnB1c2goczgpO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMwO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzEpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRjMTIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczkgPSBwZWckcGFyc2VSb3dFeHAoKTtcbiAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgczYgPSBwZWckYzE0KHMzLCBzOSk7XG4gICAgICAgICAgICAgICAgICBzNSA9IHM2O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHM1O1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM0LnB1c2goczUpO1xuICAgICAgICAgICAgczUgPSBwZWckY3VyclBvcztcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gW107XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNTkpIHtcbiAgICAgICAgICAgICAgICBzOCA9IHBlZyRjMDtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczggPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGVnJGMxMi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTMpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczcucHVzaChzOCk7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU5KSB7XG4gICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGMwO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJGMxMi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgczggPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxMyk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczggPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBzOSA9IHBlZyRwYXJzZVJvd0V4cCgpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM1O1xuICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRjMTQoczMsIHM5KTtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBzNjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNTtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczU7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDkzKSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckYzE1O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczYgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxNik7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICBzMSA9IHBlZyRjMTcoczMsIHM0KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlUm93RXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZUV4cCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRjdXJyUG9zO1xuICAgICAgczUgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgIHM2ID0gcGVnJGMxODtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkpOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczUgPSBbczUsIHM2XTtcbiAgICAgICAgICBzNCA9IHM1O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHM0O1xuICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICBpZiAoczQgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczQgPSBwZWckcGFyc2VfXygpO1xuICAgICAgfVxuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZUV4cCgpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICBzNCA9IHBlZyRjMjAoczEsIHM2KTtcbiAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM1ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ0KSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRjMTg7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMTkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczUgPSBbczUsIHM2XTtcbiAgICAgICAgICAgIHM0ID0gczU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczQ7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzNCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM0ID0gcGVnJHBhcnNlX18oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlRXhwKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyMChzMSwgczYpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjEoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VFeHAoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBzMCA9IHBlZyRwYXJzZVJhbmdlRXhwKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZUNhbGxFeHAoKTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZVByaW1hcnlFeHAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VSYW5nZUV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczcsIHM4LCBzOSwgczEwO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZU9yRXhwKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICAgICAgczMgPSBwZWckYzIyO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyMyk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlT3JFeHAoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA1OCkge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckYzIyO1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczggPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzIzKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczggIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHM5ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgICAgaWYgKHM5ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZU9yRXhwKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRjMjQoczEsIHM1LCBzMTApO1xuICAgICAgICAgICAgICAgICAgICAgIHM2ID0gczc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczY7XG4gICAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICAgIHM2ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNjtcbiAgICAgICAgICAgICAgICBzNiA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM2ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgczYgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMxID0gcGVnJGMyNShzMSwgczUsIHM2KTtcbiAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VPckV4cCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZU9yRXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VBbmRFeHAoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjQpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMjY7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzI3KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VBbmRFeHAoKTtcbiAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGMyNjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMyNyk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNyA9IHBlZyRwYXJzZUFuZEV4cCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMjkoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VBbmRFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNSwgczYsIHM3O1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBzMSA9IHBlZyRwYXJzZUVxRXhwKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gMzgpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMzA7XG4gICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzMxKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VFcUV4cCgpO1xuICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM4KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMzA7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzEpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VFcUV4cCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjMzIoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VFcUV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlUmVsRXhwKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IFtdO1xuICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgIHM0ID0gcGVnJHBhcnNlXygpO1xuICAgICAgaWYgKHM0ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzMzKSB7XG4gICAgICAgICAgczUgPSBwZWckYzMzO1xuICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMzNCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGMzNSkge1xuICAgICAgICAgICAgczUgPSBwZWckYzM1O1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM2KTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlUmVsRXhwKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzMzKSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMzM7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzQpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzUpIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckYzM1O1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzYpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VSZWxFeHAoKTtcbiAgICAgICAgICAgICAgaWYgKHM3ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczQgPSBwZWckYzI4KHMxLCBzNSwgczcpO1xuICAgICAgICAgICAgICAgIHMzID0gczQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzM3KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlUmVsRXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VBZGRFeHAoKTtcbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBzMyA9IHBlZyRjdXJyUG9zO1xuICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjMzgpIHtcbiAgICAgICAgICBzNSA9IHBlZyRjMzg7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzM5KTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNjApIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM0MDtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MSk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM0Mikge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNDI7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0Myk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDYyKSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckYzQ0O1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0NSk7IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlQWRkRXhwKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzM4KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjMzg7XG4gICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMzkpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2MCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNDA7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0MSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM0Mikge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM0MjtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDMpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA2Mikge1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzQ0O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzQ1KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlQWRkRXhwKCk7XG4gICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgICBzMyA9IHM0O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM0NihzMSwgczIpO1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUFkZEV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMywgczQsIHM1LCBzNiwgczc7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlTXVsdEV4cCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQzKSB7XG4gICAgICAgICAgczUgPSBwZWckYzQ3O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0OCk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNDk7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTApOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczcgPSBwZWckcGFyc2VNdWx0RXhwKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDMpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM0NztcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM0OCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGM0OTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzUwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoczUgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM2ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlTXVsdEV4cCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNTEoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VNdWx0RXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNztcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VVbmFyeUV4cCgpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJGN1cnJQb3M7XG4gICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQyKSB7XG4gICAgICAgICAgczUgPSBwZWckYzUyO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1Myk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ3KSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRjNTQ7XG4gICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTUpOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA5NCkge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRjNTY7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1Nyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM1OCkge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM1ODtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTkpOyB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjApIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM2MDtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2MSk7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3Vic3RyKHBlZyRjdXJyUG9zLCAyKSA9PT0gcGVnJGM2Mikge1xuICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNjI7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zICs9IDI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Myk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgaWYgKHM2ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBzNyA9IHBlZyRwYXJzZVVuYXJ5RXhwKCk7XG4gICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczM7XG4gICAgICAgICAgICAgIHM0ID0gcGVnJGMyOChzMSwgczUsIHM3KTtcbiAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICBzMyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczM7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckY3VyclBvcztcbiAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgIGlmIChzNCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDIpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJGM1MjtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1Myk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ3KSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJGM1NDtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU1KTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHM1ID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gOTQpIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNTY7XG4gICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzU3KTsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zdWJzdHIocGVnJGN1cnJQb3MsIDIpID09PSBwZWckYzU4KSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNTg7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTkpOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzNSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjApIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckYzYwO1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyArPSAyO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczUgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNjEpOyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoczUgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMikgPT09IHBlZyRjNjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRjNjI7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBzNSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzYzKTsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgczYgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICBpZiAoczYgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgczcgPSBwZWckcGFyc2VVbmFyeUV4cCgpO1xuICAgICAgICAgICAgICBpZiAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMztcbiAgICAgICAgICAgICAgICBzNCA9IHBlZyRjMjgoczEsIHM1LCBzNyk7XG4gICAgICAgICAgICAgICAgczMgPSBzNDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMztcbiAgICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMzO1xuICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjNjQoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VVbmFyeUV4cCgpOiBhbnkge1xuICAgIGxldCBzMCwgczEsIHMyLCBzMztcblxuICAgIHMwID0gcGVnJHBhcnNlUG9zdGZpeEV4cCgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckY3VyclBvcztcbiAgICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDMpIHtcbiAgICAgICAgczEgPSBwZWckYzQ3O1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNDgpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NSkge1xuICAgICAgICAgIHMxID0gcGVnJGM0OTtcbiAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTApOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAxMjYpIHtcbiAgICAgICAgICAgIHMxID0gcGVnJGM2NTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2Nik7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczMgPSBwZWckcGFyc2VQb3N0Zml4RXhwKCk7XG4gICAgICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgIHMxID0gcGVnJGM2NyhzMSwgczMpO1xuICAgICAgICAgICAgczAgPSBzMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VQb3N0Zml4RXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNDtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VQcmltYXJ5RXhwKCk7XG4gICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRwYXJzZUNhbGxFeHAoKTtcbiAgICB9XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMyA9IFtdO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDM5KSB7XG4gICAgICAgICAgczQgPSBwZWckYzY4O1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczQgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2OSk7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICB3aGlsZSAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMzLnB1c2goczQpO1xuICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSAzOSkge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRjNjg7XG4gICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzNCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM2OSk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM3MChzMSwgczMpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRwYXJzZUNhbGxFeHAoKTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZVByaW1hcnlFeHAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VDYWxsRXhwKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzLCBzNCwgczUsIHM2LCBzNywgczgsIHM5LCBzMTAsIHMxMTtcblxuICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgczEgPSBwZWckcGFyc2VJZGVudGlmaWVyKCk7XG4gICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMiA9IHBlZyRwYXJzZV8oKTtcbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgczMgPSBwZWckYzcxO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3Mik7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICBzNCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHM1ID0gcGVnJHBhcnNlSW5kZXhFeHAoKTtcbiAgICAgICAgICAgIGlmIChzNSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICBzNiA9IFtdO1xuICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICBzOCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgaWYgKHM4ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICAgICAgczkgPSBwZWckYzE4O1xuICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgczkgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzE5KTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoczkgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgIHMxMCA9IHBlZyRwYXJzZV8oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgczExID0gcGVnJHBhcnNlSW5kZXhFeHAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMxMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgICAgIHM4ID0gcGVnJGM3MyhzMSwgczUsIHMxMSk7XG4gICAgICAgICAgICAgICAgICAgICAgczcgPSBzODtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzNztcbiAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3aGlsZSAoczcgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzNi5wdXNoKHM3KTtcbiAgICAgICAgICAgICAgICBzNyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICAgICAgICAgIHM4ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0NCkge1xuICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRjMTg7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzOSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGMxOSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBzMTAgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMTAgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzMTEgPSBwZWckcGFyc2VJbmRleEV4cCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChzMTEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgICAgICAgczggPSBwZWckYzczKHMxLCBzNSwgczExKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHM3ID0gczg7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgICAgICAgczcgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHM3O1xuICAgICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczc7XG4gICAgICAgICAgICAgICAgICBzNyA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzNiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHM3ID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICAgIGlmIChzNyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRjNzQ7XG4gICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzOCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM3NSk7IH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChzOCAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzc2KHMxLCBzNSwgczYpO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZVByaW1hcnlFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczMsIHM0LCBzNTtcblxuICAgIHMwID0gcGVnJHBhcnNlTWF0cml4RXhwKCk7XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgICAgaWYgKGlucHV0LnN1YnN0cihwZWckY3VyclBvcywgMykgPT09IHBlZyRjNzcpIHtcbiAgICAgICAgczEgPSBwZWckYzc3O1xuICAgICAgICBwZWckY3VyclBvcyArPSAzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzgpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgIHMxID0gcGVnJGM3OSgpO1xuICAgICAgfVxuICAgICAgczAgPSBzMTtcbiAgICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMCA9IHBlZyRwYXJzZUlkZW50aWZpZXIoKTtcbiAgICAgICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczAgPSBwZWckcGFyc2VOdW1iZXIoKTtcbiAgICAgICAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgIHMwID0gcGVnJGN1cnJQb3M7XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQwKSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJGM3MTtcbiAgICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzcyKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgIHMyID0gcGVnJHBhcnNlXygpO1xuICAgICAgICAgICAgICBpZiAoczIgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICBzMyA9IHBlZyRwYXJzZUV4cCgpO1xuICAgICAgICAgICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgICAgICAgICAgczQgPSBwZWckcGFyc2VfKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoczQgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmNoYXJDb2RlQXQocGVnJGN1cnJQb3MpID09PSA0MSkge1xuICAgICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJGM3NDtcbiAgICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHM1ID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNzUpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHM1ICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczEgPSBwZWckYzgwKHMzKTtcbiAgICAgICAgICAgICAgICAgICAgICBzMCA9IHMxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgICAgICAgICAgczAgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlSW5kZXhFeHAoKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDU4KSB7XG4gICAgICBzMSA9IHBlZyRjMjI7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjMjMpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgcGVnJHNhdmVkUG9zID0gczA7XG4gICAgICBzMSA9IHBlZyRjODEoKTtcbiAgICB9XG4gICAgczAgPSBzMTtcbiAgICBpZiAoczAgPT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwID0gcGVnJHBhcnNlRXhwKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlTnVtYmVyKCk6IGFueSB7XG4gICAgbGV0IHMwO1xuXG4gICAgczAgPSBwZWckcGFyc2VGbG9hdCgpO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczAgPSBwZWckcGFyc2VJbnRlZ2VyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlRmxvYXQoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KHBlZyRjdXJyUG9zKSA9PT0gNDUpIHtcbiAgICAgIHMxID0gcGVnJGM0OTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMxID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM1MCk7IH1cbiAgICB9XG4gICAgaWYgKHMxID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIGlmIChwZWckYzgyLnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICBwZWckY3VyclBvcysrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjODMpOyB9XG4gICAgICB9XG4gICAgICBpZiAoczMgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgICAgd2hpbGUgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgICAgczIucHVzaChzMyk7XG4gICAgICAgICAgaWYgKHBlZyRjODIudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICAgICAgczMgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzgzKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgczIgPSBwZWckRkFJTEVEO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHBlZyRjdXJyUG9zO1xuICAgICAgICBzMyA9IHBlZyRjODQoczEsIHMyKTtcbiAgICAgICAgaWYgKHMzKSB7XG4gICAgICAgICAgczMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczMgPSBwZWckRkFJTEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICAgIHMxID0gcGVnJGM4NShzMSwgczIpO1xuICAgICAgICAgIHMwID0gczE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VJbnRlZ2VyKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBwZWckY3VyclBvcztcbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChwZWckY3VyclBvcykgPT09IDQ1KSB7XG4gICAgICBzMSA9IHBlZyRjNDk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjNTApOyB9XG4gICAgfVxuICAgIGlmIChzMSA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMyID0gW107XG4gICAgICBpZiAocGVnJGM4Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzg4KTsgfVxuICAgICAgfVxuICAgICAgaWYgKHMzICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICAgIHMyLnB1c2goczMpO1xuICAgICAgICAgIGlmIChwZWckYzg3LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgICAgICAgIHMzID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHMzID0gcGVnJEZBSUxFRDtcbiAgICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM4OCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMyID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICAgIGlmIChzMiAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBwZWckc2F2ZWRQb3MgPSBzMDtcbiAgICAgICAgczEgPSBwZWckYzg5KHMxLCBzMik7XG4gICAgICAgIHMwID0gczE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZWckY3VyclBvcyA9IHMwO1xuICAgICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzg2KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBlZyRwYXJzZUlkZW50aWZpZXIoKTogYW55IHtcbiAgICBsZXQgczAsIHMxLCBzMiwgczM7XG5cbiAgICBwZWckc2lsZW50RmFpbHMrKztcbiAgICBzMCA9IHBlZyRjdXJyUG9zO1xuICAgIHMxID0gcGVnJHBhcnNlSWRlbnRpZmllckZpcnN0Q2hhcigpO1xuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgczIgPSBbXTtcbiAgICAgIHMzID0gcGVnJHBhcnNlSWRlbnRpZmllckNoYXIoKTtcbiAgICAgIHdoaWxlIChzMyAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgICBzMi5wdXNoKHMzKTtcbiAgICAgICAgczMgPSBwZWckcGFyc2VJZGVudGlmaWVyQ2hhcigpO1xuICAgICAgfVxuICAgICAgaWYgKHMyICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHBlZyRzYXZlZFBvcyA9IHMwO1xuICAgICAgICBzMSA9IHBlZyRjOTEoczEsIHMyKTtcbiAgICAgICAgczAgPSBzMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlZyRjdXJyUG9zID0gczA7XG4gICAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVnJGN1cnJQb3MgPSBzMDtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTApOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlSWRlbnRpZmllckNoYXIoKTogYW55IHtcbiAgICBsZXQgczA7XG5cbiAgICBpZiAocGVnJGM5Mi50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMCA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTMpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlSWRlbnRpZmllckZpcnN0Q2hhcigpOiBhbnkge1xuICAgIGxldCBzMDtcblxuICAgIGlmIChwZWckYzk0LnRlc3QoaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKSkpIHtcbiAgICAgIHMwID0gaW5wdXQuY2hhckF0KHBlZyRjdXJyUG9zKTtcbiAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMwID0gcGVnJEZBSUxFRDtcbiAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5NSk7IH1cbiAgICB9XG5cbiAgICByZXR1cm4gczA7XG4gIH1cblxuICBmdW5jdGlvbiBwZWckcGFyc2VfKCk6IGFueSB7XG4gICAgbGV0IHMwLCBzMTtcblxuICAgIHBlZyRzaWxlbnRGYWlscysrO1xuICAgIHMwID0gW107XG4gICAgaWYgKHBlZyRjOTcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgcGVnJGN1cnJQb3MrKztcbiAgICB9IGVsc2Uge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk4KTsgfVxuICAgIH1cbiAgICB3aGlsZSAoczEgIT09IHBlZyRGQUlMRUQpIHtcbiAgICAgIHMwLnB1c2goczEpO1xuICAgICAgaWYgKHBlZyRjOTcudGVzdChpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpKSkge1xuICAgICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5OCk7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgcGVnJHNpbGVudEZhaWxzLS07XG4gICAgaWYgKHMwID09PSBwZWckRkFJTEVEKSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTYpOyB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHMwO1xuICB9XG5cbiAgZnVuY3Rpb24gcGVnJHBhcnNlX18oKTogYW55IHtcbiAgICBsZXQgczAsIHMxO1xuXG4gICAgcGVnJHNpbGVudEZhaWxzKys7XG4gICAgczAgPSBbXTtcbiAgICBpZiAocGVnJGM5Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICBzMSA9IGlucHV0LmNoYXJBdChwZWckY3VyclBvcyk7XG4gICAgICBwZWckY3VyclBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBzMSA9IHBlZyRGQUlMRUQ7XG4gICAgICBpZiAocGVnJHNpbGVudEZhaWxzID09PSAwKSB7IHBlZyRmYWlsKHBlZyRjOTgpOyB9XG4gICAgfVxuICAgIGlmIChzMSAhPT0gcGVnJEZBSUxFRCkge1xuICAgICAgd2hpbGUgKHMxICE9PSBwZWckRkFJTEVEKSB7XG4gICAgICAgIHMwLnB1c2goczEpO1xuICAgICAgICBpZiAocGVnJGM5Ny50ZXN0KGlucHV0LmNoYXJBdChwZWckY3VyclBvcykpKSB7XG4gICAgICAgICAgczEgPSBpbnB1dC5jaGFyQXQocGVnJGN1cnJQb3MpO1xuICAgICAgICAgIHBlZyRjdXJyUG9zKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgICAgIGlmIChwZWckc2lsZW50RmFpbHMgPT09IDApIHsgcGVnJGZhaWwocGVnJGM5OCk7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzMCA9IHBlZyRGQUlMRUQ7XG4gICAgfVxuICAgIHBlZyRzaWxlbnRGYWlscy0tO1xuICAgIGlmIChzMCA9PT0gcGVnJEZBSUxFRCkge1xuICAgICAgczEgPSBwZWckRkFJTEVEO1xuICAgICAgaWYgKHBlZyRzaWxlbnRGYWlscyA9PT0gMCkgeyBwZWckZmFpbChwZWckYzk2KTsgfVxuICAgIH1cblxuICAgIHJldHVybiBzMDtcbiAgfVxuXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBvc2VCaW5hcnlPcChmaXJzdDogc3RyaW5nLCByZXN0OiBzdHJpbmdbXSwgYXNzb2M6IHN0cmluZywgZXhwclR5cGU6IHN0cmluZykgOiBhbnkge1xyXG4gICAgICBhc3NvYyA9IGFzc29jIHx8IFwibGVmdFwiO1xyXG4gICAgICBleHByVHlwZSA9IGV4cHJUeXBlIHx8IFwiYmluYXJ5T3BcIjtcclxuICAgICAgaWYoIXJlc3QgfHwgcmVzdC5sZW5ndGggPT09IDApe1xyXG4gICAgICAgIHJldHVybiBmaXJzdDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYXNzb2MgPT09IFwibGVmdFwiKXtcclxuICAgICAgICB2YXIgcmlnaHQgPSByZXN0LnBvcCgpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICB3aGF0OiBleHByVHlwZSxcclxuICAgICAgICAgIG9wOiByaWdodCFbMF0sXHJcbiAgICAgICAgICBsZWZ0OiBjb21wb3NlQmluYXJ5T3AoZmlyc3QsIHJlc3QsIGFzc29jLCBleHByVHlwZSksXHJcbiAgICAgICAgICByaWdodDogcmlnaHQhWzFdLFxyXG4gICAgICAgICAgYXNzb2NpYXRpdml0eTogYXNzb2NcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZXtcclxuICAgICAgICB2YXIgbGVmdCA9IHJlc3Quc2hpZnQoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgd2hhdDogZXhwclR5cGUsXHJcbiAgICAgICAgICBvcDogbGVmdCFbMF0sXHJcbiAgICAgICAgICBsZWZ0OiBmaXJzdCxcclxuICAgICAgICAgIHJpZ2h0OiBjb21wb3NlQmluYXJ5T3AobGVmdCFbMV0sIHJlc3QsIGFzc29jLCBleHByVHlwZSksXHJcbiAgICAgICAgICBhc3NvY2lhdGl2aXR5OiBhc3NvY1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cblxuICBwZWckcmVzdWx0ID0gcGVnJHN0YXJ0UnVsZUZ1bmN0aW9uKCk7XG5cbiAgaWYgKHBlZyRyZXN1bHQgIT09IHBlZyRGQUlMRUQgJiYgcGVnJGN1cnJQb3MgPT09IGlucHV0Lmxlbmd0aCkge1xuICAgIHJldHVybiBwZWckcmVzdWx0O1xuICB9IGVsc2Uge1xuICAgIGlmIChwZWckcmVzdWx0ICE9PSBwZWckRkFJTEVEICYmIHBlZyRjdXJyUG9zIDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICBwZWckZmFpbChwZWckZW5kRXhwZWN0YXRpb24oKSk7XG4gICAgfVxuXG4gICAgdGhyb3cgcGVnJGJ1aWxkU3RydWN0dXJlZEVycm9yKFxuICAgICAgcGVnJG1heEZhaWxFeHBlY3RlZCxcbiAgICAgIHBlZyRtYXhGYWlsUG9zIDwgaW5wdXQubGVuZ3RoID8gaW5wdXQuY2hhckF0KHBlZyRtYXhGYWlsUG9zKSA6IG51bGwsXG4gICAgICBwZWckbWF4RmFpbFBvcyA8IGlucHV0Lmxlbmd0aFxuICAgICAgICA/IHBlZyRjb21wdXRlTG9jYXRpb24ocGVnJG1heEZhaWxQb3MsIHBlZyRtYXhGYWlsUG9zICsgMSlcbiAgICAgICAgOiBwZWckY29tcHV0ZUxvY2F0aW9uKHBlZyRtYXhGYWlsUG9zLCBwZWckbWF4RmFpbFBvcylcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVBhcnNlT3B0aW9ucyB7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBzdGFydFJ1bGU/OiBzdHJpbmc7XG4gIHRyYWNlcj86IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuZXhwb3J0IHR5cGUgUGFyc2VGdW5jdGlvbiA9IChpbnB1dDogc3RyaW5nLCBvcHRpb25zPzogSVBhcnNlT3B0aW9ucykgPT4gYW55O1xuZXhwb3J0IGNvbnN0IHBhcnNlOiBQYXJzZUZ1bmN0aW9uID0gcGVnJHBhcnNlO1xuXG4iLCJpbXBvcnQgeyBNdXRhYmxlLCBDb2xvciwgYXNzZXJ0LCBjbG9uZUFycmF5LCBNYXRsYWJNYXRoLCBhc011dGFibGUgfSBmcm9tIFwiLi91dGlsL3V0aWxcIjtcclxuaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwibG9kYXNoXCI7XHJcblxyXG5cclxuXHJcblxyXG5cclxudHlwZSBWaXN1YWxpemF0aW9uT3B0aW9ucyA9IHtcclxuICAgIFtpbmRleDogc3RyaW5nXTogYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBWaXN1YWxpemFibGUge1xyXG4gICAgdmlzdWFsaXplX2h0bWwob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSA6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBEYXRhVHlwZSA9IFwiZG91YmxlXCIgfCBcImxvZ2ljYWxcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYXRsYWJFcnJvciB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnN0cnVjdDogQ29kZUNvbnN0cnVjdDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoY29uc3RydWN0OiBDb2RlQ29uc3RydWN0LCBtZXNzYWdlOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0ID0gY29uc3RydWN0O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWF0cml4IGltcGxlbWVudHMgVmlzdWFsaXphYmxlIHtcclxuXHJcbiAgICAvL1N0YXRpYyBmdW5jdGlvbnNcclxuICAgIC8vIFRPRE86IFNob3VsZCB0aGlzIHJlYWxseSBiZSBhIHN0YXRpYyBmdW5jdGlvbiBvZiBtYXRyaXg/XHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcm1hdE51bWJlcihudW06IG51bWJlcikge1xyXG4gICAgICAgIGlmIChNYXRoLnRydW5jKG51bSkgPT0gbnVtKXtcclxuICAgICAgICAgICAgcmV0dXJuIG51bS50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVtLnRvUHJlY2lzaW9uKDIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHNjYWxhcih2YWx1ZTogbnVtYmVyLCBkYXRhVHlwZTogRGF0YVR5cGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCAxLCBbdmFsdWVdLCBkYXRhVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVTaXplZChyb3dzOiBudW1iZXIsIGNvbHM6IG51bWJlciwgZGF0YVR5cGU6IERhdGFUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgocm93cywgY29scywgbmV3IEFycmF5KHJvd3MgKiBjb2xzKSwgZGF0YVR5cGUpO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bURpbXMgPSAyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd3M6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBjb2xzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBudW1lbDogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGRhdGFUeXBlOiBEYXRhVHlwZTtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNTY2FsYXI6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaXNWZWN0b3I6IGJvb2xlYW47XHJcbiAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGRhdGE6IHJlYWRvbmx5IG51bWJlcltdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihyb3dzOiBudW1iZXIsIGNvbHM6IG51bWJlciwgZGF0YTogcmVhZG9ubHkgbnVtYmVyW10sIGRhdGFUeXBlOiBEYXRhVHlwZSkge1xyXG4gICAgICAgIHRoaXMucm93cyA9IHJvd3M7XHJcbiAgICAgICAgdGhpcy5jb2xzID0gY29scztcclxuICAgICAgICB0aGlzLmhlaWdodCA9IHJvd3M7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IGNvbHM7XHJcbiAgICAgICAgdGhpcy5udW1lbCA9IHJvd3MgKiBjb2xzO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGNsb25lQXJyYXkoZGF0YSkgLy8gY29weSBpcyBpbXBvcnRhbnQsIHNpbmNlIG90aGVyd2lzZSBpbnRlcm5hbCBjYXN0aW5nIGF3YXkgb2YgcmVhZG9ubHkgb24gZGF0YSBjb3VsZCBjYXVzZSBpc3N1ZXNcclxuICAgICAgICB0aGlzLmRhdGFUeXBlID0gZGF0YVR5cGU7XHJcblxyXG4gICAgICAgIHRoaXMuaXNTY2FsYXIgPSByb3dzID09PSAxICYmIGNvbHMgPT09IDE7XHJcbiAgICAgICAgdGhpcy5pc1ZlY3RvciA9IHJvd3MgPT09IDEgfHwgY29scyA9PT0gMTtcclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IENvbG9yLnRvQ29sb3IoW3RoaXMucm93cywgdGhpcy5oZWlnaHQsIHRoaXMuZGF0YV0sIENvbG9yLkxJR0hUX0xFVFRFUlMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0b1N0cmluZygpIDogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gXCJSb3dzOiBcIiArIHRoaXMucm93cyArIFwiIENvbHM6IFwiICsgdGhpcy5jb2xzICsgXCJcXG5EYXRhOiBcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsb25lKCkgOiBNYXRyaXgge1xyXG4gICAgICAgIC8vIE5vdGUgdGhlIC5zbGljZSgpIGNvcGllcyB0aGUgZGF0YSBhcnJheVxyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHRoaXMucm93cywgdGhpcy5jb2xzLCB0aGlzLmRhdGEuc2xpY2UoKSwgdGhpcy5kYXRhVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvdGhlcjogTWF0cml4KSA6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoID09PSBvdGhlci53aWR0aCAmJiB0aGlzLmhlaWdodCA9PT0gb3RoZXIuaGVpZ2h0ICYmXHJcbiAgICAgICAgICAgICAgIHRoaXMuZGF0YS5ldmVyeSgodmFsdWUsIGkpID0+IHZhbHVlID09PSBvdGhlci5kYXRhW2ldKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGxpbmVhckluZGV4KHJvdzogbnVtYmVyLCBjb2w6IG51bWJlcikge1xyXG4gICAgICAgIHJvdyA9IHJvdyAtIDE7XHJcbiAgICAgICAgY29sID0gY29sIC0gMTtcclxuICAgICAgICByZXR1cm4gY29sICogdGhpcy5yb3dzICsgcm93ICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXRMaW5lYXIoaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbaW5kZXggLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0TGluZWFyKGluZGV4OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICAoPG51bWJlcltdPnRoaXMuZGF0YSlbaW5kZXggLSAxXSA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhdChyb3c6IG51bWJlciwgY29sOiBudW1iZXIpIHtcclxuICAgICAgICByb3cgPSByb3cgLSAxO1xyXG4gICAgICAgIGNvbCA9IGNvbCAtIDE7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtjb2wgKiB0aGlzLnJvd3MgKyByb3ddXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEF0KHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHJvdyA9IHJvdyAtIDE7XHJcbiAgICAgICAgY29sID0gY29sIC0gMTtcclxuICAgICAgICAoPG51bWJlcltdPnRoaXMuZGF0YSlbY29sICogdGhpcy5yb3dzICsgcm93XSA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaWxsKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICg8bnVtYmVyW10+dGhpcy5kYXRhKVtpXSA9IHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBSRVFVSVJFUzogZGF0YSBoYXMgdGhlIHNhbWUgbnVtYmVyIG9mIGVsZW1lbnRzIGFzIHRoZSBvcmlnaW5hbCBtYXRyaXggZGF0YVxyXG4gICAgcHVibGljIHNldEFsbChkYXRhOiByZWFkb25seSBudW1iZXJbXSkge1xyXG4gICAgICAgIGFzc2VydCh0aGlzLmRhdGEubGVuZ3RoID09PSBkYXRhLmxlbmd0aCwgXCJuZXcgZGF0YSBtdXN0IGhhdmUgc2FtZSBudW1iZXIgb2YgZWxlbWVudHNcIik7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAoPG51bWJlcltdPnRoaXMuZGF0YSlbaV0gPSBkYXRhW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZUFsbChvcGVyYXRlOiAodmFsOiBudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2V0QWxsKHRoaXMuZGF0YS5tYXAob3BlcmF0ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsZW5ndGgoZGltZW5zaW9uOiAxIHwgMikge1xyXG4gICAgICAgIGlmIChkaW1lbnNpb24gPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm93cztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IC8vIGlmIChkaW1lbnNpb24gPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29scztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNjYWxhclZhbHVlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWF0cml4VmFsdWUgOiBmdW5jdGlvbigpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcztcclxuICAgIC8vIH0sXHJcblxyXG4gICAgcHVibGljIGNvbnRhaW5zKHZhbHVlOiBudW1iZXIpIDogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbERhdGEoY29sOiBudW1iZXIpIDogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc2xpY2UoKGNvbC0xKSAqIHRoaXMucm93cywgY29sICogdGhpcy5yb3dzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q29sRGF0YShjb2w6IG51bWJlciwgbmV3RGF0YTogcmVhZG9ubHkgbnVtYmVyW10pIHtcclxuICAgICAgICBmb3IobGV0IHIgPSAxLCBpID0gMDsgciA8PSB0aGlzLnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB0aGlzLnNldEF0KHIsIGNvbCwgbmV3RGF0YVtpKytdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJvd0RhdGEocm93OiBudW1iZXIpIDogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiByYW5nZSgxLCB0aGlzLmNvbHMgKyAxKS5tYXAoKGMpID0+IHRoaXMuYXQocm93LCBjKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFJvd0RhdGEocm93OiBudW1iZXIsIG5ld0RhdGE6IHJlYWRvbmx5IG51bWJlcltdKSB7XHJcbiAgICAgICAgZm9yKGxldCBjID0gMSwgaSA9IDA7IGMgPD0gdGhpcy5jb2xzOyArK2MpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBdChyb3csIGMsIG5ld0RhdGFbaSsrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhY2N1bXVsYXRlQ29scyhvcGVyYXRlOiAoYTpudW1iZXIsIGI6bnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCB0aGlzLmNvbHMsXHJcbiAgICAgICAgICAgIHJhbmdlKDEsIHRoaXMuY29scysxKS5tYXAoKGMpID0+IHRoaXMuY29sRGF0YShjKS5yZWR1Y2Uob3BlcmF0ZSkpLFxyXG4gICAgICAgICAgICBcImRvdWJsZVwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGFjY3VtdWxhdGVSb3dzKG9wZXJhdGU6IChhOm51bWJlciwgYjpudW1iZXIpID0+IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KHRoaXMucm93cywgMSxcclxuICAgICAgICAgICAgcmFuZ2UoMSwgdGhpcy5yb3dzKzEpLm1hcCgoYykgPT4gdGhpcy5yb3dEYXRhKGMpLnJlZHVjZShvcGVyYXRlKSksXHJcbiAgICAgICAgICAgIFwiZG91YmxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfaHRtbChvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpIDogc3RyaW5nIHtcclxuXHJcbiAgICAgICAgbGV0IHRhYmxlID0gJChcIjx0YWJsZT48L3RhYmxlPlwiKTtcclxuICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi10YWJsZVwiKTtcclxuXHJcbiAgICAgICAgLy8gTG9naWNhbCBhcnJheXMgYXJlIGJsYWNrL3doaXRlXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YVR5cGUgIT09IFwibG9naWNhbFwiKSB7XHJcbiAgICAgICAgICAgIHRhYmxlLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgdGhpcy5jb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IHIgPSAxOyByIDw9IHRoaXMucm93czsgKytyKSB7XHJcbiAgICAgICAgICAgIGxldCB0ciA9ICQoXCI8dHI+PC90cj5cIik7XHJcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZCh0cik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAxOyBjIDw9IHRoaXMuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSAkKFwiPHRkIGNsYXNzPSdtYXRsYWItbWF0cml4LWNlbGwnPjwvdGQ+XCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFkZENsYXNzKFwibWF0bGFiLXNjYWxhclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGFUeXBlID09PSBcImxvZ2ljYWxcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuYWRkQ2xhc3ModGhpcy5hdChyLGMpID8gXCJsb2dpY2FsLTFcIiA6IFwibG9naWNhbC0wXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHRlbXBTcGFuID0gJChcIjxzcGFuPjwvc3Bhbj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wU3Bhbi5odG1sKE1hdHJpeC5mb3JtYXROdW1iZXIodGhpcy5hdChyLGMpKSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFwcGVuZCh0ZW1wU3Bhbik7XHJcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQodGVtcCk7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGFibGVbMF0ub3V0ZXJIVE1MO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgU3ViYXJyYXkge1xyXG5cclxuICAgIC8vIHB1YmxpYyB2aXN1YWxpemVfdmFyaWFibGVfc2VsZWN0aW9uKGVsZW06IEpRdWVyeSwgb3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSB7XHJcbiAgICAvLyAgICAgbGV0IHdyYXBwZXIgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAvLyAgICAgd3JhcHBlci5hZGRDbGFzcyhcIm1hdGxhYi1leHAtaW5kZXhcIik7XHJcblxyXG5cclxuICAgIC8vICAgICBsZXQgdmFsdWVFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgLy8gICAgIHRoaXMudmlzdWFsaXplX3NlbGVjdGlvbih2YWx1ZUVsZW0pO1xyXG4gICAgLy8gICAgIHdyYXBwZXIuYXBwZW5kKHZhbHVlRWxlbSk7XHJcblxyXG4gICAgLy8gICAgIGxldCBuYW1lRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgIC8vICAgICBuYW1lRWxlbS5hZGRDbGFzcyhcIm1hdGxhYi1pZGVudGlmaWVyLW5hbWVcIik7XHJcbiAgICAvLyAgICAgbmFtZUVsZW0uaHRtbCh0aGlzLnZhcmlhYmxlLm5hbWUpO1xyXG4gICAgLy8gICAgIHdyYXBwZXIuYXBwZW5kKG5hbWVFbGVtKTtcclxuXHJcbiAgICAvLyAgICAgZWxlbS5hcHBlbmQod3JhcHBlcik7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHZpc3VhbGl6ZV9zZWxlY3Rpb24obWF0cml4OiBNYXRyaXgpIDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBpbmRleGluZ1RleHQoKSA6IHN0cmluZztcclxuXHJcbiAgICAvLyBAdGhyb3dzIHtzdHJpbmd9IElmIHRoZSB2YWx1ZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZCAoZS5nLiBzdWJhcnJheSBzcGVjaWZpZXMgb3V0LW9mLWJvdW5kIGluZGljZXMpLlxyXG4gICAgcHVibGljIGFic3RyYWN0IHJlYWRWYWx1ZShzb3VyY2U6IE1hdHJpeCkgOiBNYXRyaXg7XHJcblxyXG4gICAgLy8gVE9ETzogcmVtb3ZlP1xyXG4gICAgLy8gcHVibGljIGFic3RyYWN0IHJlYWRvbmx5IGRpbWVuc2lvbnMgOiByZWFkb25seSBudW1iZXJbXTtcclxuXHJcbiAgICAvLyBAdGhyb3dzIHtzdHJpbmd9IElmIGFzc2lnbm1lbnQgY2Fubm90IGJlIHBlcmZvcm1lZCAoZS5nLiBkdWUgdG8gYSBkaW1lbnNpb24gbWlzbWF0Y2gpLlxyXG4gICAgcHVibGljIGFic3RyYWN0IGFzc2lnbih0YXJnZXQ6IE1hdHJpeCwgdmFsdWU6IE1hdHJpeCkgOiB2b2lkO1xyXG5cclxuICAgIC8vIEB0aHJvd3Mge3N0cmluZ30gSWYgdGhlIHN1YmFycmF5IGlzIG5vdCB3ZWxsLWZvcm1lZCB3LnIudCBpdHMgdmFyaWFibGVcclxuICAgIC8vICAgICAgICAgICAgICAgICAgKGUuZy4gc3ViYXJyYXkgc3BlY2lmaWVzIG91dC1vZi1ib3VuZCBpbmRpY2VzKS5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB2ZXJpZnkobWF0OiBNYXRyaXgpIDogdm9pZDtcclxufVxyXG5cclxuY2xhc3MgQ29vcmRpbmF0ZVN1YmFycmF5IGV4dGVuZHMgU3ViYXJyYXkge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHJvd0luZGljZXM6IE1hdHJpeCB8IFwiOlwiLCBjb2xJbmRpY2VzOiBNYXRyaXggfCBcIjpcIikge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29vcmRpbmF0ZVN1YmFycmF5KFxyXG4gICAgICAgICAgICBDb29yZGluYXRlSW5kZXhlci5jcmVhdGUoMSwgcm93SW5kaWNlcyksXHJcbiAgICAgICAgICAgIENvb3JkaW5hdGVJbmRleGVyLmNyZWF0ZSgyLCBjb2xJbmRpY2VzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd0luZGV4ZXI6IENvb3JkaW5hdGVJbmRleGVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbEluZGV4ZXI6IENvb3JkaW5hdGVJbmRleGVyO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcihyb3dJbmRleGVyOiBDb29yZGluYXRlSW5kZXhlciwgY29sSW5kZXhlcjogQ29vcmRpbmF0ZUluZGV4ZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucm93SW5kZXhlciA9IHJvd0luZGV4ZXI7XHJcbiAgICAgICAgdGhpcy5jb2xJbmRleGVyID0gY29sSW5kZXhlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5kZXhpbmdUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiBgKCR7dGhpcy5yb3dJbmRleGVyLmluZGV4aW5nVGV4dCgpfSwgJHt0aGlzLmNvbEluZGV4ZXIuaW5kZXhpbmdUZXh0KCl9KWBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX3NlbGVjdGlvbihtYXRyaXg6IE1hdHJpeCkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9ICQoXCI8dGFibGU+PC90YWJsZT5cIik7XHJcbiAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJtYXRsYWItaW5kZXhcIik7XHJcbiAgICAgICAgbGV0IHJvd0luZGljZXNTZXQgPSBuZXcgU2V0KHRoaXMucm93SW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXMobWF0cml4KSk7XHJcbiAgICAgICAgbGV0IGNvbEluZGljZXNTZXQgPSBuZXcgU2V0KHRoaXMuY29sSW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXMobWF0cml4KSk7XHJcblxyXG4gICAgICAgIC8vIFRvcCByb3cgZm9yIGNvbHVtbi1jb29yZGluYXRlIGluZGljZXNcclxuICAgICAgICBsZXQgY29sdW1uSW5kaWNlcyA9ICQoXCI8dHI+PC90cj5cIikuYXBwZW5kVG8odGFibGUpO1xyXG5cclxuICAgICAgICAvLyBBcHBlbmQgdG9wLWxlZnQgY29ybmVyIGVtcHR5IGNlbGxcclxuICAgICAgICBjb2x1bW5JbmRpY2VzLmFwcGVuZCgkKFwiPHRkPjwvdGQ+XCIpKVxyXG5cclxuICAgICAgICBmb3IobGV0IGMgPSAxOyBjIDw9IG1hdHJpeC5jb2xzOyArK2MpIHtcclxuICAgICAgICAgICAgbGV0IGNvbHVtbkluZGV4RWxlbSA9ICQoYDx0ZCBjbGFzcz0nbWF0bGFiLWNvbHVtbi1pbmRleCc+JHtjfTwvdGQ+YClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjb2x1bW5JbmRpY2VzKTtcclxuICAgICAgICAgICAgaWYgKGNvbEluZGljZXNTZXQuaGFzKGMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5JbmRleEVsZW0uYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gbWF0cml4LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICBsZXQgcm93SW5kZXhFbGVtID0gJChgPHRkIGNsYXNzPSdtYXRsYWItcm93LWluZGV4Jz4ke3J9PC90ZD5gKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKHRyKTtcclxuICAgICAgICAgICAgaWYgKHJvd0luZGljZXNTZXQuaGFzKHIpKSB7XHJcbiAgICAgICAgICAgICAgICByb3dJbmRleEVsZW0uYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8PSBtYXRyaXguY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSAkKFwiPHRkIGNsYXNzPSdtYXRsYWItbWF0cml4LWNlbGwnPjxkaXYgY2xhc3M9J2hpZ2hsaWdodCc+PC9kaXY+PC90ZD5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZC5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIG1hdHJpeC5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93SW5kaWNlc1NldC5oYXMocikgJiZcclxuICAgICAgICAgICAgICAgICAgICBjb2xJbmRpY2VzU2V0LmhhcyhjKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmFkZENsYXNzKFwic2VsZWN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHJhd0luZGV4RWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgICAgIC8vIHJhd0luZGV4RWxlbS5hZGRDbGFzcyhcIm1hdGxhYi1yYXctaW5kZXhcIik7XHJcbiAgICAgICAgICAgICAgICAvLyByYXdJbmRleEVsZW0uaHRtbChcIlwiICsgbWF0cml4LmxpbmVhckluZGV4KHIsYykpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGQuYXBwZW5kKHJhd0luZGV4RWxlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFkZENsYXNzKFwibWF0bGFiLXNjYWxhclwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wU3BhbiA9ICQoXCI8c3Bhbj48L3NwYW4+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGVtcFNwYW4uaHRtbChcIlwiICsgbWF0cml4LmF0KHIsYykpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hcHBlbmQodGVtcFNwYW4pO1xyXG4gICAgICAgICAgICAgICAgdGQuYXBwZW5kKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRhYmxlWzBdLm91dGVySFRNTDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeCB7XHJcbiAgICAgICAgbGV0IGRhdGEgOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuICAgICAgICBsZXQgcm93SW5kaWNlcyA9IHRoaXMucm93SW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXMoc291cmNlKTtcclxuICAgICAgICBsZXQgY29sSW5kaWNlcyA9IHRoaXMuY29sSW5kZXhlci5nZXRTZWxlY3RlZEluZGljZXMoc291cmNlKTtcclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCBzZWxlY3Rpb24gaW4gY29sdW1uLW1ham9yIG9yZGVyXHJcbiAgICAgICAgY29sSW5kaWNlcy5mb3JFYWNoKChzZWxlY3RlZENvbCkgPT4ge1xyXG4gICAgICAgICAgICByb3dJbmRpY2VzLmZvckVhY2goKHNlbGVjdGVkUm93KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goc291cmNlLmF0KHNlbGVjdGVkUm93LCBzZWxlY3RlZENvbCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChyb3dJbmRpY2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgY29sSW5kaWNlcy5sZW5ndGgsIGRhdGEsIHNvdXJjZS5kYXRhVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzc2lnbih0YXJnZXQ6IE1hdHJpeCwgdmFsdWU6IE1hdHJpeCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCByb3dJbmRpY2VzID0gdGhpcy5yb3dJbmRleGVyLmdldFNlbGVjdGVkSW5kaWNlcyh0YXJnZXQpO1xyXG4gICAgICAgIGxldCBjb2xJbmRpY2VzID0gdGhpcy5jb2xJbmRleGVyLmdldFNlbGVjdGVkSW5kaWNlcyh0YXJnZXQpO1xyXG4gICAgICAgIGxldCBzZWxlY3Rpb25Sb3dzID0gcm93SW5kaWNlcy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IHNlbGVjdGlvbkNvbHMgPSBjb2xJbmRpY2VzLmxlbmd0aDtcclxuICAgICAgICBsZXQgc2VsZWN0aW9uTnVtZWwgPSBzZWxlY3Rpb25Sb3dzICogc2VsZWN0aW9uQ29scztcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIGNvbEluZGljZXMuZm9yRWFjaCgoc2VsZWN0ZWRDb2wsIGMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJvd0luZGljZXMuZm9yRWFjaCgoc2VsZWN0ZWRSb3csIHIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXQoc2VsZWN0ZWRSb3csIHNlbGVjdGVkQ29sLCB2YWx1ZS5zY2FsYXJWYWx1ZSgpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOb3JtYWxseSwgdGhlIGRpbWVuc2lvbnMgb2Ygc2VsZWN0aW9uIGFuZCB2YWx1ZSBtdXN0IG1hdGNoIGV4YWN0bHksIGJ1dFxyXG4gICAgICAgIC8vIGlmIHRoZSBzZWxlY3Rpb24gKG5vdCB0aGUgdGFyZ2V0KSBhbmQgdGhlIHZhbHVlIGFyZSBib3RoIHZlY3RvcnMsIHRoZWlyXHJcbiAgICAgICAgLy8gbnVtYmVyIG9mIGVsZW1lbnRzIG11c3QgYmUgdGhlIHNhbWUsIGJ1dCB0aGVpciBkaW1lbnNpb25zIG1pZ2h0IGJlIGRpZmZlcmVudC5cclxuICAgICAgICAvLyAoZS5nLiB5b3UgY2FuIGFzc2lnbiBhIHJvdyB2ZWN0b3IgdG8gYSBjb2x1bW4gc2VsZWN0aW9uIG9mIHRoZSBzYW1lIGxlbmd0aClcclxuICAgICAgICBlbHNlIGlmIChzZWxlY3Rpb25Sb3dzID09PSB2YWx1ZS5yb3dzICYmIHNlbGVjdGlvbkNvbHMgPT09IHZhbHVlLmNvbHMgfHxcclxuICAgICAgICAgICAgKChzZWxlY3Rpb25Sb3dzID09PSAxIHx8IHNlbGVjdGlvbkNvbHMgPT09IDEpICYmIHZhbHVlLmlzVmVjdG9yICYmIHNlbGVjdGlvbk51bWVsID09IHZhbHVlLm51bWVsKSkge1xyXG4gICAgICAgICAgICBsZXQgaSA9IDE7XHJcbiAgICAgICAgICAgIGNvbEluZGljZXMuZm9yRWFjaCgoc2VsZWN0ZWRDb2wsIGMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJvd0luZGljZXMuZm9yRWFjaCgoc2VsZWN0ZWRSb3csIHIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBleHByZXNzaW9uIGJlbG93IGNhbm5vdCB1c2UgdmFsdWUuYXQociArIDEsIGMgKyAxKSBzaW5jZSB0aGlzIHdvbid0IHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgdmVjdG9ycyB0aGF0IGhhdmUgcm93cy9jb2xzIGZsaXBwZWRcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXQoc2VsZWN0ZWRSb3csIHNlbGVjdGVkQ29sLCB2YWx1ZS5hdExpbmVhcihpKyspKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJTdWJzY3JpcHRlZCBhc3NpZ25tZW50IGRpbWVuc2lvbiBtaXNtYXRjaC4gVGhlIGxlZnQgaGFuZCBzaWRlIGluZGV4aW5nIGV4cHJlc3Npb25cIiArXHJcbiAgICAgICAgICAgIFwiIHNlbGVjdHMgYSBcIiArIHNlbGVjdGlvblJvd3MgKyBcInhcIiArIHNlbGVjdGlvbkNvbHMgKyBcIiB3aGlsZSB0aGUgcmlnaHQgaGFuZCBzaWRlIGlzIGEgXCIgKyB2YWx1ZS5yb3dzICsgXCJ4XCIgKyB2YWx1ZS5jb2xzICsgXCIuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICB0aGlzLnJvd0luZGV4ZXIudmVyaWZ5KG1hdCk7XHJcbiAgICAgICAgdGhpcy5jb2xJbmRleGVyLnZlcmlmeShtYXQpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgQ29vcmRpbmF0ZUluZGV4ZXIge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgRElNRU5TSU9OX05BTUVTID0gW1wiXCIsIFwicm93XCIsIFwiY29sdW1uXCJdO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGRpbWVuc2lvbjogMSB8IDIsIHNlbGVjdGVkSW5kaWNlczogTWF0cml4IHwgXCI6XCIpIHtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRJbmRpY2VzID09PSBcIjpcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsbENvb3JkaW5hdGVJbmRleGVyKGRpbWVuc2lvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNlbGVjdGVkSW5kaWNlcy5kYXRhVHlwZSA9PT0gXCJsb2dpY2FsXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2dpY2FsQ29vcmRpbmF0ZUluZGV4ZXIoZGltZW5zaW9uLCBzZWxlY3RlZEluZGljZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWd1bGFyQ29vcmRpbmF0ZUluZGV4ZXIoZGltZW5zaW9uLCBzZWxlY3RlZEluZGljZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGltZW5zaW9uOiAxIHwgMjtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoZGltZW5zaW9uOiAxIHwgMikge1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9uID0gZGltZW5zaW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRTZWxlY3RlZEluZGljZXMobWF0OiBNYXRyaXgpIDogcmVhZG9ubHkgbnVtYmVyW107XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGluZGV4aW5nVGV4dCgpIDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCB2ZXJpZnkobWF0OiBNYXRyaXgpIDogdm9pZDtcclxuXHJcbn1cclxuXHJcbmNsYXNzIFJlZ3VsYXJDb29yZGluYXRlSW5kZXhlciBleHRlbmRzIENvb3JkaW5hdGVJbmRleGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHNlbGVjdGVkSW5kaWNlczogcmVhZG9ubHkgbnVtYmVyW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRpbWVuc2lvbjogMSB8IDIsIHNlbGVjdGVkSW5kaWNlczogTWF0cml4KSB7XHJcbiAgICAgICAgc3VwZXIoZGltZW5zaW9uKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kaWNlcyA9IHNlbGVjdGVkSW5kaWNlcy5kYXRhXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnZXRTZWxlY3RlZEluZGljZXMobWF0OiBNYXRyaXgpOiByZWFkb25seSBudW1iZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbmRleGluZ1RleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmpvaW4oXCIsXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICBsZXQgZGltTGVuID0gbWF0Lmxlbmd0aCh0aGlzLmRpbWVuc2lvbik7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZm9yRWFjaChpbmRleCA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDEgfHwgZGltTGVuIDwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IENvb3JkaW5hdGVJbmRleGVyLkRJTUVOU0lPTl9OQU1FU1t0aGlzLmRpbWVuc2lvbl0gKyBcIiBpbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kcyBmb3IgdGhlIHNvdXJjZSBtYXRyaXguXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIEFsbENvb3JkaW5hdGVJbmRleGVyIGV4dGVuZHMgQ29vcmRpbmF0ZUluZGV4ZXIge1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihkaW1lbnNpb246IDEgfCAyKSB7XHJcbiAgICAgICAgc3VwZXIoZGltZW5zaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U2VsZWN0ZWRJbmRpY2VzKG1hdDogTWF0cml4KTogcmVhZG9ubHkgbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiBNYXRsYWJNYXRoLnJhbmdlKDEsIG1hdC5sZW5ndGgodGhpcy5kaW1lbnNpb24pKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaW5kZXhpbmdUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiBcIjpcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmVyaWZ5KG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgLy8gYWx3YXlzIHZhbGlkXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBMb2dpY2FsQ29vcmRpbmF0ZUluZGV4ZXIgZXh0ZW5kcyBDb29yZGluYXRlSW5kZXhlciB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsb2dpY2FsU2VsZWN0aW9uOiBNYXRyaXg7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNlbGVjdGVkSW5kaWNlczogcmVhZG9ubHkgbnVtYmVyW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGRpbWVuc2lvbjogMSB8IDIsIGxvZ2ljYWxTZWxlY3Rpb246IE1hdHJpeCkge1xyXG4gICAgICAgIHN1cGVyKGRpbWVuc2lvbik7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW5kaWNlcyA6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgbG9naWNhbFNlbGVjdGlvbi5kYXRhLmZvckVhY2goKGxvZ2ljYWxWYWx1ZSwgaSkgPT4gbG9naWNhbFZhbHVlICYmIHNlbGVjdGVkSW5kaWNlcy5wdXNoKGkrMSkpOyAvLyBpKzEgdG8gY29udmVydCB0byBNQVRMQUIgMSBiYXNlZCBpbmRleGluZ1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzID0gc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgICAgIHRoaXMubG9naWNhbFNlbGVjdGlvbiA9IGxvZ2ljYWxTZWxlY3Rpb247XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBnZXRTZWxlY3RlZEluZGljZXMobWF0OiBNYXRyaXgpOiByZWFkb25seSBudW1iZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbmRleGluZ1RleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwibG9naWNhbFwiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBsb2dpY2FsIG1hdHJpeCBpcyBub3QgbGFyZ2VyIHRoYW4gdGhlIHJlbGV2YW50IGRpbWVuc2lvblxyXG4gICAgICAgIGxldCBsb2dpY2FsTGVuZ3RoID0gdGhpcy5sb2dpY2FsU2VsZWN0aW9uLm51bWVsO1xyXG4gICAgICAgIGxldCBkaW1MZW4gPSBtYXQubGVuZ3RoKHRoaXMuZGltZW5zaW9uKTtcclxuICAgICAgICBpZiAobG9naWNhbExlbmd0aCA+IGRpbUxlbikge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkxvZ2ljYWwgaW5kZXggbWF0cml4IHRvIHNlbGVjdCBcIiArIENvb3JkaW5hdGVJbmRleGVyLkRJTUVOU0lPTl9OQU1FU1t0aGlzLmRpbWVuc2lvbl0gK1xyXG4gICAgICAgICAgICBcInMgaGFzIFwiICsgbG9naWNhbExlbmd0aCArIFwiIGVsZW1lbnRzLCBidXQgc291cmNlIG1hdHJpeCBvbmx5IGhhcyBcIiArIGRpbUxlbiArXHJcbiAgICAgICAgICAgIENvb3JkaW5hdGVJbmRleGVyLkRJTUVOU0lPTl9OQU1FU1t0aGlzLmRpbWVuc2lvbl0gKyBcInMuXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgTGluZWFyU3ViYXJyYXkgZXh0ZW5kcyBTdWJhcnJheSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoaW5kaWNlczogTWF0cml4IHwgXCI6XCIpIHtcclxuICAgICAgICBpZiAoaW5kaWNlcyA9PT0gXCI6XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbGxMaW5lYXJTdWJhcnJheSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpbmRpY2VzLmRhdGFUeXBlID09PSBcImxvZ2ljYWxcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExvZ2ljYWxMaW5lYXJTdWJhcnJheShpbmRpY2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVndWxhckxpbmVhclN1YmFycmF5KGluZGljZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIFJlZ3VsYXJMaW5lYXJTdWJhcnJheSBleHRlbmRzIExpbmVhclN1YmFycmF5IHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2VsZWN0ZWRJbmRpY2VzOiBNYXRyaXg7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGluZGljZXM6IE1hdHJpeCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMgPSBpbmRpY2VzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdmVyaWZ5KG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YS5mb3JFYWNoKGluZGV4ID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgMSB8fCBtYXQubnVtZWwgPCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJJbmRleCBcIiArIGluZGV4ICsgXCIgaXMgb3V0IG9mIGJvdW5kcyBmb3IgdGhlIHNvdXJjZSBtYXRyaXguXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLnJvd3MsIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmNvbHMsXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmRhdGEubWFwKGluZGV4ID0+IHNvdXJjZS5hdExpbmVhcihpbmRleCkpLFxyXG4gICAgICAgICAgICBzb3VyY2UuZGF0YVR5cGVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgYXNzaWduKHRhcmdldDogTWF0cml4LCB2YWx1ZTogTWF0cml4KSB7XHJcbiAgICAgICAgaWYgKHZhbHVlLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIGxldCBzID0gdmFsdWUuc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YS5mb3JFYWNoKGluZGV4ID0+IHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5zZXRMaW5lYXIoaW5kZXgsIHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3RlZEluZGljZXMubnVtZWwgPT0gdmFsdWUubnVtZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YS5mb3JFYWNoKChpbmRleCwgdmFsdWVJbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldExpbmVhcihpbmRleCwgdmFsdWUuYXRMaW5lYXIodmFsdWVJbmRleCkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICB0aHJvdyBcIlRoZSBsZW5ndGggb2YgdGhlIFJIUyBtYXRyaXggKFwiICsgdmFsdWUubnVtZWwgKyBcIikgZG9lcyBub3QgbWF0Y2ggdGhlXCIgK1xyXG4gICAgICAgICAgICBcIiBudW1iZXIgb2YgaW5kaWNlcyBzZWxlY3RlZCBmcm9tIHRoZSBtYXRyaXggb24gdGhlIExIUyAoXCIgKyB0aGlzLnNlbGVjdGVkSW5kaWNlcy5udW1lbCArIFwiKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluZGV4aW5nVGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gYCgke3RoaXMuc2VsZWN0ZWRJbmRpY2VzLmRhdGEuam9pbihcIixcIil9KWA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9zZWxlY3Rpb24obWF0OiBNYXRyaXgpIHtcclxuICAgICAgICB2YXIgdGFibGUgPSAkKFwiPHRhYmxlPjwvdGFibGU+XCIpO1xyXG4gICAgICAgIHRhYmxlLmFkZENsYXNzKFwibWF0bGFiLWluZGV4XCIpO1xyXG4gICAgICAgIHRhYmxlLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgbWF0LmNvbG9yKTtcclxuICAgICAgICBsZXQgaW5kaWNlc1NldCA9IG5ldyBTZXQodGhpcy5zZWxlY3RlZEluZGljZXMuZGF0YSk7XHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gbWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8PSBtYXQuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGQgPSAkKFwiPHRkIGNsYXNzPSdtYXRsYWItbWF0cml4LWNlbGwnPjxkaXYgY2xhc3M9J2hpZ2hsaWdodCc+PC9kaXY+PC90ZD5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGljZXNTZXQuaGFzKG1hdC5saW5lYXJJbmRleChyLCBjKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5hZGRDbGFzcyhcInNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByYXdJbmRleEVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbiAgICAgICAgICAgICAgICByYXdJbmRleEVsZW0uYWRkQ2xhc3MoXCJtYXRsYWItcmF3LWluZGV4XCIpO1xyXG4gICAgICAgICAgICAgICAgcmF3SW5kZXhFbGVtLmh0bWwoXCJcIiArIG1hdC5saW5lYXJJbmRleChyLGMpKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZChyYXdJbmRleEVsZW0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hZGRDbGFzcyhcIm1hdGxhYi1zY2FsYXJcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcFNwYW4gPSAkKFwiPHNwYW4+PC9zcGFuPlwiKTtcclxuICAgICAgICAgICAgICAgIHRlbXBTcGFuLmh0bWwoXCJcIiArIG1hdC5hdChyLGMpKTtcclxuICAgICAgICAgICAgICAgIHRlbXAuYXBwZW5kKHRlbXBTcGFuKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YWJsZVswXS5vdXRlckhUTUw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEFsbExpbmVhclN1YmFycmF5IGV4dGVuZHMgTGluZWFyU3ViYXJyYXkge1xyXG5cclxuICAgIHB1YmxpYyB2ZXJpZnkobWF0OiBNYXRyaXgpIHtcclxuICAgICAgICAvLyBBbHdheXMgdmFsaWRcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoc291cmNlLm51bWVsLCAxLCBzb3VyY2UuZGF0YSwgc291cmNlLmRhdGFUeXBlKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGFzc2lnbih0YXJnZXQ6IE1hdHJpeCwgdmFsdWU6IE1hdHJpeCkge1xyXG4gICAgICAgIGlmICh2YWx1ZS5pc1NjYWxhcikge1xyXG4gICAgICAgICAgICB0YXJnZXQuZmlsbCh2YWx1ZS5zY2FsYXJWYWx1ZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0Lm51bWVsID09IHZhbHVlLm51bWVsKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5zZXRBbGwodmFsdWUuZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHRocm93IFwiVGhlIGxlbmd0aCBvZiB0aGUgUkhTIG1hdHJpeCAoXCIgKyB2YWx1ZS5udW1lbCArIFwiKSBkb2VzIG5vdCBtYXRjaCB0aGVcIiArXHJcbiAgICAgICAgICAgIFwiIG51bWJlciBvZiBpbmRpY2VzIHNlbGVjdGVkIGZyb20gdGhlIG1hdHJpeCBvbiB0aGUgTEhTIChcIiArIHRhcmdldC5udW1lbCArIFwiKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluZGV4aW5nVGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gYCg6KWBcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX3NlbGVjdGlvbihtYXQ6IE1hdHJpeCkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9ICQoXCI8dGFibGU+PC90YWJsZT5cIik7XHJcbiAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJtYXRsYWItaW5kZXhcIik7XHJcbiAgICAgICAgdGFibGUuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBtYXQuY29sb3IpO1xyXG4gICAgICAgIGZvciAodmFyIHIgPSAxOyByIDw9IG1hdC5yb3dzOyArK3IpIHtcclxuICAgICAgICAgICAgdmFyIHRyID0gJChcIjx0cj48L3RyPlwiKTtcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kKHRyKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgYyA9IDE7IGMgPD0gbWF0LmNvbHM7ICsrYykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRkID0gJChcIjx0ZCBjbGFzcz0nbWF0bGFiLW1hdHJpeC1jZWxsJz48ZGl2IGNsYXNzPSdoaWdobGlnaHQnPjwvZGl2PjwvdGQ+XCIpO1xyXG4gICAgICAgICAgICAgICAgdGQuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmF3SW5kZXhFbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICAgICAgcmF3SW5kZXhFbGVtLmFkZENsYXNzKFwibWF0bGFiLXJhdy1pbmRleFwiKTtcclxuICAgICAgICAgICAgICAgIHJhd0luZGV4RWxlbS5odG1sKFwiXCIgKyBtYXQubGluZWFySW5kZXgocixjKSk7XHJcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQocmF3SW5kZXhFbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgICAgIHRlbXAuYWRkQ2xhc3MoXCJtYXRsYWItc2NhbGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBTcGFuID0gJChcIjxzcGFuPjwvc3Bhbj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wU3Bhbi5odG1sKFwiXCIgKyBtYXQuYXQocixjKSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wLmFwcGVuZCh0ZW1wU3Bhbik7XHJcbiAgICAgICAgICAgICAgICB0ZC5hcHBlbmQodGVtcCk7XHJcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGFibGVbMF0ub3V0ZXJIVE1MO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBMb2dpY2FsTGluZWFyU3ViYXJyYXkgZXh0ZW5kcyBMaW5lYXJTdWJhcnJheSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IGxvZ2ljYWxTZWxlY3Rpb246IE1hdHJpeDtcclxuICAgIHB1YmxpYyByZWFkb25seSBzZWxlY3RlZEluZGljZXM6IHJlYWRvbmx5IG51bWJlcltdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihsb2dpY2FsU2VsZWN0aW9uOiBNYXRyaXgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubG9naWNhbFNlbGVjdGlvbiA9IGxvZ2ljYWxTZWxlY3Rpb247XHJcbiAgICAgICAgYXNzZXJ0KGxvZ2ljYWxTZWxlY3Rpb24uZGF0YVR5cGUgPT09IFwibG9naWNhbFwiKTtcclxuXHJcbiAgICAgICAgbGV0IHNlbGVjdGVkSW5kaWNlcyA6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgbG9naWNhbFNlbGVjdGlvbi5kYXRhLmZvckVhY2goKGxvZ2ljYWxWYWx1ZSwgaSkgPT4gbG9naWNhbFZhbHVlICYmIHNlbGVjdGVkSW5kaWNlcy5wdXNoKGkrMSkpOyAvLyBpKzEgdG8gY29udmVydCB0byBNQVRMQUIgMSBiYXNlZCBpbmRleGluZ1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzID0gc2VsZWN0ZWRJbmRpY2VzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdWJsaWMgdmVyaWZ5KG1hdDogTWF0cml4KSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgbG9naWNhbCBtYXRyaXggaXMgbm90IGxhcmdlciB0aGFuIHRoZSBvbmUgd2UncmUgaW5kZXhpbmdcclxuICAgICAgICBsZXQgbG9naWNhbExlbmd0aCA9IHRoaXMubG9naWNhbFNlbGVjdGlvbi5udW1lbDtcclxuICAgICAgICBsZXQgbWF0TGVuZ3RoID0gbWF0Lm51bWVsO1xyXG4gICAgICAgIGlmIChsb2dpY2FsTGVuZ3RoID4gbWF0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiTG9naWNhbCBpbmRleCBtYXRyaXggaGFzIFwiICsgbG9naWNhbExlbmd0aFxyXG4gICAgICAgICAgICArIFwiIGVsZW1lbnRzLCBidXQgc291cmNlIG1hdHJpeCBvbmx5IGhhcyBcIiArIG1hdExlbmd0aCArIFwiIGVsZW1lbnRzLlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVhZFZhbHVlKHNvdXJjZTogTWF0cml4KSA6IE1hdHJpeCB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkRGF0YSA9IHRoaXMuc2VsZWN0ZWRJbmRpY2VzLm1hcChpID0+IHNvdXJjZS5hdExpbmVhcihpKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmxvZ2ljYWxTZWxlY3Rpb24ucm93cyA9PT0gMSkge1xyXG4gICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgLSBpZiB0aGUgbG9naWNhbCBpbmRleCBtYXRyaXggaXMgYSByb3cgdmVjdG9yLCByZXN1bHQgaXMgc2hhcGVkIGFzIGEgcm93IHZlY3RvclxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCBzZWxlY3RlZERhdGEubGVuZ3RoLCBzZWxlY3RlZERhdGEsIHNvdXJjZS5kYXRhVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnZW5lcmFsIGNhc2UgLSBzaGFwZWQgYXMgYSBjb2x1bW4gdmVjdG9yXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KHNlbGVjdGVkRGF0YS5sZW5ndGgsIDEsIHNlbGVjdGVkRGF0YSwgc291cmNlLmRhdGFUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHB1YmxpYyBhc3NpZ24odGFyZ2V0OiBNYXRyaXgsIHJoczogTWF0cml4KSB7XHJcblxyXG4gICAgICAgIGlmIChyaHMuaXNTY2FsYXIpIHtcclxuICAgICAgICAgICAgbGV0IHNjYWxhclZhbHVlID0gcmhzLnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmZvckVhY2goc2VsZWN0ZWRJbmRleCA9PiB0YXJnZXQuc2V0TGluZWFyKHNlbGVjdGVkSW5kZXgsIHNjYWxhclZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aCA9PT0gcmhzLm51bWVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmZvckVhY2goKHNlbGVjdGVkSW5kZXgsIGkpID0+IHRhcmdldC5zZXRMaW5lYXIoc2VsZWN0ZWRJbmRleCwgcmhzLmRhdGFbaV0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiVGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiB0aGUgUkhTIG1hdHJpeCAoXCIgKyByaHMubnVtZWwgKyBcIikgZG9lcyBub3QgbWF0Y2ggdGhlXCIgK1xyXG4gICAgICAgICAgICBcIiBudW1iZXIgb2Ygc2VsZWN0ZWQgZWxlbWVudHMgaW4gdGhlIGxvZ2ljYWxseSBpbmRleGVkIG1hdHJpeCBvbiB0aGUgTEhTIChcIiArIHRoaXMuc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aCArIFwiKS5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluZGV4aW5nVGV4dCgpIHtcclxuICAgICAgICByZXR1cm4gXCIobG9naWNhbClcIjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX3NlbGVjdGlvbihtYXQ6IE1hdHJpeCkge1xyXG4gICAgICAgIHZhciB0YWJsZSA9ICQoXCI8dGFibGU+PC90YWJsZT5cIik7XHJcbiAgICAgICAgdGFibGUuYWRkQ2xhc3MoXCJtYXRsYWItaW5kZXhcIik7XHJcbiAgICAgICAgdGFibGUuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBtYXQuY29sb3IpO1xyXG4gICAgICAgIGxldCBpbmRpY2VzU2V0ID0gbmV3IFNldCh0aGlzLnNlbGVjdGVkSW5kaWNlcyk7XHJcbiAgICAgICAgZm9yICh2YXIgciA9IDE7IHIgPD0gbWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8PSBtYXQuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGQgPSAkKFwiPHRkIGNsYXNzPSdtYXRsYWItbWF0cml4LWNlbGwnPjxkaXYgY2xhc3M9J2hpZ2hsaWdodCc+PC9kaXY+PC90ZD5cIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNTZWxlY3RlZCA9IGluZGljZXNTZXQuaGFzKG1hdC5saW5lYXJJbmRleChyLCBjKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuYWRkQ2xhc3MoXCJzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbG9naWNhbEluZGV4RWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgICAgIGxvZ2ljYWxJbmRleEVsZW0uYWRkQ2xhc3MoXCJtYXRsYWItcmF3LWluZGV4XCIpO1xyXG4gICAgICAgICAgICAgICAgbG9naWNhbEluZGV4RWxlbS5odG1sKGlzU2VsZWN0ZWQgPyBcIjFcIiA6IFwiMFwiKTtcclxuICAgICAgICAgICAgICAgIHRkLmFwcGVuZChsb2dpY2FsSW5kZXhFbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgICAgIHRlbXAuYWRkQ2xhc3MoXCJtYXRsYWItc2NhbGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBTcGFuID0gJChcIjxzcGFuPjwvc3Bhbj5cIik7XHJcbiAgICAgICAgICAgICAgICB0ZW1wU3Bhbi5odG1sKFwiXCIrbWF0LmF0KHIsYykpO1xyXG4gICAgICAgICAgICAgICAgdGVtcC5hcHBlbmQodGVtcFNwYW4pO1xyXG4gICAgICAgICAgICAgICAgdGQuYXBwZW5kKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kKHRkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0YWJsZVswXS5vdXRlckhUTUw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBWYXJpYWJsZSBpbXBsZW1lbnRzIFZpc3VhbGl6YWJsZSB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogTWF0cml4O1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtOiBKUXVlcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHZhbHVlRWxlbTogSlF1ZXJ5O1xyXG5cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCB2YWx1ZTogTWF0cml4KSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbSA9ICQoJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxzcGFuIGNsYXNzPVwiYmFkZ2UgbWF0bGFiLXZhci1iYWRnZVwiPicgKyBuYW1lICsgJzwvc3Bhbj48L2xpPicpXHJcbiAgICAgICAgICAgIC5wcmVwZW5kKHRoaXMudmFsdWVFbGVtID0gJCgnPHNwYW4gY2xhc3M9XCJtYXRsYWItdmFyLWhvbGRlclwiPjwvc3Bhbj4nKSk7XHJcblxyXG4gICAgICAgIC8vIFNob3cgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWZyZXNoKCkge1xyXG4gICAgICAgIHZhciBob2xkZXIgPSB0aGlzLmVsZW0uZmluZChcIi5tYXRsYWItdmFyLWhvbGRlclwiKTtcclxuICAgICAgICBob2xkZXIuZW1wdHkoKTtcclxuICAgICAgICBob2xkZXIuaHRtbCh0aGlzLnZhbHVlLnZpc3VhbGl6ZV9odG1sKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWYWx1ZSh2YWx1ZTogTWF0cml4KSB7XHJcbiAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLnZhbHVlID0gdmFsdWUuY2xvbmUoKTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBSZW1vdmU/XHJcbiAgICAvLyBtYXRyaXhWYWx1ZSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLnZhbHVlLm1hdHJpeFZhbHVlKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgdmlzdWFsaXplX2h0bWwob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSA6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUudmlzdWFsaXplX2h0bWwob3B0aW9ucyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnR5cGUgTWF0bGFiRnVuY3Rpb25GdW5jVHlwZSA9IChhcmdzOiBNYXRyaXhbXSwgY29uc3RydWN0OiBDb2RlQ29uc3RydWN0KSA9PiBNYXRyaXg7XHJcblxyXG5leHBvcnQgY2xhc3MgTWF0bGFiRnVuY3Rpb24ge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgQVJHU19JTkYgPSAtMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxyXG4gICAgICogQHBhcmFtIG51bUFyZ3MgVGhlIG51bWJlciBvZiBhcmd1bWVudHMgcmVxdWlyZWQgZm9yIHRoZSBmdW5jdGlvbi4gSWYgYSBwYWlyIG9mIG51bWJlcnMsIHNwZWNpZmllcyBhXHJcbiAgICAgKiAgICAgICAgICAgICAgICByYW5nZSAoaW5jbHVzaXZlKSBvZiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhbGxvd2VkLlxyXG4gICAgICogQHBhcmFtIGZ1bmMgQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdGhlIGFyZ3VtZW50IHZhbHVlcyBwYXNzZWQgaW50byB0aGlzIE1BVExBQiBmdW5jdGlvbiBhbmQgcmV0dXJuc1xyXG4gICAgICogICAgICAgICAgICAgdGhlIHZhbHVlIG9mIHRoZSByZXN1bHQgZnJvbSB0aGF0IGZ1bmN0aW9uLiAoTm90ZSB0aGlzIGlzIGEgVHlwZXNjcmlwdCBmdW5jdGlvbiB0aGF0XHJcbiAgICAgKiAgICAgICAgICAgICBlc3NlbnRpYWxseSBcImZha2VzXCIgdGhlIGJsYWNrLWJveCBiZWhhdmlvciBvZiB0aGUgTUFUTEFCIGZ1bmN0aW9uIGJlaGluZCB0aGUgc2NlbmNlcy4pXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnVtQXJnczogbnVtYmVyIHwgW251bWJlciwgbnVtYmVyXSwgcHJpdmF0ZSByZWFkb25seSBmdW5jIDogTWF0bGFiRnVuY3Rpb25GdW5jVHlwZSkge31cclxuXHJcbiAgICBwdWJsaWMgb3BlcmF0ZShjb25zdHJ1Y3Q6IENvZGVDb25zdHJ1Y3QsIGFyZ3M6IE1hdHJpeFtdKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQodGhpcy5mdW5jKGFyZ3MsIGNvbnN0cnVjdCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChtc2cpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcihjb25zdHJ1Y3QsIG1zZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNWYWxpZE51bWJlck9mQXJncyhuOiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLm51bUFyZ3MpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm51bUFyZ3NbMF0gPD0gbiAmJiAobiA8PSB0aGlzLm51bUFyZ3NbMV0gfHwgdGhpcy5udW1BcmdzWzFdID09PSBNYXRsYWJGdW5jdGlvbi5BUkdTX0lORik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbiA9PT0gdGhpcy5udW1BcmdzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNpemVkTWF0cml4KGFyZ3M6IE1hdHJpeFtdKSB7XHJcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLDEsWzBdLFwiZG91YmxlXCIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBsZXQgYXJnID0gYXJnc1swXTtcclxuICAgICAgICBpZiAoYXJnLmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIC8vIEEgc2NhbGFyIGlzIGFjY2VwdGFibGUgYW5kIHByb2R1Y2VzIGEgc3F1YXJlIG1hdHJpeFxyXG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGFyZy5zY2FsYXJWYWx1ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChzaXplLCBzaXplLCBuZXcgQXJyYXkoc2l6ZSpzaXplKSwgXCJkb3VibGVcIikuZmlsbCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgbXVzdCBiZSBhIHJvdyB2ZWN0b3Igd2l0aCByZWFsIHZhbHVlc1xyXG4gICAgICAgICAgICBpZiAoYXJnLnJvd3MgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiVGhlIG9uZS1hcmd1bWVudCB2ZXJzaW9uIG9mIHRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYSBudW1lcmljIHJvdyB2ZWN0b3IgYXMgYW4gaW5wdXQuXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChhcmcuYXRMaW5lYXIoMSksIGFyZy5hdExpbmVhcigyKSwgbmV3IEFycmF5KGFyZy5hdExpbmVhcigxKSAqIGFyZy5hdExpbmVhcigyKSksIFwiZG91YmxlXCIpLmZpbGwoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIGFyZ3MubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgbGV0IG51bVJvd3MgPSBhcmdzWzBdO1xyXG4gICAgICAgIGxldCBudW1Db2xzID0gYXJnc1sxXTtcclxuICAgICAgICBpZiAoIW51bVJvd3MuaXNTY2FsYXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJUaGUgYXJndW1lbnQgZm9yIHRoZSBudW1iZXIgb2Ygcm93cyBtdXN0IGJlIGEgc2NhbGFyLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW51bUNvbHMuaXNTY2FsYXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJUaGUgYXJndW1lbnQgZm9yIHRoZSBudW1iZXIgb2YgY29sdW1ucyBtdXN0IGJlIGEgc2NhbGFyLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChudW1Sb3dzLnNjYWxhclZhbHVlKCksIG51bUNvbHMuc2NhbGFyVmFsdWUoKSwgbmV3IEFycmF5KG51bVJvd3Muc2NhbGFyVmFsdWUoKSAqIG51bUNvbHMuc2NhbGFyVmFsdWUoKSkuZmlsbCgwKSwgXCJkb3VibGVcIik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBcIlNvcnJ5LCBNYXRDcmFiIGRvZXMgbm90IHN1cHBvcnQgbWF0cmljZXMgd2l0aCBtb3JlIHRoYW4gdHdvIGRpbWVuc2lvbnMuXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBtYXRyaXhBY2N1bXVsYXRpb24obWF0OiBNYXRyaXgsIGRpbWVuc2lvbjogTWF0cml4IHwgdW5kZWZpbmVkLCBvcGVyYXRlOiAoYTpudW1iZXIsIGI6bnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgIGxldCBkaW0gPSAxOyAvLyBkZWZhdWx0IHVubGVzcyBvdmVyd3JpdHRlblxyXG4gICAgaWYgKGRpbWVuc2lvbikge1xyXG4gICAgICAgIGlmICghZGltZW5zaW9uLmlzU2NhbGFyIHx8IGRpbWVuc2lvbi5zY2FsYXJWYWx1ZSgpIDwgMSB8fCAhTnVtYmVyLmlzSW50ZWdlcihkaW1lbnNpb24uc2NhbGFyVmFsdWUoKSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJUaGUgc2Vjb25kIGFyZ3VtZW50IHNwZWNpZnlpbmcgdGhlIG9wZXJhdGlvbiBkaW1lbnNpb24gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgc2NhbGFyLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaW0gPSBkaW1lbnNpb24uc2NhbGFyVmFsdWUoKTtcclxuICAgIH0gXHJcblxyXG4gICAgXHJcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGlmIGEgcm93L2NvbCB2ZWN0b3IsIHN1bSB3aG9sZSB0aGluZ1xyXG4gICAgaWYgKG1hdC5pc1ZlY3Rvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KDEsMSxbbWF0LmRhdGEucmVkdWNlKG9wZXJhdGUpXSwgXCJkb3VibGVcIik7IC8vIHdpbGwgY29lcmNlIG90aGVyIG51bWVyaWMgZGF0YXR5cGVzIHRvIGRvdWJsZVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaW0gPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gbWF0LmFjY3VtdWxhdGVDb2xzKG9wZXJhdGUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZGltID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hdC5hY2N1bXVsYXRlUm93cyhvcGVyYXRlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIEJlY2F1c2UgTWF0Q3JhYiBkb2VzIG5vdCBzdXBwb3J0IG1vcmUgdGhhbiB0d28gZGltZW5zaW9uYWwgbWF0cmljZXMsXHJcbiAgICAgICAgLy8gc3VtIHdpdGggYSBkaW1lbnNpb24gaGlnaGVyIHRoYW4gMiB3aWxsIGFsd2F5cyBqdXN0IHJldHVybiB0aGUgb3JpZ2luYWwgbWF0cml4XHJcbiAgICAgICAgcmV0dXJuIG1hdC5jbG9uZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYXRyaXhVbmFyeUZ1bmN0aW9uKG1hdDogTWF0cml4LCBvcGVyYXRlOiAodmFsOm51bWJlcikgPT4gbnVtYmVyKSB7XHJcbiAgICBtYXQgPSBtYXQuY2xvbmUoKTtcclxuICAgIG1hdC5vcGVyYXRlQWxsKG9wZXJhdGUpO1xyXG4gICAgcmV0dXJuIG1hdDtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gbWF0cml4QmluYXJ5RnVuY3Rpb24obWF0MTogTWF0cml4LCBtYXQyOiBNYXRyaXgsIG9wZXJhdGU6ICh2YWwxOm51bWJlciwgdmFsMjogbnVtYmVyKSA9PiBudW1iZXIpIHtcclxuLy8gICAgIG1hdCA9IG1hdC5jbG9uZSgpO1xyXG4vLyAgICAgbWF0Lm9wZXJhdGVBbGwob3BlcmF0ZSk7XHJcbi8vICAgICByZXR1cm4gbWF0O1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBtYXRyaXhGbGlwdWQoYXJnczogTWF0cml4W10pIHtcclxuICAgIGxldCBvcmlnID0gYXJnc1swXTtcclxuICAgIGxldCBuZXdNYXQgPSBvcmlnLmNsb25lKCk7XHJcbiAgICBmb3IobGV0IGMgPSAxOyBjIDw9IG9yaWcuY29sczsgKytjKSB7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG9yaWdpbmFsIGFuZCBmaWxsIG5ldyBpbiBiYWNrd2FyZCBmYXNoaW9uIGZvciBlYWNoIGNvbHVtblxyXG4gICAgICAgIGZvciAobGV0IHJfb3JpZyA9IDEsIHJfbmV3ID0gbmV3TWF0LnJvd3M7IHJfb3JpZyA8PSBvcmlnLnJvd3M7ICsrcl9vcmlnLCAtLXJfbmV3KSB7XHJcbiAgICAgICAgICAgIG5ld01hdC5zZXRBdChyX25ldywgYywgb3JpZy5hdChyX29yaWcsIGMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3TWF0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYXRyaXhGbGlwbHIoYXJnczogTWF0cml4W10pIHtcclxuICAgIGxldCBvcmlnID0gYXJnc1swXTtcclxuICAgIGxldCBuZXdNYXQgPSBvcmlnLmNsb25lKCk7XHJcbiAgICBmb3IobGV0IHIgPSAxOyByIDw9IG9yaWcucm93czsgKytyKSB7XHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIG9yaWdpbmFsIGFuZCBmaWxsIG5ldyBpbiBiYWNrd2FyZCBmYXNoaW9uIGZvciBlYWNoIHJvd1xyXG4gICAgICAgIGZvciAobGV0IGNfb3JpZyA9IDEsIGNfbmV3ID0gbmV3TWF0LmNvbHM7IGNfb3JpZyA8PSBvcmlnLmNvbHM7ICsrY19vcmlnLCAtLWNfbmV3KSB7XHJcbiAgICAgICAgICAgIG5ld01hdC5zZXRBdChyLCBjX25ldywgb3JpZy5hdChyLCBjX29yaWcpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3TWF0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB1bnN1cHBvcnRlZE1hdGxhYkZ1bmN0aW9uKG5hbWU6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIChhcmdzOiBNYXRyaXhbXSkgPT4geyB0aHJvdyBgU29ycnksIE1hdENyYWIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgJHtuYW1lfSBmdW5jdGlvbi5gOyB9O1xyXG59XHJcblxyXG5jb25zdCBNQVRMQUJfRlVOQ1RJT05TIDoge1tpbmRleDogc3RyaW5nXTogTWF0bGFiRnVuY3Rpb259ID0ge1xyXG4gICAgXCJmbGlwbHJcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCBtYXRyaXhGbGlwbHIpLFxyXG4gICAgXCJmbGlwdWRcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCBtYXRyaXhGbGlwdWQpLFxyXG4gICAgXCJmbGlwXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oWzEsMl0sIChhcmdzOiBNYXRyaXhbXSkgPT4ge1xyXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0cml4RmxpcHVkKGFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGRpbWVuc2lvbiA9IGFyZ3NbMV07XHJcbiAgICAgICAgICAgIGlmICghZGltZW5zaW9uLmlzU2NhbGFyIHx8IGRpbWVuc2lvbi5zY2FsYXJWYWx1ZSgpIDwgMSB8fCAhTnVtYmVyLmlzSW50ZWdlcihkaW1lbnNpb24uc2NhbGFyVmFsdWUoKSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiVGhlIHNlY29uZCBhcmd1bWVudCBzcGVjaWZ5aW5nIHRoZSBmbGlwIGRpbWVuc2lvbiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBzY2FsYXIuXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBkaW0gPSBkaW1lbnNpb24uc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICAgICAgaWYgKGRpbSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdHJpeEZsaXB1ZChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaW0gPT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRyaXhGbGlwbHIoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBmbGlwcGluZyBhbG9uZyBhIGhpZ2hlciBkaW1lbnNpb24gZG9lcyBub3RoaW5nLCBzaW5jZSBNYXRDcmFiIG9ubHkgc3VwcG9ydHMgMkQgbWF0cmljZXNcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzWzBdLmNsb25lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KSxcclxuICAgIFwicm90OTBcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IHtcclxuICAgICAgICBsZXQgb3JpZyA9IGFyZ3NbMF07XHJcbiAgICAgICAgbGV0IG5ld01hdCA9IE1hdHJpeC5jcmVhdGVTaXplZChvcmlnLmNvbHMsIG9yaWcucm93cywgXCJkb3VibGVcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gbGFzdCBjb2x1bW4gYmVjb21lcyBmaXJzdCByb3csIDJuZCB0byBsYXN0IGNvbHVtbiBiZWNvbWVzIDJuZCByb3csIGV0Yy5cclxuICAgICAgICBmb3IobGV0IGMgPSBvcmlnLmNvbHMsIHIgPSAxOyBjID49IDE7IC0tYywgKytyKSB7XHJcbiAgICAgICAgICAgIG5ld01hdC5zZXRSb3dEYXRhKHIsIG9yaWcuY29sRGF0YShjKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdNYXQ7XHJcbiAgICB9KSxcclxuICAgIFwiemVyb3NcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbihbMCxNYXRsYWJGdW5jdGlvbi5BUkdTX0lORl0sIChhcmdzOiBNYXRyaXhbXSkgPT4gY3JlYXRlU2l6ZWRNYXRyaXgoYXJncykuZmlsbCgwKSksXHJcbiAgICBcIm9uZXNcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbihbMCxNYXRsYWJGdW5jdGlvbi5BUkdTX0lORl0sIChhcmdzOiBNYXRyaXhbXSkgPT4gY3JlYXRlU2l6ZWRNYXRyaXgoYXJncykuZmlsbCgxKSksXHJcbiAgICBcImV5ZVwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKFswLE1hdGxhYkZ1bmN0aW9uLkFSR1NfSU5GXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdCA9IGNyZWF0ZVNpemVkTWF0cml4KGFyZ3MpLmZpbGwoMCk7XHJcbiAgICAgICAgbGV0IGRpYWdfbGVuID0gTWF0aC5taW4obWF0LnJvd3MsIG1hdC5jb2xzKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDw9IGRpYWdfbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgbWF0LnNldEF0KGksIGksIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF0O1xyXG4gICAgfSksXHJcbiAgICBcInJhbmRpXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oWzAsTWF0bGFiRnVuY3Rpb24uQVJHU19JTkZdLCAoYXJnczogTWF0cml4W10pID0+IHtcclxuICAgICAgICBsZXQgcmFuZ2VNYXQgPSBhcmdzWzBdO1xyXG4gICAgICAgIGxldCBtaW4gPSAxOyAvLyBkZWZhdWx0IG1pbiBvZiAxIHVubGVzcyBzcGVjaWZpZWRcclxuICAgICAgICBsZXQgbWF4OiBudW1iZXI7XHJcblxyXG4gICAgICAgIGlmICghcmFuZ2VNYXQuZGF0YS5ldmVyeSh2ID0+IE51bWJlci5pc0ludGVnZXIodikpKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiVGhlIGZpcnN0IGFyZ3VtZW50IHRvIHJhbmRpIG11c3Qgc3BlY2lmeSBpbnRlZ3JhbCB2YWx1ZShzKS5cIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJhbmdlTWF0Lm51bWVsID09PSAxKSB7XHJcbiAgICAgICAgICAgIG1heCA9IHJhbmdlTWF0LnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJhbmdlTWF0Lm51bWVsID09PSAyKSB7XHJcbiAgICAgICAgICAgIG1pbiA9IHJhbmdlTWF0LmF0TGluZWFyKDEpO1xyXG4gICAgICAgICAgICBtYXggPSByYW5nZU1hdC5hdExpbmVhcigyKTtcclxuICAgICAgICAgICAgaWYgKG1pbiA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJUaGUgc3BlY2lmaWVkIGxvd2VyIGJvdW5kIGZvciByYW5kaSBtdXN0IGJlIDw9IHRoZSBzcGVjaWZpZWQgdXBwZXIgYm91bmQuXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gcmFuZGkgbWF5IG9ubHkgYmUgZWl0aGVyIGEgc2NhbGFyIG9yIGEgdHdvLWVsZW1lbnQgdmVjdG9yLlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGFyZ3Muc2hpZnQoKTsgLy8gcmVtb3ZlIHJhbmdlIGFyZ3VtZW50LCBsZWF2aW5nIG9ubHkgZGltZW5zaW9uc1xyXG5cclxuICAgICAgICBsZXQgbWF0ID0gY3JlYXRlU2l6ZWRNYXRyaXgoYXJncyk7XHJcbiAgICAgICAgbWF0Lm9wZXJhdGVBbGwoKCkgPT4gTWF0bGFiTWF0aC5yYW5kb21JbnRlZ2VySW5jbHVzaXZlKG1pbiwgbWF4KSk7XHJcbiAgICAgICAgcmV0dXJuIG1hdDtcclxuICAgIH0pLFxyXG4gICAgXCJsaW5zcGFjZVwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKFsyLDNdLCAoYXJnczogTWF0cml4W10pID0+IHtcclxuXHJcbiAgICAgICAgLy8gbGluc3BhY2UgZGVmYXVsdHMgdG8gMTAwIGVsZW1lbnRzIGluIHRoZSByYW5nZSBpZiBubyBhbW91bnQgaXMgcHJvdmlkZWRcclxuICAgICAgICBsZXQgbnVtZWwgPSBhcmdzLmxlbmd0aCA9PT0gMyA/IGFyZ3NbMl0uc2NhbGFyVmFsdWUoKSA6IDEwMDtcclxuXHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gYXJnc1swXS5zY2FsYXJWYWx1ZSgpO1xyXG4gICAgICAgIGxldCBlbmQgPSBhcmdzWzFdLnNjYWxhclZhbHVlKCk7XHJcblxyXG4gICAgICAgIGxldCBzdGVwU2l6ZSA9IChlbmQtc3RhcnQpIC8gKG51bWVsIC0gMSk7XHJcblxyXG4gICAgICAgIGxldCBkYXRhID0gcmFuZ2Uoc3RhcnQsIGVuZCArIHN0ZXBTaXplLCBzdGVwU2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoMSwgbnVtZWwsIGRhdGEsIFwiZG91YmxlXCIpO1xyXG4gICAgfSksXHJcbiAgICBcIm1hZ2ljXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiB7XHJcbiAgICAgICAgbGV0IG1hdCA9IGNyZWF0ZVNpemVkTWF0cml4KGFyZ3MpO1xyXG4gICAgICAgIGxldCBuID0gbWF0LnJvd3M7IC8vIG1hdCB3aWxsIGJlIHNxdWFyZSB3aXRoIHNpZGUgbGVuZ3RoIG5cclxuICAgICAgICBpZiAobiAlIDIgIT09IDApIHtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyBkZSBMYSBMb3ViZXJlJ3MgbWV0aG9kIGZvciBvZGQgc2l6ZXMuIHN0YXJ0IGluIG1pZGRsZSBvZiB0b3Agcm93LFxyXG4gICAgICAgICAgICAvLyBtb3ZlIGRpYWdvbmFsbHkgdXAvcmlnaHQgdG8gZmlsbCBpbiBuIGVsZW1lbnRzLlxyXG4gICAgICAgICAgICAvLyBUaGVuIGdvIGRvd24gb25lLCBhbmQgcmVwZWF0IHdpdGggYSBuZXcgZGlhZ29uYWwuIERvIHRoaXMgZm9yIG4gZGlhZ29uYWxzLlxyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIFZhbHVlcyByYW5nZSBmcm9tIDEgdXAgdGhyb3VnaCBuXjIsIGluY2x1c2l2ZVxyXG4gICAgICAgICAgICBsZXQgdmFsID0gMTtcclxuICAgIFxyXG4gICAgICAgICAgICAvLyB1c2UgMCBiYXNlZCBpbmRpY2VzIGhlcmUsIGFkanVzdCB3aGVuIHVzaW5nIHNldEF0IGJlbG93XHJcbiAgICAgICAgICAgIGxldCByID0gMDtcclxuICAgICAgICAgICAgbGV0IGMgPSBNYXRoLmZsb29yKG4vMik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBGaWxsIGluIG4gZGlhZ29uYWxzXHJcbiAgICAgICAgICAgIGZvciAobGV0IGQgPSAwOyBkIDwgbjsgKytkKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIC8vIEVhY2ggZGlhZ29uYWwgaGFzIGxlbmd0aCBuXHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0LnNldEF0KHIgKyAxLCBjICsgMSwgdmFsKyspOyAvLyArMSB0byBhZGp1c3QgdG8gMSBiYXNlZCBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgIHIgPSAociAtIDEgKyBuKSAlIG47IC8vIG1vdmUgdXAsIHdyYXAgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgYyA9IChjICsgMSArIG4pICUgbjsgLy8gbW92ZSByaWdodCwgd3JhcCBpZiBuZWNlc3NhcnlcclxuICAgICAgICAgICAgICAgICAgICAvLyAoTm90ZSB0aGUgZXh0cmEgXCIrIG5cIiBhdm9pZHMgbmVnYXRpdmUgbnVtYmVycyB0aGF0IHdvdWxkIGJyZWFrIHRoZSAlIG9wZXJhdGlvbilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRHJvcCBkb3duIG9uZSBhZnRlciBmaWxsaW5nIGluIGVhY2ggZGlhZ29uYWxcclxuICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdhcyBhbiBleHRyYSByIC0gMSBhbmQgYyArIDEgZWFybGllciwgc28gd2UgYWxzbyBuZWVkIHRvIHVuZG8gdGhvc2UsXHJcbiAgICAgICAgICAgICAgICAvLyBtZWFuaW5nIHdlIHdhbnQgciArIDIgYW5kIGMgLSAxIHRvIGFjaGlldmUgYSBuZXQgb2YgciArIDFcclxuICAgICAgICAgICAgICAgIHIgPSAociArIDIgKyBuKSAlIG47XHJcbiAgICAgICAgICAgICAgICBjID0gKGMgLSAxICsgbikgJSBuO1xyXG4gICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGhlIG1hZ2ljIGFsZ29yaXRobSBmb3IgZXZlbiBjYXNlcyBpcyBtb3JlIGNvbXBsaWNhdGVkLCBzbyBsZXQncyBqdXN0IGhhcmRjb2RlIHNvbWUgZm9yIG5vdy5cclxuICAgICAgICBlbHNlIGlmIChuID09PSAyKSB7XHJcbiAgICAgICAgICAgIG1hdC5zZXRBbGwoWzEsNCwzLDJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobiA9PT0gNCkge1xyXG4gICAgICAgICAgICBtYXQuc2V0QWxsKFsxNiw1LDksNCwyLDExLDcsMTQsMywxMCw2LDE1LDEzLDgsMTIsMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChuID09PSA2KSB7XHJcbiAgICAgICAgICAgIG1hdC5zZXRBbGwoWzM1LDMsMzEsOCwzMCw0LDEsMzIsOSwyOCw1LDM2LDYsNywyLDMzLDM0LDI5LDI2LDIxLDIyLDE3LDEyLDEzLDE5LDIzLDI3LDEwLDE0LDE4LDI0LDI1LDIwLDE1LDE2LDExXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG4gPT09IDgpIHtcclxuICAgICAgICAgICAgbWF0LnNldEFsbChbNjQsOSwxNyw0MCwzMiw0MSw0OSw4LDIsNTUsNDcsMjYsMzQsMjMsMTUsNTgsMyw1NCw0NiwyNywzNSwyMiwxNCw1OSw2MSwxMiwyMCwzNywyOSw0NCw1Miw1LDYwLDEzLDIxLDM2LDI4LDQ1LDUzLDQsNiw1MSw0MywzMCwzOCwxOSwxMSw2Miw3LDUwLDQyLDMxLDM5LDE4LDEwLDYzLDU3LDE2LDI0LDMzLDI1LDQ4LDU2LDFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobiA9PT0gMTApIHtcclxuICAgICAgICAgICAgbWF0LnNldEFsbChbOTIsOTgsNCw4NSw4NiwxNywyMyw3OSwxMCwxMSw5OSw4MCw4MSw4Nyw5MywyNCw1LDYsMTIsMTgsMSw3LDg4LDE5LDI1LDc2LDgyLDEzLDk0LDEwMCw4LDE0LDIwLDIxLDIsODMsODksOTUsOTYsNzcsMTUsMTYsMjIsMyw5LDkwLDkxLDk3LDc4LDg0LDY3LDczLDU0LDYwLDYxLDQyLDQ4LDI5LDM1LDM2LDc0LDU1LDU2LDYyLDY4LDQ5LDMwLDMxLDM3LDQzLDUxLDU3LDYzLDY5LDc1LDI2LDMyLDM4LDQ0LDUwLDU4LDY0LDcwLDcxLDUyLDMzLDM5LDQ1LDQ2LDI3LDQwLDQxLDQ3LDI4LDM0LDY1LDY2LDcyLDUzLDU5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBcIlNvcnJ5LCBNYXRDcmFiIGRvZXMgbm90IHN1cHBvcnQgbWFnaWMgbWF0cmljZXMgb2YgZXZlbiBzaXplIGdyZWF0ZXIgdGhhbiBzaXplIDEwLlwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtYXQ7XHJcbiAgICB9KSxcclxuICAgIFwibnVtZWxcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IE1hdHJpeC5zY2FsYXIoYXJnc1swXS5udW1lbCwgXCJkb3VibGVcIikpLFxyXG4gICAgXCJsZW5ndGhcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IE1hdHJpeC5zY2FsYXIoTWF0aC5tYXgoYXJnc1swXS5yb3dzLCBhcmdzWzBdLmNvbHMpLCBcImRvdWJsZVwiKSksXHJcbiAgICBcInNpemVcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG5ldyBNYXRyaXgoMSwgMiwgW2FyZ3NbMF0ucm93cywgYXJnc1swXS5jb2xzXSwgXCJkb3VibGVcIikpLFxyXG5cclxuICAgIFwic3VtXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oWzEsMl0sIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4QWNjdW11bGF0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0sIChhOm51bWJlciwgYjpudW1iZXIpID0+IGEgKyBiKSksXHJcbiAgICBcInByb2RcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbihbMSwyXSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhBY2N1bXVsYXRpb24oYXJnc1swXSwgYXJnc1sxXSwgKGE6bnVtYmVyLCBiOm51bWJlcikgPT4gYSAqIGIpKSxcclxuICAgIFwibWluXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oWzEsMl0sIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4QWNjdW11bGF0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0sIChhOm51bWJlciwgYjpudW1iZXIpID0+IE1hdGgubWluKGEsIGIpKSksXHJcbiAgICBcIm1heFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKFsxLDJdLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeEFjY3VtdWxhdGlvbihhcmdzWzBdLCBhcmdzWzFdLCAoYTpudW1iZXIsIGI6bnVtYmVyKSA9PiBNYXRoLm1heChhLCBiKSkpLFxyXG5cclxuICAgIFwic3FydFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5zcXJ0KHZhbCkpKSxcclxuICAgIFwic2luXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLnNpbih2YWwpKSksXHJcbiAgICBcImNvc1wiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5jb3ModmFsKSkpLFxyXG4gICAgXCJ0YW5cIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGgudGFuKHZhbCkpKSxcclxuICAgIFwiYXNpblwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5hc2luKHZhbCkpKSxcclxuICAgIFwiYWNvc1wiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5hY29zKHZhbCkpKSxcclxuICAgIFwiYXRhblwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5hdGFuKHZhbCkpKSxcclxuICAgIC8vIFwiYXRhbjJcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigyLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeEJpbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sIGFyZ3NbMV0sICh2YWwxOm51bWJlciwgdmFsMjogbnVtYmVyKSA9PiBNYXRoLmF0YW4yKHZhbDEsIHZhbDIpKSksXHJcbiAgICBcInNpbmhcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGguc2luaCh2YWwpKSksXHJcbiAgICBcImNvc2hcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGguY29zaCh2YWwpKSksXHJcbiAgICBcInRhbmhcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGgudGFuaCh2YWwpKSksXHJcbiAgICBcImFzaW5oXCIgOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdKSA9PiBtYXRyaXhVbmFyeUZ1bmN0aW9uKGFyZ3NbMF0sICh2YWw6bnVtYmVyKSA9PiBNYXRoLmFzaW5oKHZhbCkpKSxcclxuICAgIFwiYWNvc2hcIiA6IG5ldyBNYXRsYWJGdW5jdGlvbigxLCAoYXJnczogTWF0cml4W10pID0+IG1hdHJpeFVuYXJ5RnVuY3Rpb24oYXJnc1swXSwgKHZhbDpudW1iZXIpID0+IE1hdGguYWNvc2godmFsKSkpLFxyXG4gICAgXCJhdGFuaFwiIDogbmV3IE1hdGxhYkZ1bmN0aW9uKDEsIChhcmdzOiBNYXRyaXhbXSkgPT4gbWF0cml4VW5hcnlGdW5jdGlvbihhcmdzWzBdLCAodmFsOm51bWJlcikgPT4gTWF0aC5hdGFuaCh2YWwpKSksXHJcblxyXG4gICAgXCJkaXNwbGF5XCI6IG5ldyBNYXRsYWJGdW5jdGlvbihbMSxNYXRsYWJGdW5jdGlvbi5BUkdTX0lORl0sIHVuc3VwcG9ydGVkTWF0bGFiRnVuY3Rpb24oXCJkaXNwbGF5XCIpKSxcclxuXHJcbiAgICBcImltc2hvd1wiOiBuZXcgTWF0bGFiRnVuY3Rpb24oMSwgKGFyZ3M6IE1hdHJpeFtdLCBjb25zdHJ1Y3Q6IENvZGVDb25zdHJ1Y3QpID0+IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdHJ1Y3QuZW52Lmltc2hvdyhhcmdzWzBdKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoMSwgMSwgWzFdLCBcImRvdWJsZVwiKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRW52aXJvbm1lbnRMaXN0ZW5lciB7XHJcbiAgICBvblZhcmlhYmxlU2V0KHZhcmk6IFZhcmlhYmxlKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVudmlyb25tZW50IHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IGdsb2JhbCA6IEVudmlyb25tZW50O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0R2xvYmFsRW52aXJvbm1lbnQoZWxlbTogSlF1ZXJ5KSB7XHJcbiAgICAgICAgbGV0IGdsb2JhbCA9IG5ldyBFbnZpcm9ubWVudChlbGVtKTtcclxuXHJcbiAgICAgICAgYXNNdXRhYmxlKEVudmlyb25tZW50KS5nbG9iYWwgPSBnbG9iYWw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVtPyA6IEpRdWVyeTtcclxuICAgIHByaXZhdGUgdmFycyA6IHtbaW5kZXg6c3RyaW5nXSA6IFZhcmlhYmxlIHwgdW5kZWZpbmVkIH0gPSB7fTtcclxuICAgIHByaXZhdGUgZnVuY3Rpb25zIDoge1tpbmRleDpzdHJpbmddIDogTWF0bGFiRnVuY3Rpb24gfCB1bmRlZmluZWQgfSA9IHt9O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbmRWYWx1ZVN0YWNrIDogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGltc2hvd0ZpZ3VyZT86IEltc2hvd0ZpZ3VyZTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpc3RlbmVyczogRW52aXJvbm1lbnRMaXN0ZW5lcltdID0gW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yIChlbGVtPzogSlF1ZXJ5LCBpbXNob3dDYW52YXM/OiBKUXVlcnk8SFRNTENhbnZhc0VsZW1lbnQ+KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuICAgICAgICBpZiAoaW1zaG93Q2FudmFzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1zaG93RmlndXJlID0gbmV3IEltc2hvd0ZpZ3VyZShpbXNob3dDYW52YXMpO1xyXG4gICAgICAgICAgICB0aGlzLmltc2hvd0ZpZ3VyZS5pbXNob3cobmV3IE1hdHJpeCg0LDQsWzI1LDIzNCw3MiwxMDAsMjUsMjM0LDcyLDEwMCwyNSwyMzQsNzIsMTAwLDI1LDIzNCw3MiwxMDBdLCBcImRvdWJsZVwiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgYnVpbHQgaW4gZnVuY3Rpb25zIHRvIGVudmlyb25tZW50XHJcbiAgICAgICAgZm9yKGxldCBmdW5jdGlvbk5hbWUgaW4gTUFUTEFCX0ZVTkNUSU9OUykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEZ1bmN0aW9uKGZ1bmN0aW9uTmFtZSwgTUFUTEFCX0ZVTkNUSU9OU1tmdW5jdGlvbk5hbWVdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhc1ZhcihuYW1lIDogc3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFycy5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9va3VwKG5hbWU6IHN0cmluZykgOiBWYXJpYWJsZSB8IE1hdGxhYkZ1bmN0aW9uIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBsZXQgdmFyaSA9IHRoaXMudmFyc1tuYW1lXTtcclxuICAgICAgICBpZiAodmFyaSkge1xyXG4gICAgICAgICAgICAvLyBJZiBhIHZhcmlhYmxlIHdpdGggdGhhdCBuYW1lIGV4aXN0cywgaXQgaXMgZm91bmQgZmlyc3QsXHJcbiAgICAgICAgICAgIC8vIGV2ZW4gaWYgdGhlcmUgaXMgYWxzbyBhIGZ1bmN0aW9uIHdpdGggdGhhdCBzYW1lIG5hbWVcclxuICAgICAgICAgICAgcmV0dXJuIHZhcmk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5mdW5jdGlvbnNbbmFtZV07IC8vIG9yIHVuZGVmaW5lZCBpZiBubyBmdW5jdGlvbnMgd2l0aCB0aGF0IG5hbWUgZWl0aGVyXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhckxvb2t1cChuYW1lOiBzdHJpbmcpIDogVmFyaWFibGUgfCB1bmRlZmluZWQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhcnNbbmFtZV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZ1bmN0aW9uTG9va3VwKG5hbWU6IHN0cmluZykgOiBNYXRsYWJGdW5jdGlvbiB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25zW25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWYXIobmFtZTogc3RyaW5nLCB2YWx1ZTogTWF0cml4KSB7XHJcbiAgICAgICAgbGV0IHZhcmkgPSB0aGlzLnZhcnNbbmFtZV07XHJcbiAgICAgICAgaWYgKHZhcmkpIHtcclxuICAgICAgICAgICAgdmFyaS5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgIHZhcmkgPSBuZXcgVmFyaWFibGUobmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJhbnNcIil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtLmFwcGVuZCh2YXJpLmVsZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW0ucHJlcGVuZCh2YXJpLmVsZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudmFyc1tuYW1lXSA9IHZhcmk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGwgPT4gbC5vblZhcmlhYmxlU2V0KHZhcmkhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZhclVwZGF0ZWQobmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHZhcmkgPSB0aGlzLnZhcnNbbmFtZV07XHJcbiAgICAgICAgYXNzZXJ0KHZhcmkpO1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobCA9PiBsLm9uVmFyaWFibGVTZXQodmFyaSEpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RnVuY3Rpb24obmFtZTogc3RyaW5nLCBmdW5jOiBNYXRsYWJGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMuZnVuY3Rpb25zW25hbWVdID0gZnVuYztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHVzaEVuZFZhbHVlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmVuZFZhbHVlU3RhY2sucHVzaCh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvcEVuZFZhbHVlKCkge1xyXG4gICAgICAgIHRoaXMuZW5kVmFsdWVTdGFjay5wb3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RW5kVmFsdWUoKSA6IG51bWJlciB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kVmFsdWVTdGFja1t0aGlzLmVuZFZhbHVlU3RhY2subGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGltc2hvdyhtYXQ6IE1hdHJpeCkge1xyXG4gICAgICAgIHRoaXMuaW1zaG93RmlndXJlPy5pbXNob3cobWF0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkTGlzdGVuZXIobGlzdGVuZXI6IEVudmlyb25tZW50TGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy52YXJzID0ge307XHJcbiAgICAgICAgLy8gdGhpcy5mdW5jdGlvbnMgPSB7fTsgLy8gRG9uJ3QgZG8gdGhpcy4gaXQga2lsbHMgdGhlIGJ1aWx0IGluIGZ1bmN0aW9uc1xyXG4gICAgICAgIHRoaXMuZWxlbT8uZW1wdHkoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEltc2hvd0ZpZ3VyZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtOiBKUXVlcnk8SFRNTENhbnZhc0VsZW1lbnQ+O1xyXG4gICAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgfCBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihlbGVtOiBKUXVlcnk8SFRNTENhbnZhc0VsZW1lbnQ+KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBlbGVtWzBdLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGltc2hvdyhtYXQ6IE1hdHJpeCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZWxlbVswXS53aWR0aCA9IG1hdC53aWR0aDtcclxuICAgICAgICB0aGlzLmVsZW1bMF0uaGVpZ2h0ID0gbWF0LmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IGltZ0RhdGEgPSB0aGlzLmNvbnRleHQuY3JlYXRlSW1hZ2VEYXRhKG1hdC53aWR0aCwgbWF0LmhlaWdodCk7XHJcblxyXG4gICAgICAgIGZvcihsZXQgciA9IDA7IHIgPCBtYXQucm93czsgKytyKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgYyA9IDA7IGMgPCBtYXQuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaSA9IHIgKiBtYXQud2lkdGggKyBjO1xyXG4gICAgICAgICAgICAgICAgbGV0IGQgPSBtYXQuYXQociArIDEsIGMgKyAxKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGQpO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaSk7XHJcbiAgICAgICAgICAgICAgICBpbWdEYXRhLmRhdGFbNCppXSA9IGQ7ICAgICAvLyByXHJcbiAgICAgICAgICAgICAgICBpbWdEYXRhLmRhdGFbNCppICsgMV0gPSBkOyAvLyBnXHJcbiAgICAgICAgICAgICAgICBpbWdEYXRhLmRhdGFbNCppICsgMl0gPSBkOyAvLyBiXHJcbiAgICAgICAgICAgICAgICBpbWdEYXRhLmRhdGFbNCppICsgM10gPSAyNTU7IC8vIGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YShpbWdEYXRhLCAwLCAwKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB0eXBlIEFTVE5vZGUgPSBhbnk7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29kZUNvbnN0cnVjdCBpbXBsZW1lbnRzIFZpc3VhbGl6YWJsZSB7XHJcblxyXG5cclxuICAgIC8vIFRPRE86IG1vdmUgc29tZXdoZXJlIGFwcHJvcHJpYXRlXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZVJlZFgoKSB7XHJcbiAgICAgICAgcmV0dXJuICQoJzxzdmcgY2xhc3M9XCJtYXRsYWItZXJyb3Itc3ZnXCI+PGxpbmUgeDE9XCItMjBcIiB5MT1cIjgwJVwiIHgyPVwiMTAwJVwiIHkyPVwiMjAlXCIgc3R5bGU9XCJzdHJva2U6cmdiYSgyNTUsMCwwLCAwLjMpO3N0cm9rZS13aWR0aDo1XCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDEwLDApXCI+PC9saW5lPjxsaW5lIHN0eWxlPVwic3Ryb2tlOnJnYmEoMjU1LDAsMCwgMC4zKTtzdHJva2Utd2lkdGg6NVwiIHkyPVwiODAlXCIgeDI9XCIxMDAlXCIgeTE9XCIyMCVcIiB4MT1cIi0yMFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgxMCwwKVwiPjwvbGluZT48L3N2Zz4nKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBpZiAoYXN0W1wid2hhdFwiXSA9PT0gXCJzdGF0ZW1lbnRfZ3JvdXBcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0YXRlbWVudEdyb3VwKGFzdCwgZW52KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFzdFtcIndoYXRcIl0gPT09IFwiYXNzaWdubWVudFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXNzaWdubWVudChhc3QsIGVudik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGFzdFtcIndoYXRcIl0gPT09IFwiaW5kZXhlZF9hc3NpZ25tZW50XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbmRleGVkQXNzaWdubWVudChhc3QsIGVudik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LCBlbnYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgYXN0OiBBU1ROb2RlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGVudjogRW52aXJvbm1lbnQ7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGFzdDogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHRoaXMuYXN0ID0gYXN0O1xyXG4gICAgICAgIHRoaXMuZW52ID0gZW52O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBleGVjdXRlKCk6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdDtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCB2aXN1YWxpemVfaHRtbChvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpOiBzdHJpbmc7XHJcblxyXG59XHJcblxyXG5cclxuXHJcbi8vIENvZGVDb25zdHJ1Y3QuSW5kZXhlZEFzc2lnbm1lbnQgPSBDb2RlQ29uc3RydWN0LmV4dGVuZCh7XHJcbi8vICAgICBfbmFtZSA6IFwiQ29kZUNvbnN0cnVjdC5JbmRleGVkQXNzaWdubWVudFwiLFxyXG5cclxuLy8gICAgIGV2YWx1YXRlIDogZnVuY3Rpb24oKSB7XHJcbi8vICAgICAgICAgdmFyIHNyYyA9IHRoaXMuc3JjO1xyXG4vLyAgICAgICAgIHRoaXMucmhzID0gRXhwcmVzc2lvbi5jcmVhdGVBbmRFdmFsdWF0ZShzcmNbXCJyaHNcIl0pO1xyXG4vLyAgICAgICAgIHRoaXMubGhzID0gRXhwcmVzc2lvbi5jcmVhdGVBbmRFdmFsdWF0ZShzcmNbXCJsaHNcIl0pO1xyXG5cclxuLy8gICAgICAgICB0cnl7XHJcbi8vICAgICAgICAgICAgIHRoaXMubGhzLnZhbHVlLmFzc2lnbih0aGlzLnJocy52YWx1ZS5tYXRyaXhWYWx1ZSgpKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4vLyAgICAgICAgICAgICAvLyBzZXQgdmlzdWFsaXphdGlvbiB0byBlcnJvciBzdGF0ZVxyXG4vLyAgICAgICAgICAgICB0aGlzLmVyciA9IGVycjtcclxuLy8gICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4vLyAgICAgICAgICAgICBlcnIudmlzdWFsaXplX2h0bWwgPSBmdW5jdGlvbihlbGVtKXtcclxuLy8gICAgICAgICAgICAgICAgIHNlbGYudmlzdWFsaXplX2h0bWwoZWxlbSlcclxuLy8gICAgICAgICAgICAgfTtcclxuLy8gICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgLy8gcmV0dXJuIHVuZGVmaW5lZFxyXG4vLyAgICAgfSxcclxuXHJcbi8vICAgICB2aXN1YWxpemVfaHRtbCA6IGZ1bmN0aW9uKGVsZW0pIHtcclxuLy8gICAgICAgICB2YXIgd3JhcHBlciA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuXHJcbi8vICAgICAgICAgdmFyIHRvcCA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuLy8gICAgICAgICB0b3AuYWRkQ2xhc3MoXCJtYXRsYWItYXNzaWdubWVudFwiKTtcclxuLy8gICAgICAgICB2YXIgbGhzRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuLy8gICAgICAgICB0aGlzLmxocy52aXN1YWxpemVfaHRtbChsaHNFbGVtKTtcclxuLy8gICAgICAgICB0b3AuYXBwZW5kKGxoc0VsZW0pO1xyXG5cclxuLy8gICAgICAgICB0b3AuYXBwZW5kKFwiJm5ic3A7PSZuYnNwO1wiKTtcclxuXHJcbi8vICAgICAgICAgdmFyIHJoc0VsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbi8vICAgICAgICAgdGhpcy5yaHMudmlzdWFsaXplX2h0bWwocmhzRWxlbSk7XHJcbi8vICAgICAgICAgdG9wLmFwcGVuZChyaHNFbGVtKTtcclxuXHJcbi8vICAgICAgICAgaWYgKHRoaXMuZXJyKXtcclxuLy8gICAgICAgICAgICAgdG9wLmFwcGVuZCh0aGlzLmNyZWF0ZVJlZFgoKSk7XHJcbi8vICAgICAgICAgfVxyXG5cclxuLy8gICAgICAgICB2YXIgYm90dG9tID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4vLyAgICAgICAgIGJvdHRvbS5hZGRDbGFzcyhcIm1hdGxhYi1hc3NpZ25tZW50LXJlc3VsdFwiKTtcclxuXHJcbi8vICAgICAgICAgaWYgKCF0aGlzLmVycikge1xyXG4vLyAgICAgICAgICAgICBib3R0b20uYXBwZW5kKHRoaXMubGhzLnZhbHVlLnZhcmlhYmxlKCkubmFtZSk7XHJcbi8vICAgICAgICAgICAgIGJvdHRvbS5hcHBlbmQoXCIgaXMgbm93IFwiKTtcclxuXHJcbi8vICAgICAgICAgICAgIHZhciB2YWx1ZUVsZW0gPSAkKFwiPGRpdj48L2Rpdj5cIik7XHJcbi8vICAgICAgICAgICAgIHRoaXMubGhzLnZhbHVlLnZhcmlhYmxlKCkudmlzdWFsaXplX2h0bWwodmFsdWVFbGVtKTtcclxuLy8gICAgICAgICAgICAgYm90dG9tLmFwcGVuZCh2YWx1ZUVsZW0pO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICB2YXIgZXJyRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuLy8gICAgICAgICAgICAgZXJyRWxlbS5hZGRDbGFzcyhcIm1hdGxhYi1leHAtZXJyb3JcIik7XHJcbi8vICAgICAgICAgICAgIGVyckVsZW0uaHRtbCh0aGlzLmVyci5tZXNzYWdlKTtcclxuLy8gICAgICAgICAgICAgYm90dG9tLmFwcGVuZChlcnJFbGVtKTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHdyYXBwZXIuYXBwZW5kKHRvcCk7XHJcbi8vICAgICAgICAgd3JhcHBlci5hcHBlbmQoYm90dG9tKTtcclxuXHJcbi8vICAgICAgICAgZWxlbS5hcHBlbmQod3JhcHBlcik7XHJcbi8vICAgICB9XHJcbi8vIH0pO1xyXG5cclxuZXhwb3J0IHR5cGUgRXhwcmVzc2lvblZhbHVlID0gTWF0cml4O1xyXG5cclxuZXhwb3J0IHR5cGUgRXhwcmVzc2lvblN0YXRlID0gXCJ1bmV4ZWN1dGVkXCIgfCBcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVW5leGVjdXRlZEV4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJ1bmV4ZWN1dGVkXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgcmVhZG9ubHkga2luZDogXCJzdWNjZXNzXCI7XHJcbiAgICByZWFkb25seSB2YWx1ZTogRXhwcmVzc2lvblZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yRXhwcmVzc2lvblJlc3VsdCB7XHJcbiAgICByZWFkb25seSBraW5kOiBcImVycm9yXCI7XHJcbiAgICByZWFkb25seSBlcnJvcjogTWF0bGFiRXJyb3I7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3ViZXhwcmVzc2lvbkVycm9yRXhwcmVzc2lvblJlc3VsdCB7XHJcbiAgICByZWFkb25seSBraW5kOiBcInN1YmV4cHJlc3Npb25FcnJvclwiO1xyXG4gICAgcmVhZG9ubHkgZXJyb3I6IE1hdGxhYkVycm9yO1xyXG59XHJcblxyXG5jb25zdCBVTkVYRUNVVEVEIDoge2tpbmQ6IFwidW5leGVjdXRlZFwifSA9IHtraW5kOiBcInVuZXhlY3V0ZWRcIn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWxsU3VjY2VzcyhyZXN1bHRzOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHRbXSk6IHJlc3VsdHMgaXMgU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHRbXSB7XHJcbiAgICByZXR1cm4gcmVzdWx0cy5ldmVyeShyID0+IHIua2luZCA9PT0gXCJzdWNjZXNzXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdWNjZXNzUmVzdWx0KHZhbHVlOiBFeHByZXNzaW9uVmFsdWUpIDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBraW5kOiBcInN1Y2Nlc3NcIixcclxuICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVycm9yUmVzdWx0KGVycm9yOiBNYXRsYWJFcnJvcikgOiBFcnJvckV4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBraW5kOiBcImVycm9yXCIsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBFeHByZXNzaW9uUmVzdWx0ID0gVW5leGVjdXRlZEV4cHJlc3Npb25SZXN1bHQgfCBTdWNjZXNzRXhwcmVzc2lvblJlc3VsdCB8IEVycm9yRXhwcmVzc2lvblJlc3VsdDtcclxuXHJcbnR5cGUgRXhlY3V0ZWRFeHByZXNzaW9uUmVzdWx0ID0gU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQgfCBFcnJvckV4cHJlc3Npb25SZXN1bHQ7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRXhwcmVzc2lvbiBleHRlbmRzIENvZGVDb25zdHJ1Y3Qge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByZXN1bHQ6IEV4cHJlc3Npb25SZXN1bHQgPSBVTkVYRUNVVEVEO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKGFzdDogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGFzdFtcIndoYXRcIl0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdyYW1tYXJUb1N1YmNsYXNzW2FzdFtcIndoYXRcIl1dKGFzdCwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYXAgZnJvbSBcIndoYXRcIiBrZXkgaW4gc3JjIGdlbmVyYXRlZCBieSBncmFtbWFyIHRvXHJcbiAgICAvLyB0aGUgbmFtZSBvZiB0aGUgc3ViY2xhc3MgaW4gdGhlIGNvZGUuXHJcbiAgICAvLyBUT0RPOiBSZXZpc2UgdG8gdXNlIGZhY3RvcnkgcGF0dGVybiBvciBhYnN0cmFjdCBmYWN0b3J5IHBhdHRlcm4/XHJcbiAgICBwcml2YXRlIHN0YXRpYyBncmFtbWFyVG9TdWJjbGFzcyA6IHtbaW5kZXg6IHN0cmluZ106IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBFeHByZXNzaW9ufSA9IHtcclxuICAgICAgICBcIm1hdHJpeF9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBNYXRyaXhFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJyb3dfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgUm93RXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwicmFuZ2VfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgUmFuZ2VFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJvcl9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBNYXRyaXhPckV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcImFuZF9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBNYXRyaXhBbmRFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJlcV9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBFcXVhbGl0eUV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcInJlbF9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBSZWxhdGlvbmFsRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiYWRkX2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IEFkZEV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcIm11bHRfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgTXVsdEV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcInVuYXJ5X2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IFVuYXJ5T3BlcmF0b3JFeHByZXNzaW9uKGEsIGVudiksXHJcbiAgICAgICAgXCJ0cmFuc3Bvc2VfZXhwXCI6IChhOiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSA9PiBuZXcgVHJhbnNwb3NlRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiY2FsbF9leHBcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBJbmRleE9yQ2FsbEV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcImNvbG9uX2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IENvbG9uRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiZW5kX2V4cFwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IEVuZEV4cHJlc3Npb24oYSwgZW52KSxcclxuICAgICAgICBcImludGVnZXJcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBMaXRlcmFsRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiZmxvYXRcIjogKGE6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpID0+IG5ldyBMaXRlcmFsRXhwcmVzc2lvbihhLCBlbnYpLFxyXG4gICAgICAgIFwiaWRlbnRpZmllclwiOiAoYTogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkgPT4gbmV3IElkZW50aWZpZXJFeHByZXNzaW9uKGEsIGVudilcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFJlc3VsdChyZXN1bHQ6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCkge1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5yZXN1bHQgPSByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETzogcHJvYmFibHkgcmVtb3ZlIHRoaXMuIGV4Y2VwdGlvbnMgdW5kZXNpcmFibGUgaGVyZVxyXG4gICAgLy8gcHVibGljIHJlcXVpcmVWYWx1ZSgpIHtcclxuICAgIC8vICAgICBpZiAodGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0LnZhbHVlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBlbHNlIGlmICh0aGlzLnJlc3VsdC5raW5kID09PSBcImVycm9yXCIpIHtcclxuICAgIC8vICAgICAgICAgdGhyb3cgdGhpcy5yZXN1bHQuZXJyb3I7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICB0aHJvdyB0aGlzLnJlc3VsdDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGV4ZWN1dGUoKSA6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCB7XHJcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuZXZhbHVhdGUoKTtcclxuICAgICAgICB0aGlzLnNldFJlc3VsdChyZXMpO1xyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IGV2YWx1YXRlKCkgOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQ7XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9odG1sKG9wdGlvbnM/OiBWaXN1YWxpemF0aW9uT3B0aW9ucykgOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBlbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgIGxldCBleHByID0gJChgPGRpdiBjbGFzcz1cIm1hdGxhYi1leHBcIj4ke3RoaXMudmlzdWFsaXplX2V4cHIob3B0aW9ucyl9PC9kaXY+YCkuYXBwZW5kVG8oZWxlbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0LmtpbmQgPT09IFwiZXJyb3JcIiAmJiB0aGlzLnJlc3VsdC5lcnJvci5jb25zdHJ1Y3QgPT09IHRoaXMpIHtcclxuICAgICAgICAgICAgZXhwci5hcHBlbmQoQ29kZUNvbnN0cnVjdC5jcmVhdGVSZWRYKCkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGJvdHRvbSA9ICQoYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC1ib3R0b21cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXRsYWItZXhwLWVycm9yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnJlc3VsdC5lcnJvci5tZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PmApO1xyXG4gICAgICAgICAgICBlbGVtLmFwcGVuZChib3R0b20pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1bMF0ub3V0ZXJIVE1MO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBhYnN0cmFjdCB2aXN1YWxpemVfZXhwcihvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpOiBzdHJpbmc7XHJcblxyXG59XHJcblxyXG4vLyBUT0RPOiBsaHMgc2hvdWxkIG5vdCB1c2UgSWRlbnRpZmllckV4cHJlc3Npb24/IHNob3VsZCBqdXN0IGJlIG5hbWUsIEkgdGhpbmtcclxuZXhwb3J0IGNsYXNzIEFzc2lnbm1lbnQgZXh0ZW5kcyBDb2RlQ29uc3RydWN0IHtcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHJoczogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBsaHM6IElkZW50aWZpZXJFeHByZXNzaW9uO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB1cGRhdGVkVmFsdWU/OiBNYXRyaXg7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMubGhzID0gPElkZW50aWZpZXJFeHByZXNzaW9uPkV4cHJlc3Npb24uY3JlYXRlKGFzdFtcImlkZW50aWZpZXJcIl0sIGVudilcclxuICAgICAgICB0aGlzLnJocyA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdFtcImV4cFwiXSwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXhlY3V0ZSgpIHtcclxuXHJcbiAgICAgICAgbGV0IHJoc1Jlc3VsdCA9IHRoaXMucmhzLmV4ZWN1dGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHJoc1Jlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmhzUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGVudiA9IHRoaXMuZW52O1xyXG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5saHMubmFtZTtcclxuXHJcbiAgICAgICAgZW52LnNldFZhcihuYW1lLCByaHNSZXN1bHQudmFsdWUpO1xyXG4gICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS51cGRhdGVkVmFsdWUgPSByaHNSZXN1bHQudmFsdWU7XHJcblxyXG4gICAgICAgIHJldHVybiByaHNSZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9odG1sKCkge1xyXG4gICAgICAgIGxldCBlbGVtID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4gICAgICAgIGxldCB0b3AgPSBcclxuICAgICAgICBgPGRpdiBjbGFzcz1cIm1hdGxhYi1hc3NpZ25tZW50XCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5saHMubmFtZX1cclxuICAgICAgICAgICAgJm5ic3A7PSZuYnNwO1xyXG4gICAgICAgICAgICAke3RoaXMucmhzLnZpc3VhbGl6ZV9odG1sKCl9XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICBlbGVtLmFwcGVuZCh0b3ApO1xyXG5cclxuICAgICAgICBpZiAodGhpcy51cGRhdGVkVmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IGJvdHRvbSA9IGA8ZGl2IGNsYXNzPVwibWF0bGFiLWFzc2lnbm1lbnQtcmVzdWx0XCI+XHJcbiAgICAgICAgICAgICAgICAke3RoaXMubGhzLm5hbWV9IGlzIG5vdyAke3RoaXMudXBkYXRlZFZhbHVlLnZpc3VhbGl6ZV9odG1sKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgIGVsZW0uYXBwZW5kKGJvdHRvbSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZWxlbVswXS5vdXRlckhUTUw7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRPRE86IHJlZHVjZSBjb2RlIGR1cGxpY2F0aW9uIGJldHdlZW4gSW5kZXhlZEFzc2lnbm1lbnQgYW5kIEluZGV4T3JDYWxsRXhwcmVzc2lvblxyXG5jbGFzcyBJbmRleGVkQXNzaWdubWVudCBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0TmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGljaWVzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmhzOiBFeHByZXNzaW9uO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3ViYXJyYXlSZXN1bHQ/OiBTdWJhcnJheTtcclxuICAgIHB1YmxpYyByZWFkb25seSBvcmlnaW5hbE1hdHJpeD86IE1hdHJpeDtcclxuICAgIHB1YmxpYyByZWFkb25seSB1cGRhdGVkTWF0cml4PzogTWF0cml4O1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgLy8gVE9ETzogbWF5IGJlIG5pY2UgdG8gY2hhbmdlIGdyYW1tYXIgaGVyZSB0byBub3QgaGF2ZSBhIG5lc3RlZCBpZGVudGlmaWVyXHJcbiAgICAgICAgdGhpcy50YXJnZXROYW1lID0gYXN0W1wibGhzXCJdW1widGFyZ2V0XCJdO1xyXG4gICAgICAgIHRoaXMuaW5kaWNpZXMgPSBhc3RbXCJsaHNcIl1bXCJhcmdzXCJdLm1hcCgoaTpBU1ROb2RlKSA9PiBFeHByZXNzaW9uLmNyZWF0ZShpLCBlbnYpKTtcclxuICAgICAgICB0aGlzLnJocyA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdFtcInJoc1wiXSwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPOiBjaGFuZ2UgdG8gZXhlY3V0ZVxyXG4gICAgcHVibGljIGV2YWx1YXRlKCkgOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQge1xyXG4gICAgICAgIGxldCB2YXJpID0gdGhpcy5lbnYubG9va3VwKHRoaXMudGFyZ2V0TmFtZSk7XHJcbiAgICAgICAgaWYgKCF2YXJpIHx8IHZhcmkgaW5zdGFuY2VvZiBNYXRsYWJGdW5jdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiU29ycnksIEkgY2FuJ3QgZmluZCBhIHZhcmlhYmxlIG5hbWVkIFwiICsgdGhpcy50YXJnZXROYW1lKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gdmFyaS52YWx1ZTtcclxuICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykub3JpZ2luYWxNYXRyaXggPSB0YXJnZXQuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW5kaWNpZXMubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiU29ycnksIGluZGV4aW5nIGluIG1vcmUgdGhhdCB0d28gZGltZW5zaW9ucyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZC5cIikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHJoc1Jlc3VsdCA9IHRoaXMucmhzLmV4ZWN1dGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHJoc1Jlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmhzUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGluZGljZXNSZXN1bHRzID0gdGhpcy5pbmRpY2llcy5tYXAoKGluZGV4LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGljaWVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRm9yIGxpbmVhciBpbmRleGluZywgZW5kIGtleXdvcmQgZXZhbHVhdGVzIHRvIG51bWVsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVudi5wdXNoRW5kVmFsdWUodGFyZ2V0Lm51bWVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEZvciByb3cvY29sdW1uIGluZGV4aW5nLCBlbmQga2V5d29yZCBldmFsdWF0ZXMgdG8gbGVuZ3RoIGFsb25nIGluZGV4IGRpbWVuc2lvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbnYucHVzaEVuZFZhbHVlKHRhcmdldC5sZW5ndGgoPDF8Mj4oaSsxKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCByZXMgPSBpbmRleC5leGVjdXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW52LnBvcEVuZFZhbHVlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFhbGxTdWNjZXNzKGluZGljZXNSZXN1bHRzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kaWNlc1Jlc3VsdHMuZmluZChyID0+IHtyZXR1cm4gci5raW5kICE9PSBcInN1Y2Nlc3NcIjt9KSE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kaWNlc1Jlc3VsdHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5zdWJhcnJheVJlc3VsdCA9IExpbmVhclN1YmFycmF5LmNyZWF0ZShcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNpZXNbMF0gaW5zdGFuY2VvZiBDb2xvbkV4cHJlc3Npb24gPyBcIjpcIiA6IGluZGljZXNSZXN1bHRzWzBdLnZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5zdWJhcnJheVJlc3VsdCA9IENvb3JkaW5hdGVTdWJhcnJheS5jcmVhdGUoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluZGljaWVzWzBdIGluc3RhbmNlb2YgQ29sb25FeHByZXNzaW9uID8gXCI6XCIgOiBpbmRpY2VzUmVzdWx0c1swXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNpZXNbMV0gaW5zdGFuY2VvZiBDb2xvbkV4cHJlc3Npb24gPyBcIjpcIiA6IGluZGljZXNSZXN1bHRzWzFdLnZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViYXJyYXlSZXN1bHQhLnZlcmlmeSh2YXJpLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5zdWJhcnJheVJlc3VsdCEuYXNzaWduKHZhcmkudmFsdWUsIHJoc1Jlc3VsdC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHZhcmkucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB0aGlzLmVudi52YXJVcGRhdGVkKHZhcmkubmFtZSk7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS51cGRhdGVkTWF0cml4ID0gdmFyaS52YWx1ZS5jbG9uZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdCh0aGlzLnVwZGF0ZWRNYXRyaXghKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2gobXNnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgbXNnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmlzdWFsaXplX2V4cHIob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSB7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZUh0bWw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxNYXRyaXggJiYgdGhpcy5zdWJhcnJheVJlc3VsdCkge1xyXG4gICAgICAgICAgICB2YWx1ZUh0bWwgPSB0aGlzLnN1YmFycmF5UmVzdWx0LnZpc3VhbGl6ZV9zZWxlY3Rpb24odGhpcy5vcmlnaW5hbE1hdHJpeCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy9UT0RPXHJcbiAgICAgICAgICAgIHZhbHVlSHRtbCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCB0b3AgPSBgPGRpdiBjbGFzcz1cIm1hdGxhYi1hc3NpZ25tZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC1pbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7dmFsdWVIdG1sfVxyXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5zdWJhcnJheVJlc3VsdCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWlkZW50aWZpZXItbmFtZVwiPiR7dGhpcy50YXJnZXROYW1lfTxzcGFuIGNsYXNzPVwibWF0bGFiLWluZGV4aW5nLXRleHRcIj4ke3RoaXMuc3ViYXJyYXlSZXN1bHQuaW5kZXhpbmdUZXh0KCl9PC9zcGFuPjwvZGl2PmAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz1cIm1hdGxhYi1pZGVudGlmaWVyLW5hbWVcIj4ke3RoaXMudGFyZ2V0TmFtZX08L2Rpdj5gfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICZuYnNwOz0mbmJzcDtcclxuICAgICAgICAgICAgJHt0aGlzLnJocy52aXN1YWxpemVfaHRtbCgpfVxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IHRoaXMudXBkYXRlZE1hdHJpeCA/IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGxhYi1hc3NpZ25tZW50LXJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLnRhcmdldE5hbWV9IGlzIG5vdyAke3RoaXMudXBkYXRlZE1hdHJpeC52aXN1YWxpemVfaHRtbCgpfVxyXG4gICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgICAgIDogXCJcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2PlxyXG4gICAgICAgICAgICAke3RvcH1cclxuICAgICAgICAgICAgJHtib3R0b219XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU3RhdGVtZW50ID0gQXNzaWdubWVudCB8IEluZGV4ZWRBc3NpZ25tZW50IHwgRXhwcmVzc2lvbjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZW1lbnRHcm91cCBleHRlbmRzIENvZGVDb25zdHJ1Y3Qge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGVtZW50czogcmVhZG9ubHkgU3RhdGVtZW50W107XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IHVwZGF0ZWRWYWx1ZT86IE1hdHJpeDtcclxuXHJcbiAgICBwcml2YXRlIGxhc3RTdGF0ZW1lbnRFeGVjdXRlZD86IFN0YXRlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5zdGF0ZW1lbnRzID0gYXN0LnN0YXRlbWVudHMubWFwKChzQXN0OiBBU1ROb2RlKSA9PiBDb2RlQ29uc3RydWN0LmNyZWF0ZShzQXN0LCBlbnYpKTtcclxuICAgICAgICBhc3NlcnQodGhpcy5zdGF0ZW1lbnRzLmxlbmd0aCA+IDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleGVjdXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0OiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQ7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGVtZW50cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBsZXQgc3RhdGVtZW50ID0gdGhpcy5zdGF0ZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTdGF0ZW1lbnRFeGVjdXRlZCA9IHN0YXRlbWVudDtcclxuICAgICAgICAgICAgcmVzdWx0ID0gc3RhdGVtZW50LmV4ZWN1dGUoKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCE7IC8vICEgYmVjYXVzZSBzdGF0ZW1lbnRzIGxlbmd0aCBjYW5ub3QgYmUgMCAoc2VlIGN0b3IpXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9odG1sKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RTdGF0ZW1lbnRFeGVjdXRlZCEudmlzdWFsaXplX2h0bWwoKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTWF0cml4RXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSByb3dzOiByZWFkb25seSBFeHByZXNzaW9uW107XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFzdDogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHN1cGVyKGFzdCwgZW52KTtcclxuICAgICAgICB0aGlzLnJvd3MgPSBhc3RbXCJyb3dzXCJdLm1hcCgocjphbnkpID0+IEV4cHJlc3Npb24uY3JlYXRlKHIsIGVudikpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBldmFsdWF0ZSgpIHtcclxuXHJcbiAgICAgICAgbGV0IHJvd1Jlc3VsdHMgPSB0aGlzLnJvd3MubWFwKHIgPT4gci5leGVjdXRlKCkpO1xyXG4gICAgICAgIGlmIChhbGxTdWNjZXNzKHJvd1Jlc3VsdHMpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwZW5kX3Jvd3Mocm93UmVzdWx0cy5tYXAociA9PiByLnZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcm93UmVzdWx0cy5maW5kKHIgPT4ge3JldHVybiByLmtpbmQgIT09IFwic3VjY2Vzc1wiO30pITtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwZW5kX3Jvd3MobWF0czogTWF0cml4W10pIDogRXhlY3V0ZWRFeHByZXNzaW9uUmVzdWx0IHtcclxuICAgICAgICB2YXIgbmV3Q29scyA6IG51bWJlcltdW10gPSBbXTtcclxuICAgICAgICB2YXIgY29scyA9IG1hdHNbMF0uY29scztcclxuICAgICAgICB2YXIgbmV3Um93cyA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvbHM7ICsraSkge1xyXG4gICAgICAgICAgICBuZXdDb2xzLnB1c2goW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbWF0cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgbWF0ID0gbWF0c1tpXTtcclxuICAgICAgICAgICAgbmV3Um93cyArPSBtYXQucm93cztcclxuICAgICAgICAgICAgaWYgKG1hdC5jb2xzICE9PSBjb2xzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiTWlzbWF0Y2hlZCBtYXRyaXggbnVtYmVyIG9mIGNvbHVtbnMuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IodmFyIGMgPSAwOyBjIDwgY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIHIgPSAwOyByIDwgbWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbHNbY10ucHVzaChtYXQuYXQocisxLCBjKzEpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV3RGF0YSA9ICg8QXJyYXk8bnVtYmVyPj5bXSkuY29uY2F0LmFwcGx5KFtdLCBuZXdDb2xzKTtcclxuICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdChuZXcgTWF0cml4KG5ld1Jvd3MsIGNvbHMsIG5ld0RhdGEsXHJcbiAgICAgICAgICAgIG1hdHMuc29tZShtID0+IG0uZGF0YVR5cGUgPT09IFwiZG91YmxlXCIpID8gXCJkb3VibGVcIiA6IG1hdHNbMF0uZGF0YVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgdmFyIHRhYmxlID0gJChcIjx0YWJsZT48L3RhYmxlPlwiKTtcclxuICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi10YWJsZVwiKTtcclxuICAgICAgICBsZXQgY29sb3IgPSBDb2xvci5XSElURTtcclxuICAgICAgICBpZiAodGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgY29sb3IgPSB0aGlzLnJlc3VsdC52YWx1ZS5jb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFibGUuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBjb2xvcik7XHJcblxyXG4gICAgICAgIHZhciByb3dzID0gdGhpcy5yb3dzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgdHIgPSAkKFwiPHRyPjwvdHI+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmQodHIpO1xyXG4gICAgICAgICAgICB2YXIgdGQgPSAkKFwiPHRkIGNsYXNzPSdtYXRsYWItbWF0cml4LWNlbGwnPjwvdGQ+XCIpO1xyXG4gICAgICAgICAgICB0ci5hcHBlbmQodGQpO1xyXG4gICAgICAgICAgICB0ZC5odG1sKHJvd3NbaV0udmlzdWFsaXplX2h0bWwoe2NvbnRhaW5lZDogdHJ1ZX0pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhYmxlWzBdLm91dGVySFRNTDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgUm93RXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5jb2xzID0gYXN0W1wiY29sc1wiXS5tYXAoKHI6YW55KSA9PiBFeHByZXNzaW9uLmNyZWF0ZShyLCBlbnYpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZhbHVhdGUoKSB7XHJcbiAgICAgICAgbGV0IGNvbFJlc3VsdHMgPSB0aGlzLmNvbHMubWFwKGMgPT4gYy5leGVjdXRlKCkpO1xyXG5cclxuICAgICAgICBpZiAoYWxsU3VjY2Vzcyhjb2xSZXN1bHRzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHBlbmRfY29scyhjb2xSZXN1bHRzLm1hcChjID0+IGMudmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xSZXN1bHRzLmZpbmQociA9PiB7cmV0dXJuIHIua2luZCAhPT0gXCJzdWNjZXNzXCI7fSkhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcGVuZF9jb2xzKG1hdHM6IE1hdHJpeFtdKSA6IEV4ZWN1dGVkRXhwcmVzc2lvblJlc3VsdCB7XHJcbiAgICAgICAgdmFyIHJvd3MgPSBtYXRzWzBdLnJvd3M7XHJcblxyXG4gICAgICAgIGlmIChtYXRzLnNvbWUobSA9PiB7cmV0dXJuIG0ucm93cyAhPSByb3dzfSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBcIk1pc21hdGNoZWQgbWF0cml4IG51bWJlciBvZiByb3dzLlwiKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdChuZXcgTWF0cml4KFxyXG4gICAgICAgICAgICBtYXRzWzBdLnJvd3MsXHJcbiAgICAgICAgICAgIG1hdHMucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cnJlbnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBjdXJyZW50LmNvbHM7XHJcbiAgICAgICAgICAgIH0sMCksXHJcbiAgICAgICAgICAgIG1hdHMucmVkdWNlKGZ1bmN0aW9uKG5ld0RhdGEsIG1hdCl7XHJcbiAgICAgICAgICAgICAgICBuZXdEYXRhID0gbmV3RGF0YS5jb25jYXQobWF0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGE7XHJcbiAgICAgICAgICAgIH0sIDxBcnJheTxudW1iZXI+PltdKSxcclxuICAgICAgICAgICAgbWF0cy5zb21lKG0gPT4gbS5kYXRhVHlwZSA9PT0gXCJkb3VibGVcIikgPyBcImRvdWJsZVwiIDogbWF0c1swXS5kYXRhVHlwZVxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2aXN1YWxpemVfZXhwcigpIHtcclxuICAgICAgICB2YXIgY29scyA9IHRoaXMuY29scztcclxuICAgICAgICBpZiAoY29scy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAvLyBTaW5nbGUgZWxlbWVudCByb3cgLSBqdXN0IHZpc3VhbGl6ZSB0aGUgZWxlbWVudCwgbm90IGFzIGEgcm93XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xzWzBdLnZpc3VhbGl6ZV9odG1sKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdGFibGUgPSAkKFwiPHRhYmxlPjwvdGFibGU+XCIpO1xyXG4gICAgICAgICAgICB0YWJsZS5hZGRDbGFzcyhcIm1hdGxhYi10YWJsZVwiKTtcclxuICAgICAgICAgICAgbGV0IGNvbG9yID0gQ29sb3IuV0hJVEU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdC5raW5kID09PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSB0aGlzLnJlc3VsdC52YWx1ZS5jb2xvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YWJsZS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIGNvbG9yKTtcclxuICAgICAgICAgICAgdmFyIHRyID0gJChcIjx0cj48L3RyPlwiKTtcclxuICAgICAgICAgICAgdGFibGUuYXBwZW5kKHRyKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29scy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gJChcIjx0ZCBjbGFzcz0nbWF0bGFiLW1hdHJpeC1jZWxsJz48L3RkPlwiKTtcclxuICAgICAgICAgICAgICAgIHRyLmFwcGVuZCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sID0gY29sc1tpXTtcclxuICAgICAgICAgICAgICAgIHRkLmh0bWwoY29sc1tpXS52aXN1YWxpemVfaHRtbCh7Y29udGFpbmVkOiB0cnVlfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0YWJsZVswXS5vdXRlckhUTUw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBSYW5nZUV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhcnQ6IEV4cHJlc3Npb247XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW5kOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHN0ZXA6IEV4cHJlc3Npb24gfCBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5zdGFydCA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdC5zdGFydCwgZW52KTtcclxuICAgICAgICB0aGlzLmVuZCA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdC5lbmQsIGVudik7XHJcbiAgICAgICAgdGhpcy5zdGVwID0gYXN0LnN0ZXAgPyBFeHByZXNzaW9uLmNyZWF0ZShhc3Quc3RlcCwgZW52KSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgc3RhcnRSZXN1bHQgPSB0aGlzLnN0YXJ0LmV4ZWN1dGUoKTtcclxuICAgICAgICBsZXQgZW5kUmVzdWx0ID0gdGhpcy5lbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIGxldCBzdGVwUmVzdWx0ID0gdGhpcy5zdGVwICYmIHRoaXMuc3RlcC5leGVjdXRlKCk7XHJcbiAgICBcclxuICAgICAgICBpZiAoc3RhcnRSZXN1bHQua2luZCAhPT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0UmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVuZFJlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gZW5kUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0ZXBSZXN1bHQgJiYgc3RlcFJlc3VsdC5raW5kICE9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gc3RlcFJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5vdGU6IE1BVExBQiB3aWxsIGFjdHVhbGx5IGFjY2VwdCBub24tc2NhbGFyIHZhbHVlcyBmb3IgdGhlIHN1YmV4cHJlc3Npb25zXHJcbiAgICAgICAgLy8gICAgICAgaW4gcmFuZ2Ugbm90YXRpb24uIEl0IGp1c3QgZ3JhYnMgdGhlIGZpcnN0IGxpbmVhciBlbGVtZW50LCB3aGljaCBpcyB0aGVcclxuICAgICAgICAvLyAgICAgICBiZWhhdmlvciBvZiAuc2NhbGFyVmFsdWUoKSBoZXJlLlxyXG4gICAgICAgIGxldCB4ID0gc3RhcnRSZXN1bHQudmFsdWUuc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICBsZXQgZW5kID0gZW5kUmVzdWx0LnZhbHVlLnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgbGV0IHN0ZXAgPSBzdGVwUmVzdWx0ID8gc3RlcFJlc3VsdC52YWx1ZS5zY2FsYXJWYWx1ZSgpIDogMTtcclxuICAgICAgICBsZXQgcmFuZ2UgPSA8QXJyYXk8bnVtYmVyPj5bXTtcclxuICAgICAgICBpZiAoc3RlcCA+IDApIHsgLy8gcG9zaXRpdmUgc3RlcFxyXG4gICAgICAgICAgICBpZiAoeCA8PSBlbmQpIHsgLy8gc3RhcnQgPCBlbmRcclxuICAgICAgICAgICAgICAgIHdoaWxlICh4IDw9IGVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnB1c2goeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgeyAvLyBuZWdhdGl2ZSBzdGVwXHJcbiAgICAgICAgICAgIGlmIChlbmQgPD0geCkgeyAvLyBlbmQgPD0geFxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGVuZCA8PSB4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9IHN0ZXBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2hlY2sgb24gdHlwZSBvZiByYW5nZXMgaW4gTUFUTEFCXHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeCgxLCByYW5nZS5sZW5ndGgsIHJhbmdlLCBcImRvdWJsZVwiKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9leHByKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0SHRtbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAodGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5yZXN1bHQudmFsdWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgcm93SHRtbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IHZhbHVlLm51bWVsOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHJvd0h0bWwgKz1cclxuICAgICAgICAgICAgICAgIGA8dGQgY2xhc3M9J21hdGxhYi1tYXRyaXgtY2VsbCc+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtzY2FsYXJIdG1sKHZhbHVlLmF0TGluZWFyKGkpKX1cclxuICAgICAgICAgICAgICAgIDwvdGQ+YFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXN1bHRIdG1sID0gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLXJhbmdlLXJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwibWF0bGFiLXRhYmxlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAke0NvbG9yLnRvQ29sb3IodmFsdWUsIENvbG9yLkxJR0hUX0xFVFRFUlMpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJtYXRsYWItcmFuZ2Utc3ZnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG1hcmtlciBpZD1cImFycm93XCIgbWFya2VyV2lkdGg9XCIxMFwiIG1hcmtlckhlaWdodD1cIjEwXCIgcmVmeD1cIjlcIiByZWZ5PVwiM1wiIG9yaWVudD1cImF1dG9cIiBtYXJrZXJVbml0cz1cInN0cm9rZVdpZHRoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0wLDAgTDAsNiBMOSwzIHpcIiBmaWxsPVwiIzAwMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L21hcmtlcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kZWZzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTEwLDApXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGluZSB4MT1cIjIyXCIgeTE9XCIyNVwiIHgyPVwiMTAwJVwiIHkyPVwiMjVcIiBzdHJva2U9XCIjMDAwXCIgc3Ryb2tlLXdpZHRoPVwiMVwiIG1hcmtlci1lbmQ9XCJ1cmwoI2Fycm93KVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+JHtyb3dIdG1sfTwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXRsYWItcmFuZ2VcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGxhYi1yYW5nZS1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzcz1cIm1hdGxhYi10YWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPnN0YXJ0PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnN0ZXAgPyBcIjx0aD5zdGVwPC90aD5cIiA6IFwiXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5lbmQ8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9J21hdGxhYi1tYXRyaXgtY2VsbCc+JHt0aGlzLnN0YXJ0LnZpc3VhbGl6ZV9odG1sKCl9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnN0ZXAgPyBcIjx0ZCBjbGFzcz0nbWF0bGFiLW1hdHJpeC1jZWxsJz5cIiArIHRoaXMuc3RlcC52aXN1YWxpemVfaHRtbCgpICsgXCI8L3RkPlwiIDogXCJcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSdtYXRsYWItbWF0cml4LWNlbGwnPiR7dGhpcy5lbmQudmlzdWFsaXplX2h0bWwoKX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgJHtyZXN1bHRIdG1sfVxyXG4gICAgICAgIDwvZGl2PmA7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGVmdDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSByaWdodDogRXhwcmVzc2lvbjtcclxuICAgIHB1YmxpYyByZWFkb25seSBvcDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5vcCA9IGFzdC5vcDtcclxuXHJcbiAgICAgICAgdGhpcy5sZWZ0ID0gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LmxlZnQsIGVudik7XHJcbiAgICAgICAgdGhpcy5yaWdodCA9IEV4cHJlc3Npb24uY3JlYXRlKGFzdC5yaWdodCwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVhZG9ubHkgZGF0YVR5cGU6IERhdGFUeXBlO1xyXG4gICAgcHJvdGVjdGVkIGFic3RyYWN0IHJlYWRvbmx5IG9wZXJhdG9yczoge1tpbmRleDogc3RyaW5nXTogKGxlZnQ6bnVtYmVyLCByaWdodDpudW1iZXIpID0+IG51bWJlcn07XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgbGVmdFJlc3VsdCA9IHRoaXMubGVmdC5leGVjdXRlKCk7XHJcbiAgICAgICAgbGV0IHJpZ2h0UmVzdWx0ID0gdGhpcy5yaWdodC5leGVjdXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChsZWZ0UmVzdWx0LmtpbmQgIT09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsZWZ0UmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJpZ2h0UmVzdWx0LmtpbmQgIT09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByaWdodFJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvcGVyYW5kRXJyb3IgPSB0aGlzLmNoZWNrT3BlcmFuZHMobGVmdFJlc3VsdCwgcmlnaHRSZXN1bHQpO1xyXG4gICAgICAgIGlmIChvcGVyYW5kRXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhbmRFcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmJpbmFyeU9wKFxyXG4gICAgICAgICAgICBsZWZ0UmVzdWx0LnZhbHVlLCByaWdodFJlc3VsdC52YWx1ZSwgdGhpcy5vcCxcclxuICAgICAgICAgICAgdGhpcy5vcGVyYXRvcnNbdGhpcy5vcF0sIHRoaXMuZGF0YVR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjaGVja09wZXJhbmRzKGxlZnRSZXN1bHQ6IFN1Y2Nlc3NFeHByZXNzaW9uUmVzdWx0LCByaWdodFJlc3VsdDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQpIDogRXJyb3JFeHByZXNzaW9uUmVzdWx0IHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBiaW5hcnlPcChsZWZ0TWF0OiBNYXRyaXgsIHJpZ2h0TWF0OiBNYXRyaXgsIG9wOiBzdHJpbmcsXHJcbiAgICAgICAgb3BlcmF0ZSA6IChsZWZ0Om51bWJlciwgcmlnaHQ6bnVtYmVyKSA9PiBudW1iZXIsIGRhdGFUeXBlOiBEYXRhVHlwZSkgOiBFeGVjdXRlZEV4cHJlc3Npb25SZXN1bHQge1xyXG5cclxuICAgICAgICBsZXQgbmV3RGF0YSA9IFtdO1xyXG4gICAgICAgIGxldCBudW1Sb3dzO1xyXG4gICAgICAgIGxldCBudW1Db2xzO1xyXG4gICAgICAgIGlmIChsZWZ0TWF0LnJvd3MgPT09IHJpZ2h0TWF0LnJvd3MgJiYgbGVmdE1hdC5jb2xzID09PSByaWdodE1hdC5jb2xzKSB7XHJcbiAgICAgICAgICAgIC8vIFNhbWUgZGltZW5zaW9ucyAoYWxzbyBjb3ZlcnMgYm90aCBzY2FsYXJzKVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsZWZ0TWF0Lm51bWVsOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIG5ld0RhdGEucHVzaChvcGVyYXRlKGxlZnRNYXQuYXRMaW5lYXIoaSksIHJpZ2h0TWF0LmF0TGluZWFyKGkpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbnVtUm93cyA9IGxlZnRNYXQucm93cztcclxuICAgICAgICAgICAgbnVtQ29scyA9IGxlZnRNYXQuY29scztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGVmdE1hdC5pc1NjYWxhcikge1xyXG4gICAgICAgICAgICBsZXQgbGVmdFNjYWxhciA9IGxlZnRNYXQuc2NhbGFyVmFsdWUoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcmlnaHRNYXQubnVtZWw7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKG9wZXJhdGUobGVmdFNjYWxhciwgcmlnaHRNYXQuYXRMaW5lYXIoaSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBudW1Sb3dzID0gcmlnaHRNYXQucm93cztcclxuICAgICAgICAgICAgbnVtQ29scyA9IHJpZ2h0TWF0LmNvbHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJpZ2h0TWF0LmlzU2NhbGFyKSB7XHJcbiAgICAgICAgICAgIGxldCByaWdodFNjYWxhciA9IHJpZ2h0TWF0LnNjYWxhclZhbHVlKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IGxlZnRNYXQubnVtZWw7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKG9wZXJhdGUobGVmdE1hdC5hdExpbmVhcihpKSwgcmlnaHRTY2FsYXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBudW1Sb3dzID0gbGVmdE1hdC5yb3dzO1xyXG4gICAgICAgICAgICBudW1Db2xzID0gbGVmdE1hdC5jb2xzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiTWlzbWF0Y2hlZCBkaW1lbnNpb25zIGZvciBvcGVyYXRvciBcIiArIG9wICsgXCIuIExIUyBpcyBhIFwiICtcclxuICAgICAgICAgICAgbGVmdE1hdC5yb3dzICsgXCJ4XCIgKyBsZWZ0TWF0LmNvbHMgKyBcIiBhbmQgUkhTIGlzIGEgXCIgK1xyXG4gICAgICAgICAgICByaWdodE1hdC5yb3dzICsgXCJ4XCIgKyByaWdodE1hdC5jb2xzICsgXCIuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeChudW1Sb3dzLCBudW1Db2xzLCBuZXdEYXRhLCBkYXRhVHlwZSkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC1iaW5hcnlPcFwiPlxyXG4gICAgICAgICAgICA8ZGl2PiR7dGhpcy5sZWZ0LnZpc3VhbGl6ZV9odG1sKCl9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+Jm5ic3A7JHt0aGlzLm9wfSZuYnNwOzwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PiR7dGhpcy5yaWdodC52aXN1YWxpemVfaHRtbCgpfTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEFkZEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24ge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRhdGFUeXBlID0gXCJkb3VibGVcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCIrXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKyBiLFxyXG4gICAgICAgIFwiLVwiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBhIC0gYixcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTXVsdEV4cHJlc3Npb24gZXh0ZW5kcyBCaW5hcnlPcGVyYXRvckV4cHJlc3Npb24ge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGRhdGFUeXBlID0gXCJkb3VibGVcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCIqXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKiBiLFxyXG4gICAgICAgIFwiL1wiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBhIC8gYixcclxuICAgICAgICBcIi4qXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKiBiLFxyXG4gICAgICAgIFwiLi9cIiA6IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSAvIGIsXHJcbiAgICAgICAgXCIuXlwiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiBNYXRoLnBvdyhhLGIpXHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGNoZWNrT3BlcmFuZHMobGVmdFJlc3VsdDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQsIHJpZ2h0UmVzdWx0OiBTdWNjZXNzRXhwcmVzc2lvblJlc3VsdCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wID09PSBcIipcIiB8fCB0aGlzLm9wID09PSBcIi9cIiB8fCB0aGlzLm9wID09PSBcIl5cIikge1xyXG4gICAgICAgICAgICAvLyBPbmUgbXVzdCBiZSBhIHNjYWxhciwgb3RoZXJ3aXNlIGl0J3MgbWF0cml4IG11bHRpcGxpY2F0aW9uIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQuXHJcbiAgICAgICAgICAgIGlmICghbGVmdFJlc3VsdC52YWx1ZS5pc1NjYWxhciAmJiAhcmlnaHRSZXN1bHQudmFsdWUuaXNTY2FsYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgXCJTb3JyeSwgbWF0cml4IG11bHRpcGxpY2F0aW9uLCBkaXZpc2lvbiwgYW5kIGV4cG9uZW50aWF0aW9uIFwiICtcclxuICAgICAgICAgICAgICAgICBcImFyZSBub3Qgc3VwcG9ydGVkLiBZb3UgbWF5IHVzZSB0aGUgZWxlbWVudC13aXNlIHZlcnNpb25zIChpLmUuIC4qLCAuLywgLl4pLlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIE1hdHJpeE9yRXhwcmVzc2lvbiBleHRlbmRzIEJpbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiB7XHJcbiAgICBcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBkYXRhVHlwZSA9IFwibG9naWNhbFwiO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IG9wZXJhdG9ycyA9IHtcclxuICAgICAgICBcInxcIiA6IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gKGEgfHwgYikgPyAxIDogMFxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNYXRyaXhBbmRFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVR5cGUgPSBcImxvZ2ljYWxcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCImXCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhICYmIGIpID8gMSA6IDBcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgRXF1YWxpdHlFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVR5cGUgPSBcImxvZ2ljYWxcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCI9PVwiIDogKGE6IG51bWJlciwgYjogbnVtYmVyKSA9PiAoYSA9PT0gYikgPyAxIDogMCxcclxuICAgICAgICBcIn49XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhICE9PSBiKSA/IDEgOiAwXHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIFJlbGF0aW9uYWxFeHByZXNzaW9uIGV4dGVuZHMgQmluYXJ5T3BlcmF0b3JFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGF0YVR5cGUgPSBcImxvZ2ljYWxcIjtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBvcGVyYXRvcnMgPSB7XHJcbiAgICAgICAgXCI8XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhIDwgYikgPyAxIDogMCxcclxuICAgICAgICBcIjw9XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhIDw9IGIpID8gMSA6IDAsXHJcbiAgICAgICAgXCI+XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhID4gYikgPyAxIDogMCxcclxuICAgICAgICBcIj49XCIgOiAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IChhID49IGIpID8gMSA6IDBcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgVW5hcnlPcGVyYXRvciA9IFwiK1wiIHwgXCItXCIgfCBcIn5cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBVbmFyeU9wZXJhdG9yRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9wOiBVbmFyeU9wZXJhdG9yO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcihhc3Q6IEFTVE5vZGUsIGVudjogRW52aXJvbm1lbnQpIHtcclxuICAgICAgICBzdXBlcihhc3QsIGVudik7XHJcbiAgICAgICAgdGhpcy5vcCA9IGFzdC5vcDtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYW5kID0gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LnN1YiwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9wZXJhdG9ycyA6IHtbb3AgaW4gVW5hcnlPcGVyYXRvcl06IChuOm51bWJlcikgPT4gbnVtYmVyfSA9IHtcclxuICAgICAgICBcIitcIiA6ICh4OiBudW1iZXIpID0+IHgsXHJcbiAgICAgICAgXCItXCIgOiAoeDogbnVtYmVyKSA9PiAteCxcclxuICAgICAgICBcIn5cIiA6ICh4OiBudW1iZXIpID0+IHggPyAwIDogMVxyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IG9wZXJhdG9yRGF0YVR5cGVzIDogIHtbb3AgaW4gVW5hcnlPcGVyYXRvcl06IERhdGFUeXBlfSA9IHtcclxuICAgICAgICBcIitcIiA6IFwiZG91YmxlXCIsXHJcbiAgICAgICAgXCItXCIgOiBcImRvdWJsZVwiLFxyXG4gICAgICAgIFwiflwiIDogXCJsb2dpY2FsXCJcclxuICAgIH07XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgb3BlcmFuZFJlc3VsdCA9IHRoaXMub3BlcmFuZC5leGVjdXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChvcGVyYW5kUmVzdWx0LmtpbmQgIT09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcGVyYW5kUmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9wZXJhbmRFcnJvciA9IHRoaXMuY2hlY2tPcGVyYW5kKG9wZXJhbmRSZXN1bHQpO1xyXG4gICAgICAgIGlmIChvcGVyYW5kRXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhbmRFcnJvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnVuYXJ5T3Aob3BlcmFuZFJlc3VsdC52YWx1ZSwgdGhpcy5vcGVyYXRvcnNbdGhpcy5vcF0sIHRoaXMub3BlcmF0b3JEYXRhVHlwZXNbdGhpcy5vcF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBjaGVja09wZXJhbmQob3BlcmFuZFJlc3VsdDogU3VjY2Vzc0V4cHJlc3Npb25SZXN1bHQpIDogRXJyb3JFeHByZXNzaW9uUmVzdWx0IHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1bmFyeU9wKG1hdDogTWF0cml4LCBvcGVyYXRlIDogKG46bnVtYmVyKSA9PiBudW1iZXIsIGRhdGFUeXBlOkRhdGFUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeChtYXQucm93cywgbWF0LmNvbHMsIG1hdC5kYXRhLm1hcChvcGVyYXRlKSwgZGF0YVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC11bmFyeU9wXCI+XHJcbiAgICAgICAgICAgIDxkaXY+JHt0aGlzLm9wfSZuYnNwOzwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PiR7dGhpcy5vcGVyYW5kLnZpc3VhbGl6ZV9odG1sKCl9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxufVxyXG5leHBvcnQgY2xhc3MgVHJhbnNwb3NlRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVyYW5kOiBFeHByZXNzaW9uO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bVRyYW5zcG9zZXM6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMubnVtVHJhbnNwb3NlcyA9IGFzdC50cmFuc3Bvc2VzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYW5kID0gRXhwcmVzc2lvbi5jcmVhdGUoYXN0LnN1YiwgZW52KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgZXZhbHVhdGUoKSB7XHJcblxyXG4gICAgICAgIGxldCBvcGVyYW5kUmVzdWx0ID0gdGhpcy5vcGVyYW5kLmV4ZWN1dGUoKTtcclxuXHJcbiAgICAgICAgaWYgKG9wZXJhbmRSZXN1bHQua2luZCAhPT0gXCJzdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9wZXJhbmRSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFsxLDIsMzs0LDUsNjs3LDgsOV0gICAgIDEgNCA3IDIgNiA4IDMgNiA5XHJcbiAgICAgICAgLy8gUGVyZm9ybSB0cmFuc3Bvc2UgYnkgZG9pbmcgYSByb3ctbWFqb3IgdHJhdmVyc2FsIGFuZCByZWNvcmRpbmcgYXMgbmV3IGNvbHVtbi1tYWpvciBkYXRhXHJcbiAgICAgICAgbGV0IG9sZE1hdCA9IG9wZXJhbmRSZXN1bHQudmFsdWU7XHJcbiAgICAgICAgbGV0IG5ld0RhdGEgOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgciA9IDE7IHIgPD0gb2xkTWF0LnJvd3M7ICsrcikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMTsgYyA8PSBvbGRNYXQuY29sczsgKytjKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdEYXRhLnB1c2gob2xkTWF0LmF0KHIsIGMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVzdWx0IG1hdHJpeCBoYXMgbnVtYmVyIG9mIGNvbHMvcm93cyBzd2l0Y2hlZCBhbmQgbmV3IGRhdGEgZnJvbSBhYm92ZVxyXG4gICAgICAgIHJldHVybiBzdWNjZXNzUmVzdWx0KG5ldyBNYXRyaXgob2xkTWF0LmNvbHMsIG9sZE1hdC5yb3dzLCBuZXdEYXRhLCBvbGRNYXQuZGF0YVR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWV4cC11bmFyeU9wXCI+XHJcbiAgICAgICAgICAgIDxkaXY+dHJhbnNwb3NlJm5ic3A7PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+JHt0aGlzLm9wZXJhbmQudmlzdWFsaXplX2h0bWwoKX08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gVE9ETzogVGhpcyB3aG9sZSB0aGluZyBuZWVkcyBhIGJpdCBvZiByZXZpZXdcclxuY2xhc3MgSW5kZXhPckNhbGxFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgLy8gY3VycmVudEluZGV4ZWRWYXJpYWJsZSA6IG51bGxcclxuICAgIC8vIGN1cnJlbnRJbmRleGVkRGltZW5zaW9uIDogMCxcclxuICAgIFxyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldE5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBpbmRpY2llc09yQXJnczogcmVhZG9ubHkgRXhwcmVzc2lvbltdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBzdWJhcnJheVJlc3VsdD86IFN1YmFycmF5O1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG9yaWdpbmFsTWF0cml4PyA6IE1hdHJpeDtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhlY3V0ZWRGdW5jdGlvbj8gOiBNYXRsYWJGdW5jdGlvbjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMudGFyZ2V0TmFtZSA9IGFzdFtcInRhcmdldFwiXTtcclxuICAgICAgICB0aGlzLmluZGljaWVzT3JBcmdzID0gYXN0W1wiYXJnc1wiXS5tYXAoKGk6QVNUTm9kZSkgPT4gRXhwcmVzc2lvbi5jcmVhdGUoaSwgZW52KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG4gICAgICAgIGxldCB2YXJpID0gdGhpcy5lbnYubG9va3VwKHRoaXMudGFyZ2V0TmFtZSk7XHJcbiAgICAgICAgaWYgKCF2YXJpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvclJlc3VsdChuZXcgTWF0bGFiRXJyb3IodGhpcywgXCJTb3JyeSwgSSBjYW4ndCBmaW5kIGEgdmFyaWFibGUgb3IgZnVuY3Rpb24gbmFtZWQgXCIgKyB0aGlzLnRhcmdldE5hbWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YXJpIGluc3RhbmNlb2YgVmFyaWFibGUpIHtcclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IHZhcmkudmFsdWU7XHJcbiAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5vcmlnaW5hbE1hdHJpeCA9IHRhcmdldC5jbG9uZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5kaWNpZXNPckFyZ3MubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogYWRkIGFuIGVycm9yIG1lc3NhZ2UgdGhhdCBzdWdnZXN0cyBzdHVkZW50cyBtaWdodCBoYXZlIHNoYWRvd2VkIGEgZnVuY3Rpb24sIGlmIHRoYXQgaXMgdGhlIGNhc2UuIG1heWJlIGFkZCBpdCBoZXJlP1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBcIlNvcnJ5LCBpbmRleGluZyBpbiBtb3JlIHRoYXQgdHdvIGRpbWVuc2lvbnMgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGluZGljZXNSZXN1bHRzID0gdGhpcy5pbmRpY2llc09yQXJncy5tYXAoKGluZGV4LCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbmRpY2llc09yQXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgbGluZWFyIGluZGV4aW5nLCBlbmQga2V5d29yZCBldmFsdWF0ZXMgdG8gbnVtZWxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudi5wdXNoRW5kVmFsdWUodGFyZ2V0Lm51bWVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciByb3cvY29sdW1uIGluZGV4aW5nLCBlbmQga2V5d29yZCBldmFsdWF0ZXMgdG8gbGVuZ3RoIGFsb25nIGluZGV4IGRpbWVuc2lvblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW52LnB1c2hFbmRWYWx1ZSh0YXJnZXQubGVuZ3RoKDwxfDI+KGkrMSkpKTsgLy8gMSBvciAyIGd1YXJhbnRlZWQgZnJvbSBhYm92ZSBlcnJvciBjaGVjayBmb3IgdG9vIG1hbnkgaW5kaWNlc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IGluZGV4LmV4ZWN1dGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW52LnBvcEVuZFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIWFsbFN1Y2Nlc3MoaW5kaWNlc1Jlc3VsdHMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kaWNlc1Jlc3VsdHMuZmluZChyID0+IHtyZXR1cm4gci5raW5kICE9PSBcInN1Y2Nlc3NcIjt9KSE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRpY2VzUmVzdWx0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICg8TXV0YWJsZTx0aGlzPj50aGlzKS5zdWJhcnJheVJlc3VsdCA9IExpbmVhclN1YmFycmF5LmNyZWF0ZShcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGljaWVzT3JBcmdzWzBdIGluc3RhbmNlb2YgQ29sb25FeHByZXNzaW9uID8gXCI6XCIgOiBpbmRpY2VzUmVzdWx0c1swXS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAoPE11dGFibGU8dGhpcz4+dGhpcykuc3ViYXJyYXlSZXN1bHQgPSBDb29yZGluYXRlU3ViYXJyYXkuY3JlYXRlKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNpZXNPckFyZ3NbMF0gaW5zdGFuY2VvZiBDb2xvbkV4cHJlc3Npb24gPyBcIjpcIiA6IGluZGljZXNSZXN1bHRzWzBdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNpZXNPckFyZ3NbMV0gaW5zdGFuY2VvZiBDb2xvbkV4cHJlc3Npb24gPyBcIjpcIiA6IGluZGljZXNSZXN1bHRzWzFdLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViYXJyYXlSZXN1bHQhLnZlcmlmeSh0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQodGhpcy5zdWJhcnJheVJlc3VsdCEucmVhZFZhbHVlKHRhcmdldCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoKG1zZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBtc2cpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGZ1bmMgPSAoPE11dGFibGU8dGhpcz4+dGhpcykuZXhlY3V0ZWRGdW5jdGlvbiA9IHZhcmk7XHJcbiAgICAgICAgICAgIGlmICghZnVuYy5pc1ZhbGlkTnVtYmVyT2ZBcmdzKHRoaXMuaW5kaWNpZXNPckFyZ3MubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yUmVzdWx0KG5ldyBNYXRsYWJFcnJvcih0aGlzLCBgSW52YWxpZCBudW1iZXIgb2YgYXJndW1lbnRzIGZvciB0aGUgJHt0aGlzLnRhcmdldE5hbWV9IGZ1bmN0aW9uLmApKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGFyZ1Jlc3VsdHMgPSB0aGlzLmluZGljaWVzT3JBcmdzLm1hcCgoaW5wdXQpID0+IGlucHV0LmV4ZWN1dGUoKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWFsbFN1Y2Nlc3MoYXJnUmVzdWx0cykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdSZXN1bHRzLmZpbmQociA9PiB7cmV0dXJuIHIua2luZCAhPT0gXCJzdWNjZXNzXCI7fSkhO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZnVuYy5vcGVyYXRlKHRoaXMsIGFyZ1Jlc3VsdHMubWFwKChhcmdSZXMpID0+IGFyZ1Jlcy52YWx1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB2aXN1YWxpemVfZXhwcihvcHRpb25zPzogVmlzdWFsaXphdGlvbk9wdGlvbnMpIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgd3JhcHBlciA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuICAgICAgICB3cmFwcGVyLmFkZENsYXNzKFwibWF0bGFiLWV4cC1pbmRleFwiKTtcclxuXHJcblxyXG4gICAgICAgIGxldCB2YWx1ZUh0bWw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxNYXRyaXggJiYgdGhpcy5zdWJhcnJheVJlc3VsdCkge1xyXG4gICAgICAgICAgICB2YWx1ZUh0bWwgPSB0aGlzLnN1YmFycmF5UmVzdWx0LnZpc3VhbGl6ZV9zZWxlY3Rpb24odGhpcy5vcmlnaW5hbE1hdHJpeCk7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm1hdGxhYi1leHAtaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICR7dmFsdWVIdG1sfVxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLnN1YmFycmF5UmVzdWx0ID9cclxuICAgICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz1cIm1hdGxhYi1pZGVudGlmaWVyLW5hbWVcIj4ke3RoaXMudGFyZ2V0TmFtZSArIHRoaXMuc3ViYXJyYXlSZXN1bHQuaW5kZXhpbmdUZXh0KCl9PC9kaXY+YCA6XHJcbiAgICAgICAgICAgICAgICAgICAgYDxkaXYgY2xhc3M9XCJtYXRsYWItaWRlbnRpZmllci1uYW1lXCI+JHt0aGlzLnRhcmdldE5hbWV9PC9kaXY+YH1cclxuICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5leGVjdXRlZEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm1hdGxhYi1leHAtY2FsbFwiPlxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLnRhcmdldE5hbWV9KFxyXG4gICAgICAgICAgICAgICAgICAgICR7dGhpcy5pbmRpY2llc09yQXJncy5tYXAoKGFyZykgPT4gYDxkaXYgY2xhc3M9XCJtYXRsYWItY2FsbC1hcmdcIj4ke2FyZy52aXN1YWxpemVfaHRtbCgpfTwvZGl2PmApLmpvaW4oXCIsXCIpfVxyXG4gICAgICAgICAgICAgICAgKTwvZGl2PmBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vVE9ET1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDb2xvbkV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwdWJsaWMgZXZhbHVhdGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQobmV3IE1hdHJpeCgxLDEsWzFdLFwiZG91YmxlXCIpKTsgLy8gZHVtbXkgdmFsdWVcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiPHNwYW4+Ojwvc3Bhbj5cIjtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2NhbGFySHRtbCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB2YXIgbnVtU3RyID0gTWF0cml4LmZvcm1hdE51bWJlcih2YWx1ZSk7XHJcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJtYXRsYWItc2NhbGFyJHtudW1TdHIubGVuZ3RoID4gMyA/IFwiIGRvdWJsZVwiIDogXCJcIn1cIj5cclxuICAgICAgICA8c3Bhbj4ke251bVN0cn08L3NwYW4+XHJcbiAgICA8L2Rpdj5gO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTGl0ZXJhbEV4cHJlc3Npb24gZXh0ZW5kcyBFeHByZXNzaW9uIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGxpdGVyYWxWYWx1ZSA6IE1hdHJpeDtcclxuICAgIFxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGFzdDogQVNUTm9kZSwgZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIHN1cGVyKGFzdCwgZW52KTtcclxuICAgICAgICB0aGlzLmxpdGVyYWxWYWx1ZSA9IE1hdHJpeC5zY2FsYXIodGhpcy5hc3RbXCJ2YWx1ZVwiXSwgXCJkb3VibGVcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG4gICAgICAgIHJldHVybiBzdWNjZXNzUmVzdWx0KHRoaXMubGl0ZXJhbFZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIob3B0aW9ucz86IFZpc3VhbGl6YXRpb25PcHRpb25zKSB7XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY29udGFpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2FsYXJIdG1sKHRoaXMubGl0ZXJhbFZhbHVlLnNjYWxhclZhbHVlKCkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXRlcmFsVmFsdWUudmlzdWFsaXplX2h0bWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFRPRE86IHJlc2VydmVkIHdvcmRzIGNhbid0IGJlIHVzZWQgYXMgaWRlbnRpZmllcnNcclxuZXhwb3J0IGNsYXNzIElkZW50aWZpZXJFeHByZXNzaW9uIGV4dGVuZHMgRXhwcmVzc2lvbiB7XHJcblxyXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IGFzdFtcImlkZW50aWZpZXJcIl07XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIGV2YWx1YXRlKCkge1xyXG4gICAgICAgIGxldCBlbnYgPSB0aGlzLmVudjtcclxuICAgICAgICBsZXQgdmFyaSA9IGVudi5sb29rdXAodGhpcy5uYW1lKTtcclxuICAgICAgICBpZiAodmFyaSAmJiAhKHZhcmkgaW5zdGFuY2VvZiBNYXRsYWJGdW5jdGlvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXN1bHQodmFyaS52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiQ2Fubm90IGZpbmQgdmFyaWFibGUgXCIgKyB0aGlzLm5hbWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHZpc3VhbGl6ZV9leHByKCkge1xyXG4gICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cIm1hdGxhYi1pZGVudGlmaWVyXCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5yZXN1bHQua2luZCA9PT0gXCJzdWNjZXNzXCIgPyB0aGlzLnJlc3VsdC52YWx1ZS52aXN1YWxpemVfaHRtbCgpIDogXCJcIn1cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGxhYi1pZGVudGlmaWVyLW5hbWVcIj4ke3RoaXMubmFtZX08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kRXhwcmVzc2lvbiBleHRlbmRzIEV4cHJlc3Npb24ge1xyXG4gICAgXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYXN0OiBBU1ROb2RlLCBlbnY6IEVudmlyb25tZW50KSB7XHJcbiAgICAgICAgc3VwZXIoYXN0LCBlbnYpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBldmFsdWF0ZSgpIHtcclxuICAgICAgICBsZXQgZW5kVmFsdWUgPSB0aGlzLmVudi5nZXRFbmRWYWx1ZSgpO1xyXG4gICAgICAgIGlmIChlbmRWYWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VjY2Vzc1Jlc3VsdChNYXRyaXguc2NhbGFyKGVuZFZhbHVlLCBcImRvdWJsZVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JSZXN1bHQobmV3IE1hdGxhYkVycm9yKHRoaXMsIFwiVGhlIGVuZCBrZXl3b3JkIGlzIG9ubHkgYWxsb3dlZCB3aXRoaW4gdGhlIGNvbnRleHQgb2YgYW4gaW5kZXhpbmcgZXhwcmVzc2lvbi5cIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2V4cHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibWF0bGFiLWlkZW50aWZpZXJcIj5cclxuICAgICAgICAgICAgJHt0aGlzLnJlc3VsdC5raW5kID09PSBcInN1Y2Nlc3NcIiA/IHRoaXMucmVzdWx0LnZhbHVlLnZpc3VhbGl6ZV9odG1sKCkgOiBcIlwifVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWF0bGFiLWlkZW50aWZpZXItbmFtZVwiPmVuZDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEV4cHJlc3Npb24uRW5kID0gRXhwcmVzc2lvbi5leHRlbmQoe1xyXG4vLyAgICAgX25hbWU6IFwiRXhwcmVzc2lvbi5FbmRcIixcclxuXHJcbi8vICAgICBldmFsdWF0ZSA6IGZ1bmN0aW9uKCkge1xyXG5cclxuLy8gICAgICAgICAvLyBncmFiIG1hdHJpeCB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBpbmRleGVkXHJcbi8vICAgICAgICAgdmFyIGluZGV4ZWRNYXRyaXggPSBFeHByZXNzaW9uLkluZGV4LmN1cnJlbnRJbmRleGVkVmFyaWFibGUuZ2V0VmFsdWUoKTtcclxuXHJcbi8vICAgICAgICAgaWYoIWluZGV4ZWRNYXRyaXgpIHtcclxuLy8gICAgICAgICAgICAgdGhyb3cge21lc3NhZ2U6IFwiZW5kIGtleXdvcmQgaXMgb25seSBhbGxvd2VkIHdpdGhpbiB0aGUgY29udGV4dCBvZiBhbiBpbmRleGluZyBleHByZXNzaW9uLlwifTtcclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRyaXguc2NhbGFyKGluZGV4ZWRNYXRyaXgubGVuZ3RoKEV4cHJlc3Npb24uSW5kZXguY3VycmVudEluZGV4ZWREaW1lbnNpb24pLCBcImludFwiKTtcclxuLy8gICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcclxuLy8gICAgIH1cclxuLy8gfSk7XHJcblxyXG5cclxuXHJcbi8vIFRPRE86IGp1c3QgdHlwaW5nIGFuIGlkZW50aWZpZXIgc2hvdWxkIG5vdCBjaGFuZ2UgYW5zXHJcbi8vIHZhciBwcm9jZXNzQW5zID0gZnVuY3Rpb24ocmVzdWx0KSB7XHJcbi8vICAgICB2YXIgYW5zRWxlbSA9ICQoXCIjYW5zVmlzdWFsaXphdGlvblwiKTtcclxuLy8gICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0Lm1hdHJpeFZhbHVlKSB7XHJcbi8vICAgICAgICAgdmFyIG1hdCA9IHJlc3VsdC5tYXRyaXhWYWx1ZSgpO1xyXG4vLyAgICAgICAgIENvZGVDb25zdHJ1Y3QuZ2V0RW52aXJvbm1lbnQoKS5zZXRWYXIoXCJhbnNcIiwgbWF0KTtcclxuLy8gICAgICAgICBhbnNFbGVtLmVtcHR5KCk7XHJcblxyXG4vLyAgICAgICAgIHZhciB3cmFwcGVyID0gJChcIjxkaXY+PC9kaXY+XCIpO1xyXG4vLyAgICAgICAgIHdyYXBwZXIuYWRkQ2xhc3MoXCJtYXRsYWItYXNzaWdubWVudFwiKTtcclxuLy8gICAgICAgICB3cmFwcGVyLmFwcGVuZChcImFuc1wiKTtcclxuXHJcbi8vICAgICAgICAgd3JhcHBlci5hcHBlbmQoXCImbmJzcDs9Jm5ic3A7XCIpO1xyXG5cclxuLy8gICAgICAgICB2YXIgcmhzRWxlbSA9ICQoXCI8ZGl2PjwvZGl2PlwiKTtcclxuLy8gICAgICAgICBtYXQudmlzdWFsaXplX2h0bWwocmhzRWxlbSk7XHJcbi8vICAgICAgICAgd3JhcHBlci5hcHBlbmQocmhzRWxlbSk7XHJcblxyXG4vLyAgICAgICAgIGFuc0VsZW0uYXBwZW5kKHdyYXBwZXIpO1xyXG5cclxuLy8gICAgICAgICBhbnNFbGVtLnNob3coKTtcclxuLy8gICAgIH1cclxuLy8gICAgIGVsc2V7XHJcbi8vICAgICAgICAgYW5zRWxlbS5oaWRlKCk7XHJcbi8vICAgICB9XHJcbi8vIH07XHJcblxyXG4vLyBmdW5jdGlvbiBpbml0aWFsaXplRXhhbXBsZXMoKXtcclxuXHJcbi8vICAgICB2YXIgZXhhbXBsZXMgPSBbXTtcclxuXHJcbi8vICAgICAkKFwiLm1hdGxhYi1leGFtcGxlLWV4cFwiKS5lYWNoKGZ1bmN0aW9uKCl7XHJcblxyXG4vLyAgICAgICAgIHZhciBzcmNFbGVtID0gJCh0aGlzKS5maW5kKFwiLm1hdGxhYi1leGFtcGxlLXNyY1wiKTtcclxuLy8gICAgICAgICB2YXIgdmlzID0gJCh0aGlzKS5maW5kKFwiLm1hdGxhYi1leGFtcGxlLXZpc1wiKTtcclxuXHJcbi8vICAgICAgICAgdmFyIHVwZGF0ZUV4YW1wbGUgPSBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgIHZhciB0ZXh0ID0gc3JjRWxlbS52YWwoKS50cmltKCk7XHJcbi8vICAgICAgICAgICAgIHZpcy5lbXB0eSgpO1xyXG4vLyAgICAgICAgICAgICB0cnl7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKXtcclxuLy8gICAgICAgICAgICAgICAgICAgICB2YXIgc3JjVGV4dCA9IE1BVExBQl9QQVJTRVIucGFyc2UodGV4dCk7XHJcbi8vIC8vICAgICAgICAgICAgICAgICAgICB2aXN1YWxpemUoZXhwLCAkKFwiI3Zpc3VhbGl6YXRpb25cIikpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZhciBjYyA9IENvZGVDb25zdHJ1Y3QuaW5zdGFuY2Uoc3JjVGV4dCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNjLmV2YWx1YXRlKCk7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY2MudmlzdWFsaXplX2h0bWwodmlzKTtcclxuLy8gICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQW5zKHJlc3VsdCk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgY2F0Y2goZXJyKSB7XHJcbi8vICAgICAgICAgICAgICAgICBpZiAoZXJyLnZpc3VhbGl6ZV9odG1sKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgZXJyLnZpc3VhbGl6ZV9odG1sKHZpcyk7XHJcbi8vICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgICBlbHNle1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIHZpcy5odG1sKGVyci5tZXNzYWdlKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH07XHJcblxyXG4vLyAgICAgICAgIHZhciBleHBfaW5fdGltZW91dDtcclxuLy8gICAgICAgICBzcmNFbGVtLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIHZhciBjb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XHJcbi8vICAgICAgICAgICAgIGlmKGNvZGUgIT0gMTMpIHsgLy9FbnRlciBrZXljb2RlXHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm47XHJcbi8vICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICAgICAgICAgICB2YXIgZGVsYXkgPSA1MDA7IC8vIG1zXHJcbi8vICAgICAgICAgICAgIGNsZWFyVGltZW91dChleHBfaW5fdGltZW91dCk7XHJcbi8vICAgICAgICAgICAgIGV4cF9pbl90aW1lb3V0ID0gc2V0VGltZW91dCh1cGRhdGVFeGFtcGxlLCBkZWxheSlcclxuLy8gICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4vLyAgICAgICAgIH0pO1xyXG5cclxuLy8gICAgICAgICBleGFtcGxlcy5wdXNoKHtcclxuLy8gICAgICAgICAgICAgc3JjRWxlbTogc3JjRWxlbSxcclxuLy8gICAgICAgICAgICAgdmlzRWxlbTogdmlzLFxyXG4vLyAgICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZUV4YW1wbGVcclxuLy8gICAgICAgICB9KTtcclxuLy8gICAgIH0pO1xyXG5cclxuLy8gICAgIGZvcih2YXIgaSA9IDA7IGkgPCBleGFtcGxlcy5sZW5ndGg7ICsraSkge1xyXG4vLyAgICAgICAgIGV4YW1wbGVzW2ldLnVwZGF0ZSgpO1xyXG4vLyAgICAgfVxyXG5cclxuXHJcbi8vIH1cclxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcy5mb3VuZGF0aW9uLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuOyhmdW5jdGlvbigpIHtcblxuICAvKiogVXNlZCBhcyBhIHNhZmUgcmVmZXJlbmNlIGZvciBgdW5kZWZpbmVkYCBpbiBwcmUtRVM1IGVudmlyb25tZW50cy4gKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCBhcyB0aGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuICovXG4gIHZhciBWRVJTSU9OID0gJzQuMTcuMTEnO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xuICB2YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuICAvKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG4gIHZhciBDT1JFX0VSUk9SX1RFWFQgPSAnVW5zdXBwb3J0ZWQgY29yZS1qcyB1c2UuIFRyeSBodHRwczovL25wbXMuaW8vc2VhcmNoP3E9cG9ueWZpbGwuJyxcbiAgICAgIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG4gIHZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuICAvKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG4gIHZhciBNQVhfTUVNT0laRV9TSVpFID0gNTAwO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbiAgdmFyIFBMQUNFSE9MREVSID0gJ19fbG9kYXNoX3BsYWNlaG9sZGVyX18nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIGNsb25pbmcuICovXG4gIHZhciBDTE9ORV9ERUVQX0ZMQUcgPSAxLFxuICAgICAgQ0xPTkVfRkxBVF9GTEFHID0gMixcbiAgICAgIENMT05FX1NZTUJPTFNfRkxBRyA9IDQ7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgdmFsdWUgY29tcGFyaXNvbnMuICovXG4gIHZhciBDT01QQVJFX1BBUlRJQUxfRkxBRyA9IDEsXG4gICAgICBDT01QQVJFX1VOT1JERVJFRF9GTEFHID0gMjtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgdmFyIFdSQVBfQklORF9GTEFHID0gMSxcbiAgICAgIFdSQVBfQklORF9LRVlfRkxBRyA9IDIsXG4gICAgICBXUkFQX0NVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuICAgICAgV1JBUF9DVVJSWV9GTEFHID0gOCxcbiAgICAgIFdSQVBfQ1VSUllfUklHSFRfRkxBRyA9IDE2LFxuICAgICAgV1JBUF9QQVJUSUFMX0ZMQUcgPSAzMixcbiAgICAgIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgICBXUkFQX0FSWV9GTEFHID0gMTI4LFxuICAgICAgV1JBUF9SRUFSR19GTEFHID0gMjU2LFxuICAgICAgV1JBUF9GTElQX0ZMQUcgPSA1MTI7XG5cbiAgLyoqIFVzZWQgYXMgZGVmYXVsdCBvcHRpb25zIGZvciBgXy50cnVuY2F0ZWAuICovXG4gIHZhciBERUZBVUxUX1RSVU5DX0xFTkdUSCA9IDMwLFxuICAgICAgREVGQVVMVF9UUlVOQ19PTUlTU0lPTiA9ICcuLi4nO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3QgZnVuY3Rpb25zIGJ5IG51bWJlciBvZiBjYWxscyB3aXRoaW4gYSBzcGFuIG9mIG1pbGxpc2Vjb25kcy4gKi9cbiAgdmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICAgIEhPVF9TUEFOID0gMTY7XG5cbiAgLyoqIFVzZWQgdG8gaW5kaWNhdGUgdGhlIHR5cGUgb2YgbGF6eSBpdGVyYXRlZXMuICovXG4gIHZhciBMQVpZX0ZJTFRFUl9GTEFHID0gMSxcbiAgICAgIExBWllfTUFQX0ZMQUcgPSAyLFxuICAgICAgTEFaWV9XSElMRV9GTEFHID0gMztcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbiAgdmFyIElORklOSVRZID0gMSAvIDAsXG4gICAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcbiAgICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgICBOQU4gPSAwIC8gMDtcblxuICAvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB0aGUgbWF4aW11bSBsZW5ndGggYW5kIGluZGV4IG9mIGFuIGFycmF5LiAqL1xuICB2YXIgTUFYX0FSUkFZX0xFTkdUSCA9IDQyOTQ5NjcyOTUsXG4gICAgICBNQVhfQVJSQVlfSU5ERVggPSBNQVhfQVJSQVlfTEVOR1RIIC0gMSxcbiAgICAgIEhBTEZfTUFYX0FSUkFZX0xFTkdUSCA9IE1BWF9BUlJBWV9MRU5HVEggPj4+IDE7XG5cbiAgLyoqIFVzZWQgdG8gYXNzb2NpYXRlIHdyYXAgbWV0aG9kcyB3aXRoIHRoZWlyIGJpdCBmbGFncy4gKi9cbiAgdmFyIHdyYXBGbGFncyA9IFtcbiAgICBbJ2FyeScsIFdSQVBfQVJZX0ZMQUddLFxuICAgIFsnYmluZCcsIFdSQVBfQklORF9GTEFHXSxcbiAgICBbJ2JpbmRLZXknLCBXUkFQX0JJTkRfS0VZX0ZMQUddLFxuICAgIFsnY3VycnknLCBXUkFQX0NVUlJZX0ZMQUddLFxuICAgIFsnY3VycnlSaWdodCcsIFdSQVBfQ1VSUllfUklHSFRfRkxBR10sXG4gICAgWydmbGlwJywgV1JBUF9GTElQX0ZMQUddLFxuICAgIFsncGFydGlhbCcsIFdSQVBfUEFSVElBTF9GTEFHXSxcbiAgICBbJ3BhcnRpYWxSaWdodCcsIFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHXSxcbiAgICBbJ3JlYXJnJywgV1JBUF9SRUFSR19GTEFHXVxuICBdO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcbiAgICAgIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsXG4gICAgICBkb21FeGNUYWcgPSAnW29iamVjdCBET01FeGNlcHRpb25dJyxcbiAgICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgICAgZ2VuVGFnID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJyxcbiAgICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLFxuICAgICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJyxcbiAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsXG4gICAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJyxcbiAgICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXScsXG4gICAgICB3ZWFrU2V0VGFnID0gJ1tvYmplY3QgV2Vha1NldF0nO1xuXG4gIHZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgICBmbG9hdDMyVGFnID0gJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICBpbnQxNlRhZyA9ICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICB1aW50OENsYW1wZWRUYWcgPSAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggZW1wdHkgc3RyaW5nIGxpdGVyYWxzIGluIGNvbXBpbGVkIHRlbXBsYXRlIHNvdXJjZS4gKi9cbiAgdmFyIHJlRW1wdHlTdHJpbmdMZWFkaW5nID0gL1xcYl9fcCBcXCs9ICcnOy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ01pZGRsZSA9IC9cXGIoX19wIFxcKz0pICcnIFxcKy9nLFxuICAgICAgcmVFbXB0eVN0cmluZ1RyYWlsaW5nID0gLyhfX2VcXCguKj9cXCl8XFxiX190XFwpKSBcXCtcXG4nJzsvZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gLyYoPzphbXB8bHR8Z3R8cXVvdHwjMzkpOy9nLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gL1smPD5cIiddL2csXG4gICAgICByZUhhc0VzY2FwZWRIdG1sID0gUmVnRXhwKHJlRXNjYXBlZEh0bWwuc291cmNlKSxcbiAgICAgIHJlSGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZVVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGUgPSAvPCUtKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlRXZhbHVhdGUgPSAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgICAgcmVJbnRlcnBvbGF0ZSA9IC88JT0oW1xcc1xcU10rPyklPi9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgICByZUlzUGxhaW5Qcm9wID0gL15cXHcqJC8sXG4gICAgICByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgKi9cbiAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcbiAgICAgIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2csXG4gICAgICByZVRyaW1TdGFydCA9IC9eXFxzKy8sXG4gICAgICByZVRyaW1FbmQgPSAvXFxzKyQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdyYXAgZGV0YWlsIGNvbW1lbnRzLiAqL1xuICB2YXIgcmVXcmFwQ29tbWVudCA9IC9cXHsoPzpcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoIC4rXFxdIFxcKlxcLyk/XFxuPy8sXG4gICAgICByZVdyYXBEZXRhaWxzID0gL1xce1xcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggKC4rKVxcXSBcXCovLFxuICAgICAgcmVTcGxpdERldGFpbHMgPSAvLD8gJiAvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHdvcmRzIGNvbXBvc2VkIG9mIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaFxuICAgKiBbRVMgdGVtcGxhdGUgZGVsaW1pdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdGVtcGxhdGUtbGl0ZXJhbC1sZXhpY2FsLWNvbXBvbmVudHMpLlxuICAgKi9cbiAgdmFyIHJlRXNUZW1wbGF0ZSA9IC9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlRmxhZ3MgPSAvXFx3KiQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG4gIHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG4gIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG4gIHZhciByZUxhdGluID0gL1tcXHhjMC1cXHhkNlxceGQ4LVxceGY2XFx4ZjgtXFx4ZmZcXHUwMTAwLVxcdTAxN2ZdL2c7XG5cbiAgLyoqIFVzZWQgdG8gZW5zdXJlIGNhcHR1cmluZyBvcmRlciBvZiB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLiAqL1xuICB2YXIgcmVOb01hdGNoID0gLygkXikvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjaGFyYWN0ZXIgY2xhc3Nlcy4gKi9cbiAgdmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmJyxcbiAgICAgIHJlQ29tYm9IYWxmTWFya3NSYW5nZSA9ICdcXFxcdWZlMjAtXFxcXHVmZTJmJyxcbiAgICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmZicsXG4gICAgICByc0NvbWJvUmFuZ2UgPSByc0NvbWJvTWFya3NSYW5nZSArIHJlQ29tYm9IYWxmTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UsXG4gICAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICAgIHJzTG93ZXJSYW5nZSA9ICdhLXpcXFxceGRmLVxcXFx4ZjZcXFxceGY4LVxcXFx4ZmYnLFxuICAgICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgICByc1B1bmN0dWF0aW9uUmFuZ2UgPSAnXFxcXHUyMDAwLVxcXFx1MjA2ZicsXG4gICAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgICByc1ZhclJhbmdlID0gJ1xcXFx1ZmUwZVxcXFx1ZmUwZicsXG4gICAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xuICB2YXIgcnNBcG9zID0gXCJbJ1xcdTIwMTldXCIsXG4gICAgICByc0FzdHJhbCA9ICdbJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9SYW5nZSArICddJyxcbiAgICAgIHJzRGlnaXRzID0gJ1xcXFxkKycsXG4gICAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgICByc01pc2MgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArIHJzQnJlYWtSYW5nZSArIHJzRGlnaXRzICsgcnNEaW5nYmF0UmFuZ2UgKyByc0xvd2VyUmFuZ2UgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgICByc05vbkFzdHJhbCA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICAgIHJzVXBwZXIgPSAnWycgKyByc1VwcGVyUmFuZ2UgKyAnXScsXG4gICAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xuICB2YXIgcnNNaXNjTG93ZXIgPSAnKD86JyArIHJzTG93ZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc01pc2NVcHBlciA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzT3B0Q29udHJMb3dlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgICAgcnNPcHRDb250clVwcGVyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86RHxMTHxNfFJFfFN8VHxWRSkpPycsXG4gICAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgICAgcnNPcHRKb2luID0gJyg/OicgKyByc1pXSiArICcoPzonICsgW3JzTm9uQXN0cmFsLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc09wdFZhciArIHJlT3B0TW9kICsgJykqJyxcbiAgICAgIHJzT3JkTG93ZXIgPSAnXFxcXGQqKD86MXN0fDJuZHwzcmR8KD8hWzEyM10pXFxcXGR0aCkoPz1cXFxcYnxbQS1aX10pJyxcbiAgICAgIHJzT3JkVXBwZXIgPSAnXFxcXGQqKD86MVNUfDJORHwzUkR8KD8hWzEyM10pXFxcXGRUSCkoPz1cXFxcYnxbYS16X10pJyxcbiAgICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxLFxuICAgICAgcnNTeW1ib2wgPSAnKD86JyArIFtyc05vbkFzdHJhbCArIHJzQ29tYm8gKyAnPycsIHJzQ29tYm8sIHJzUmVnaW9uYWwsIHJzU3VyclBhaXIsIHJzQXN0cmFsXS5qb2luKCd8JykgKyAnKSc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG4gIHZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gICAqL1xuICB2YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBbc3RyaW5nIHN5bWJvbHNdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LXVuaWNvZGUpLiAqL1xuICB2YXIgcmVVbmljb2RlID0gUmVnRXhwKHJzRml0eiArICcoPz0nICsgcnNGaXR6ICsgJyl8JyArIHJzU3ltYm9sICsgcnNTZXEsICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbiAgdmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICAgIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNNaXNjVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNNaXNjTG93ZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzVXBwZXIgKyAnPycgKyByc01pc2NMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlcixcbiAgICByc1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyLFxuICAgIHJzT3JkVXBwZXIsXG4gICAgcnNPcmRMb3dlcixcbiAgICByc0RpZ2l0cyxcbiAgICByc0Vtb2ppXG4gIF0uam9pbignfCcpLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHdpdGggW3plcm8td2lkdGggam9pbmVycyBvciBjb2RlIHBvaW50cyBmcm9tIHRoZSBhc3RyYWwgcGxhbmVzXShodHRwOi8vZWV2LmVlL2Jsb2cvMjAxNS8wOS8xMi9kYXJrLWNvcm5lcnMtb2YtdW5pY29kZS8pLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG4gIHZhciByZUhhc1VuaWNvZGVXb3JkID0gL1thLXpdW0EtWl18W0EtWl17Mn1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbiAgLyoqIFVzZWQgdG8gYXNzaWduIGRlZmF1bHQgYGNvbnRleHRgIG9iamVjdCBwcm9wZXJ0aWVzLiAqL1xuICB2YXIgY29udGV4dFByb3BzID0gW1xuICAgICdBcnJheScsICdCdWZmZXInLCAnRGF0YVZpZXcnLCAnRGF0ZScsICdFcnJvcicsICdGbG9hdDMyQXJyYXknLCAnRmxvYXQ2NEFycmF5JyxcbiAgICAnRnVuY3Rpb24nLCAnSW50OEFycmF5JywgJ0ludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdNYXAnLCAnTWF0aCcsICdPYmplY3QnLFxuICAgICdQcm9taXNlJywgJ1JlZ0V4cCcsICdTZXQnLCAnU3RyaW5nJywgJ1N5bWJvbCcsICdUeXBlRXJyb3InLCAnVWludDhBcnJheScsXG4gICAgJ1VpbnQ4Q2xhbXBlZEFycmF5JywgJ1VpbnQxNkFycmF5JywgJ1VpbnQzMkFycmF5JywgJ1dlYWtNYXAnLFxuICAgICdfJywgJ2NsZWFyVGltZW91dCcsICdpc0Zpbml0ZScsICdwYXJzZUludCcsICdzZXRUaW1lb3V0J1xuICBdO1xuXG4gIC8qKiBVc2VkIHRvIG1ha2UgdGVtcGxhdGUgc291cmNlVVJMcyBlYXNpZXIgdG8gaWRlbnRpZnkuICovXG4gIHZhciB0ZW1wbGF0ZUNvdW50ZXIgPSAtMTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBvZiB0eXBlZCBhcnJheXMuICovXG4gIHZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xuICB0eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbaW50OFRhZ10gPSB0eXBlZEFycmF5VGFnc1tpbnQxNlRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICB0eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbZGF0YVZpZXdUYWddID0gdHlwZWRBcnJheVRhZ3NbZGF0ZVRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbb2JqZWN0VGFnXSA9IHR5cGVkQXJyYXlUYWdzW3JlZ2V4cFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi9cbiAgdmFyIGNsb25lYWJsZVRhZ3MgPSB7fTtcbiAgY2xvbmVhYmxlVGFnc1thcmdzVGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlUYWddID1cbiAgY2xvbmVhYmxlVGFnc1thcnJheUJ1ZmZlclRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGFWaWV3VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbYm9vbFRhZ10gPSBjbG9uZWFibGVUYWdzW2RhdGVUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tmbG9hdDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDhUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQxNlRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2ludDMyVGFnXSA9IGNsb25lYWJsZVRhZ3NbbWFwVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbbnVtYmVyVGFnXSA9IGNsb25lYWJsZVRhZ3Nbb2JqZWN0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbcmVnZXhwVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc2V0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3Nbc3RyaW5nVGFnXSA9IGNsb25lYWJsZVRhZ3Nbc3ltYm9sVGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbdWludDhUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50OENsYW1wZWRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbiAgY2xvbmVhYmxlVGFnc1tlcnJvclRhZ10gPSBjbG9uZWFibGVUYWdzW2Z1bmNUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbiAgdmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgICAvLyBMYXRpbi0xIFN1cHBsZW1lbnQgYmxvY2suXG4gICAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICAgJ1xceGM3JzogJ0MnLCAgJ1xceGU3JzogJ2MnLFxuICAgICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAgICdcXHhlOCc6ICdlJywgICdcXHhlOSc6ICdlJywgJ1xceGVhJzogJ2UnLCAnXFx4ZWInOiAnZScsXG4gICAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAgICdcXHhkMSc6ICdOJywgICdcXHhmMSc6ICduJyxcbiAgICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgICAnXFx4ZDknOiAnVScsICAnXFx4ZGEnOiAnVScsICdcXHhkYic6ICdVJywgJ1xceGRjJzogJ1UnLFxuICAgICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICAgJ1xceGM2JzogJ0FlJywgJ1xceGU2JzogJ2FlJyxcbiAgICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAgICdcXHhkZic6ICdzcycsXG4gICAgLy8gTGF0aW4gRXh0ZW5kZWQtQSBibG9jay5cbiAgICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgICAnXFx1MDEwNic6ICdDJywgICdcXHUwMTA4JzogJ0MnLCAnXFx1MDEwYSc6ICdDJywgJ1xcdTAxMGMnOiAnQycsXG4gICAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAgICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgICAnXFx1MDExMic6ICdFJywgICdcXHUwMTE0JzogJ0UnLCAnXFx1MDExNic6ICdFJywgJ1xcdTAxMTgnOiAnRScsICdcXHUwMTFhJzogJ0UnLFxuICAgICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAgICdcXHUwMTFkJzogJ2cnLCAgJ1xcdTAxMWYnOiAnZycsICdcXHUwMTIxJzogJ2cnLCAnXFx1MDEyMyc6ICdnJyxcbiAgICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgICAnXFx1MDEyOSc6ICdpJywgICdcXHUwMTJiJzogJ2knLCAnXFx1MDEyZCc6ICdpJywgJ1xcdTAxMmYnOiAnaScsICdcXHUwMTMxJzogJ2knLFxuICAgICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICAgJ1xcdTAxMzknOiAnTCcsICAnXFx1MDEzYic6ICdMJywgJ1xcdTAxM2QnOiAnTCcsICdcXHUwMTNmJzogJ0wnLCAnXFx1MDE0MSc6ICdMJyxcbiAgICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAgICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgICAnXFx1MDE0NCc6ICduJywgICdcXHUwMTQ2JzogJ24nLCAnXFx1MDE0OCc6ICduJywgJ1xcdTAxNGInOiAnbicsXG4gICAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICAgJ1xcdTAxNTQnOiAnUicsICAnXFx1MDE1Nic6ICdSJywgJ1xcdTAxNTgnOiAnUicsXG4gICAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAgICdcXHUwMTViJzogJ3MnLCAgJ1xcdTAxNWQnOiAncycsICdcXHUwMTVmJzogJ3MnLCAnXFx1MDE2MSc6ICdzJyxcbiAgICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgICAnXFx1MDE2OCc6ICdVJywgICdcXHUwMTZhJzogJ1UnLCAnXFx1MDE2Yyc6ICdVJywgJ1xcdTAxNmUnOiAnVScsICdcXHUwMTcwJzogJ1UnLCAnXFx1MDE3Mic6ICdVJyxcbiAgICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAgICdcXHUwMTc2JzogJ1knLCAgJ1xcdTAxNzcnOiAneScsICdcXHUwMTc4JzogJ1knLFxuICAgICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAgICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAgICdcXHUwMTMyJzogJ0lKJywgJ1xcdTAxMzMnOiAnaWonLFxuICAgICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAgICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzJ1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuICovXG4gIHZhciBodG1sRXNjYXBlcyA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBtYXAgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IHtcbiAgICAnJmFtcDsnOiAnJicsXG4gICAgJyZsdDsnOiAnPCcsXG4gICAgJyZndDsnOiAnPicsXG4gICAgJyZxdW90Oyc6ICdcIicsXG4gICAgJyYjMzk7JzogXCInXCJcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscy4gKi9cbiAgdmFyIHN0cmluZ0VzY2FwZXMgPSB7XG4gICAgJ1xcXFwnOiAnXFxcXCcsXG4gICAgXCInXCI6IFwiJ1wiLFxuICAgICdcXG4nOiAnbicsXG4gICAgJ1xccic6ICdyJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbiAgdmFyIGZyZWVQYXJzZUZsb2F0ID0gcGFyc2VGbG9hdCxcbiAgICAgIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG4gIHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xuICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuICAvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbiAgdmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbiAgdmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbiAgdmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xuICB2YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVQcm9jZXNzID0gbW9kdWxlRXhwb3J0cyAmJiBmcmVlR2xvYmFsLnByb2Nlc3M7XG5cbiAgLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG4gIHZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgICB2YXIgdHlwZXMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUucmVxdWlyZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUoJ3V0aWwnKS50eXBlcztcblxuICAgICAgaWYgKHR5cGVzKSB7XG4gICAgICAgIHJldHVybiB0eXBlcztcbiAgICAgIH1cblxuICAgICAgLy8gTGVnYWN5IGBwcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKWAgZm9yIE5vZGUuanMgPCAxMC5cbiAgICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9KCkpO1xuXG4gIC8qIE5vZGUuanMgaGVscGVyIHJlZmVyZW5jZXMuICovXG4gIHZhciBub2RlSXNBcnJheUJ1ZmZlciA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzQXJyYXlCdWZmZXIsXG4gICAgICBub2RlSXNEYXRlID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNEYXRlLFxuICAgICAgbm9kZUlzTWFwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNNYXAsXG4gICAgICBub2RlSXNSZWdFeHAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1JlZ0V4cCxcbiAgICAgIG5vZGVJc1NldCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzU2V0LFxuICAgICAgbm9kZUlzVHlwZWRBcnJheSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzVHlwZWRBcnJheTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICAgKiB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBhcmd1bWVudHMgb2YgYGFyZ3NgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBmdW5jYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUFnZ3JlZ2F0b3JgIGZvciBhcnJheXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5QWdncmVnYXRvcihhcnJheSwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaXRlcmF0ZWUodmFsdWUpLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2goYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUVhY2hSaWdodChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZXZlcnlgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RXZlcnkoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZmlsdGVyYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUZpbHRlcihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluY2x1ZGVzYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlcyhhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuICEhbGVuZ3RoICYmIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgMCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFycmF5SW5jbHVkZXNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcih2YWx1ZSwgYXJyYXlbaW5kZXhdKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVB1c2goYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbb2Zmc2V0ICsgaW5kZXhdID0gdmFsdWVzW2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgICB9XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VSaWdodGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2VSaWdodChhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbLS1sZW5ndGhdO1xuICAgIH1cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNvbWVgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgKiBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVNvbWUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHNpemUgb2YgYW4gQVNDSUkgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIHZhciBhc2NpaVNpemUgPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhbiBBU0NJSSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcuc3BsaXQoJycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNwbGl0cyBhbiBBU0NJSSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpV29yZHMoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmZpbmRLZXlgIGFuZCBgXy5maW5kTGFzdEtleWAsXG4gICAqIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmBcbiAgICogdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZm91bmQgZWxlbWVudCBvciBpdHMga2V5LCBlbHNlIGB1bmRlZmluZWRgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRLZXkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBlYWNoRnVuYykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXN1bHQgPSBrZXk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCwgZnJvbVJpZ2h0KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZVxuICAgICAgPyBzdHJpY3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KVxuICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlSW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2ZXaXRoKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmFOYCB3aXRob3V0IHN1cHBvcnQgZm9yIG51bWJlciBvYmplY3RzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJc05hTih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVhbmAgYW5kIGBfLm1lYW5CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZU1lYW4oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiBsZW5ndGggPyAoYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIC8gbGVuZ3RoKSA6IE5BTjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eWAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlZHVjZWAgYW5kIGBfLnJlZHVjZVJpZ2h0YCwgd2l0aG91dCBzdXBwb3J0XG4gICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYCB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdEFjY3VtIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IG9yIGxhc3QgZWxlbWVudCBvZlxuICAgKiAgYGNvbGxlY3Rpb25gIGFzIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSwgZWFjaEZ1bmMpIHtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaW5pdEFjY3VtXG4gICAgICAgID8gKGluaXRBY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydEJ5YCB3aGljaCB1c2VzIGBjb21wYXJlcmAgdG8gZGVmaW5lIHRoZVxuICAgKiBzb3J0IG9yZGVyIG9mIGBhcnJheWAgYW5kIHJlcGxhY2VzIGNyaXRlcmlhIG9iamVjdHMgd2l0aCB0aGVpciBjb3JyZXNwb25kaW5nXG4gICAqIHZhbHVlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmVyIFRoZSBmdW5jdGlvbiB0byBkZWZpbmUgc29ydCBvcmRlci5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU29ydEJ5KGFycmF5LCBjb21wYXJlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGFycmF5W2xlbmd0aF0gPSBhcnJheVtsZW5ndGhdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc3VtYCBhbmQgYF8uc3VtQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVN1bShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBpdGVyYXRlZShhcnJheVtpbmRleF0pO1xuICAgICAgaWYgKGN1cnJlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGN1cnJlbnQgOiAocmVzdWx0ICsgY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRpbWVzKG4sIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvUGFpcnNgIGFuZCBgXy50b1BhaXJzSW5gIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXlcbiAgICogb2Yga2V5LXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVRvUGFpcnMob2JqZWN0LCBwcm9wcykge1xuICAgIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gW2tleSwgb2JqZWN0W2tleV1dO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuYXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIHN0b3JpbmcgbWV0YWRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVW5hcnkoZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udmFsdWVzYCBhbmQgYF8udmFsdWVzSW5gIHdoaWNoIGNyZWF0ZXMgYW5cbiAgICogYXJyYXkgb2YgYG9iamVjdGAgcHJvcGVydHkgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzXG4gICAqIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVmFsdWVzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGBjYWNoZWAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhY2hlIFRoZSBjYWNoZSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGNhY2hlSGFzKGNhY2hlLCBrZXkpIHtcbiAgICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbVN0YXJ0YCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNTdGFydEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzdHJpbmcgc3ltYm9sXG4gICAqIHRoYXQgaXMgbm90IGZvdW5kIGluIHRoZSBjaGFyYWN0ZXIgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gc3RyU3ltYm9scyBUaGUgc3RyaW5nIHN5bWJvbHMgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtBcnJheX0gY2hyU3ltYm9scyBUaGUgY2hhcmFjdGVyIHN5bWJvbHMgdG8gZmluZC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3QgdW5tYXRjaGVkIHN0cmluZyBzeW1ib2wuXG4gICAqL1xuICBmdW5jdGlvbiBjaGFyc0VuZEluZGV4KHN0clN5bWJvbHMsIGNoclN5bWJvbHMpIHtcbiAgICB2YXIgaW5kZXggPSBzdHJTeW1ib2xzLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIGJhc2VJbmRleE9mKGNoclN5bWJvbHMsIHN0clN5bWJvbHNbaW5kZXhdLCAwKSA+IC0xKSB7fVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgYHBsYWNlaG9sZGVyYCBvY2N1cnJlbmNlcyBpbiBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBjb3VudEhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzdWx0ID0gMDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGFycmF5W2xlbmd0aF0gPT09IHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICsrcmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsZXR0ZXIgVGhlIG1hdGNoZWQgbGV0dGVyIHRvIGRlYnVyci5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICAgKi9cbiAgdmFyIGRlYnVyckxldHRlciA9IGJhc2VQcm9wZXJ0eU9mKGRlYnVycmVkTGV0dGVycyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8uZXNjYXBlYCB0byBjb252ZXJ0IGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIGNoYXJhY3Rlci5cbiAgICovXG4gIHZhciBlc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxFc2NhcGVzKTtcblxuICAvKipcbiAgICogVXNlZCBieSBgXy50ZW1wbGF0ZWAgdG8gZXNjYXBlIGNoYXJhY3RlcnMgZm9yIGluY2x1c2lvbiBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKGNocikge1xuICAgIHJldHVybiAnXFxcXCcgKyBzdHJpbmdFc2NhcGVzW2Nocl07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgc3ltYm9sIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGUudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGEgd29yZCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHJlSGFzVW5pY29kZVdvcmQudGVzdChzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBpdGVyYXRvcmAgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVyYXRvciBUaGUgaXRlcmF0b3IgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBpdGVyYXRvclRvQXJyYXkoaXRlcmF0b3IpIHtcbiAgICB2YXIgZGF0YSxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoIShkYXRhID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICByZXN1bHQucHVzaChkYXRhLnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBtYXBUb0FycmF5KG1hcCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShtYXAuc2l6ZSk7XG5cbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlaXIgaW5kZXhlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHsqfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdG8gcmVwbGFjZS5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlID09PSBwbGFjZWhvbGRlciB8fCB2YWx1ZSA9PT0gUExBQ0VIT0xERVIpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gUExBQ0VIT0xERVI7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGFuIGFycmF5IG9mIGl0cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlcy5cbiAgICovXG4gIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTtcblxuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzZXRgIHRvIGl0cyB2YWx1ZS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb1BhaXJzKHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW3ZhbHVlLCB2YWx1ZV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5kZXhPZmAgd2hpY2ggcGVyZm9ybXMgc3RyaWN0IGVxdWFsaXR5XG4gICAqIGNvbXBhcmlzb25zIG9mIHZhbHVlcywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoYXJyYXlbaW5kZXhdID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubGFzdEluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdExhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ICsgMTtcbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIHN5bWJvbHMgaW4gYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmluZ1NpemUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgPyB1bmljb2RlU2l6ZShzdHJpbmcpXG4gICAgICA6IGFzY2lpU2l6ZShzdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVRvQXJyYXkoc3RyaW5nKVxuICAgICAgOiBhc2NpaVRvQXJyYXkoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLnVuZXNjYXBlYCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNociBUaGUgbWF0Y2hlZCBjaGFyYWN0ZXIgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgdW5lc2NhcGVIdG1sQ2hhciA9IGJhc2VQcm9wZXJ0eU9mKGh0bWxVbmVzY2FwZXMpO1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGEgVW5pY29kZSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVNpemUoc3RyaW5nKSB7XG4gICAgdmFyIHJlc3VsdCA9IHJlVW5pY29kZS5sYXN0SW5kZXggPSAwO1xuICAgIHdoaWxlIChyZVVuaWNvZGUudGVzdChzdHJpbmcpKSB7XG4gICAgICArK3Jlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIFVuaWNvZGUgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVUb0FycmF5KHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlV29yZCkgfHwgW107XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHVzaW5nIHRoZSBgY29udGV4dGAgb2JqZWN0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBzaW5jZSAxLjEuMFxuICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHQ9cm9vdF0gVGhlIGNvbnRleHQgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBuZXcgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnZm9vJzogXy5jb25zdGFudCgnZm9vJykgfSk7XG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLnJ1bkluQ29udGV4dCgpO1xuICAgKiBsb2Rhc2gubWl4aW4oeyAnYmFyJzogbG9kYXNoLmNvbnN0YW50KCdiYXInKSB9KTtcbiAgICpcbiAgICogXy5pc0Z1bmN0aW9uKF8uZm9vKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKiBfLmlzRnVuY3Rpb24oXy5iYXIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBsb2Rhc2guaXNGdW5jdGlvbihsb2Rhc2guZm9vKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmJhcik7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3VwZWQtdXAgYGRlZmVyYCBpbiBOb2RlLmpzLlxuICAgKiB2YXIgZGVmZXIgPSBfLnJ1bkluQ29udGV4dCh7ICdzZXRUaW1lb3V0Jzogc2V0SW1tZWRpYXRlIH0pLmRlZmVyO1xuICAgKi9cbiAgdmFyIHJ1bkluQ29udGV4dCA9IChmdW5jdGlvbiBydW5JbkNvbnRleHQoY29udGV4dCkge1xuICAgIGNvbnRleHQgPSBjb250ZXh0ID09IG51bGwgPyByb290IDogXy5kZWZhdWx0cyhyb290Lk9iamVjdCgpLCBjb250ZXh0LCBfLnBpY2socm9vdCwgY29udGV4dFByb3BzKSk7XG5cbiAgICAvKiogQnVpbHQtaW4gY29uc3RydWN0b3IgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQXJyYXkgPSBjb250ZXh0LkFycmF5LFxuICAgICAgICBEYXRlID0gY29udGV4dC5EYXRlLFxuICAgICAgICBFcnJvciA9IGNvbnRleHQuRXJyb3IsXG4gICAgICAgIEZ1bmN0aW9uID0gY29udGV4dC5GdW5jdGlvbixcbiAgICAgICAgTWF0aCA9IGNvbnRleHQuTWF0aCxcbiAgICAgICAgT2JqZWN0ID0gY29udGV4dC5PYmplY3QsXG4gICAgICAgIFJlZ0V4cCA9IGNvbnRleHQuUmVnRXhwLFxuICAgICAgICBTdHJpbmcgPSBjb250ZXh0LlN0cmluZyxcbiAgICAgICAgVHlwZUVycm9yID0gY29udGV4dC5UeXBlRXJyb3I7XG5cbiAgICAvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgICAgIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xuICAgIHZhciBjb3JlSnNEYXRhID0gY29udGV4dFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbiAgICAvKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG4gICAgdmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4gICAgLyoqIFVzZWQgdG8gZ2VuZXJhdGUgdW5pcXVlIElEcy4gKi9cbiAgICB2YXIgaWRDb3VudGVyID0gMDtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtZXRob2RzIG1hc3F1ZXJhZGluZyBhcyBuYXRpdmUuICovXG4gICAgdmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICAgICAgcmV0dXJuIHVpZCA/ICgnU3ltYm9sKHNyYylfMS4nICsgdWlkKSA6ICcnO1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gICAgICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gICAgICogb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIHZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4gICAgLyoqIFVzZWQgdG8gaW5mZXIgdGhlIGBPYmplY3RgIGNvbnN0cnVjdG9yLiAqL1xuICAgIHZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuICAgIC8qKiBVc2VkIHRvIHJlc3RvcmUgdGhlIG9yaWdpbmFsIGBfYCByZWZlcmVuY2UgaW4gYF8ubm9Db25mbGljdGAuICovXG4gICAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuICAgIHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gICAgICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4gICAgKTtcblxuICAgIC8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBCdWZmZXIgPSBtb2R1bGVFeHBvcnRzID8gY29udGV4dC5CdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIFN5bWJvbCA9IGNvbnRleHQuU3ltYm9sLFxuICAgICAgICBVaW50OEFycmF5ID0gY29udGV4dC5VaW50OEFycmF5LFxuICAgICAgICBhbGxvY1Vuc2FmZSA9IEJ1ZmZlciA/IEJ1ZmZlci5hbGxvY1Vuc2FmZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsXG4gICAgICAgIHNwbGljZSA9IGFycmF5UHJvdG8uc3BsaWNlLFxuICAgICAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc3ltSXRlcmF0b3IgPSBTeW1ib2wgPyBTeW1ib2wuaXRlcmF0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZ1bmMgPSBnZXROYXRpdmUoT2JqZWN0LCAnZGVmaW5lUHJvcGVydHknKTtcbiAgICAgICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH0oKSk7XG5cbiAgICAvKiogTW9ja2VkIGJ1aWx0LWlucy4gKi9cbiAgICB2YXIgY3R4Q2xlYXJUaW1lb3V0ID0gY29udGV4dC5jbGVhclRpbWVvdXQgIT09IHJvb3QuY2xlYXJUaW1lb3V0ICYmIGNvbnRleHQuY2xlYXJUaW1lb3V0LFxuICAgICAgICBjdHhOb3cgPSBEYXRlICYmIERhdGUubm93ICE9PSByb290LkRhdGUubm93ICYmIERhdGUubm93LFxuICAgICAgICBjdHhTZXRUaW1lb3V0ID0gY29udGV4dC5zZXRUaW1lb3V0ICE9PSByb290LnNldFRpbWVvdXQgJiYgY29udGV4dC5zZXRUaW1lb3V0O1xuXG4gICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuICAgIHZhciBuYXRpdmVDZWlsID0gTWF0aC5jZWlsLFxuICAgICAgICBuYXRpdmVGbG9vciA9IE1hdGguZmxvb3IsXG4gICAgICAgIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgICAgICBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgbmF0aXZlSXNGaW5pdGUgPSBjb250ZXh0LmlzRmluaXRlLFxuICAgICAgICBuYXRpdmVKb2luID0gYXJyYXlQcm90by5qb2luLFxuICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KSxcbiAgICAgICAgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdyxcbiAgICAgICAgbmF0aXZlUGFyc2VJbnQgPSBjb250ZXh0LnBhcnNlSW50LFxuICAgICAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbSxcbiAgICAgICAgbmF0aXZlUmV2ZXJzZSA9IGFycmF5UHJvdG8ucmV2ZXJzZTtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbiAgICB2YXIgRGF0YVZpZXcgPSBnZXROYXRpdmUoY29udGV4dCwgJ0RhdGFWaWV3JyksXG4gICAgICAgIE1hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnTWFwJyksXG4gICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUoY29udGV4dCwgJ1Byb21pc2UnKSxcbiAgICAgICAgU2V0ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdTZXQnKSxcbiAgICAgICAgV2Vha01hcCA9IGdldE5hdGl2ZShjb250ZXh0LCAnV2Vha01hcCcpLFxuICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbiAgICAvKiogVXNlZCB0byBzdG9yZSBmdW5jdGlvbiBtZXRhZGF0YS4gKi9cbiAgICB2YXIgbWV0YU1hcCA9IFdlYWtNYXAgJiYgbmV3IFdlYWtNYXA7XG5cbiAgICAvKiogVXNlZCB0byBsb29rdXAgdW5taW5pZmllZCBmdW5jdGlvbiBuYW1lcy4gKi9cbiAgICB2YXIgcmVhbE5hbWVzID0ge307XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWFwcywgc2V0cywgYW5kIHdlYWttYXBzLiAqL1xuICAgIHZhciBkYXRhVmlld0N0b3JTdHJpbmcgPSB0b1NvdXJjZShEYXRhVmlldyksXG4gICAgICAgIG1hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShNYXApLFxuICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLFxuICAgICAgICBzZXRDdG9yU3RyaW5nID0gdG9Tb3VyY2UoU2V0KSxcbiAgICAgICAgd2Vha01hcEN0b3JTdHJpbmcgPSB0b1NvdXJjZShXZWFrTWFwKTtcblxuICAgIC8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xuICAgIHZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgYHZhbHVlYCB0byBlbmFibGUgaW1wbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzLiBNZXRob2RzIHRoYXQgb3BlcmF0ZSBvbiBhbmQgcmV0dXJuIGFycmF5cywgY29sbGVjdGlvbnMsXG4gICAgICogYW5kIGZ1bmN0aW9ucyBjYW4gYmUgY2hhaW5lZCB0b2dldGhlci4gTWV0aG9kcyB0aGF0IHJldHJpZXZlIGEgc2luZ2xlIHZhbHVlXG4gICAgICogb3IgbWF5IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgZW5kIHRoZSBjaGFpbiBzZXF1ZW5jZVxuICAgICAqIGFuZCByZXR1cm4gdGhlIHVud3JhcHBlZCB2YWx1ZS4gT3RoZXJ3aXNlLCB0aGUgdmFsdWUgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEV4cGxpY2l0IGNoYWluIHNlcXVlbmNlcywgd2hpY2ggbXVzdCBiZSB1bndyYXBwZWQgd2l0aCBgXyN2YWx1ZWAsIG1heSBiZVxuICAgICAqIGVuYWJsZWQgdXNpbmcgYF8uY2hhaW5gLlxuICAgICAqXG4gICAgICogVGhlIGV4ZWN1dGlvbiBvZiBjaGFpbmVkIG1ldGhvZHMgaXMgbGF6eSwgdGhhdCBpcywgaXQncyBkZWZlcnJlZCB1bnRpbFxuICAgICAqIGBfI3ZhbHVlYCBpcyBpbXBsaWNpdGx5IG9yIGV4cGxpY2l0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogTGF6eSBldmFsdWF0aW9uIGFsbG93cyBzZXZlcmFsIG1ldGhvZHMgdG8gc3VwcG9ydCBzaG9ydGN1dCBmdXNpb24uXG4gICAgICogU2hvcnRjdXQgZnVzaW9uIGlzIGFuIG9wdGltaXphdGlvbiB0byBtZXJnZSBpdGVyYXRlZSBjYWxsczsgdGhpcyBhdm9pZHNcbiAgICAgKiB0aGUgY3JlYXRpb24gb2YgaW50ZXJtZWRpYXRlIGFycmF5cyBhbmQgY2FuIGdyZWF0bHkgcmVkdWNlIHRoZSBudW1iZXIgb2ZcbiAgICAgKiBpdGVyYXRlZSBleGVjdXRpb25zLiBTZWN0aW9ucyBvZiBhIGNoYWluIHNlcXVlbmNlIHF1YWxpZnkgZm9yIHNob3J0Y3V0XG4gICAgICogZnVzaW9uIGlmIHRoZSBzZWN0aW9uIGlzIGFwcGxpZWQgdG8gYW4gYXJyYXkgYW5kIGl0ZXJhdGVlcyBhY2NlcHQgb25seVxuICAgICAqIG9uZSBhcmd1bWVudC4gVGhlIGhldXJpc3RpYyBmb3Igd2hldGhlciBhIHNlY3Rpb24gcXVhbGlmaWVzIGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpcyBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICAgKlxuICAgICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGBfI3ZhbHVlYCBtZXRob2QgaXNcbiAgICAgKiBkaXJlY3RseSBvciBpbmRpcmVjdGx5IGluY2x1ZGVkIGluIHRoZSBidWlsZC5cbiAgICAgKlxuICAgICAqIEluIGFkZGl0aW9uIHRvIGxvZGFzaCBtZXRob2RzLCB3cmFwcGVycyBoYXZlIGBBcnJheWAgYW5kIGBTdHJpbmdgIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgQXJyYXlgIG1ldGhvZHMgYXJlOlxuICAgICAqIGBjb25jYXRgLCBgam9pbmAsIGBwb3BgLCBgcHVzaGAsIGBzaGlmdGAsIGBzb3J0YCwgYHNwbGljZWAsIGFuZCBgdW5zaGlmdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIGBTdHJpbmdgIG1ldGhvZHMgYXJlOlxuICAgICAqIGByZXBsYWNlYCBhbmQgYHNwbGl0YFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uIGFyZTpcbiAgICAgKiBgYXRgLCBgY29tcGFjdGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBkcm9wV2hpbGVgLCBgZmlsdGVyYCwgYGZpbmRgLFxuICAgICAqIGBmaW5kTGFzdGAsIGBoZWFkYCwgYGluaXRpYWxgLCBgbGFzdGAsIGBtYXBgLCBgcmVqZWN0YCwgYHJldmVyc2VgLCBgc2xpY2VgLFxuICAgICAqIGB0YWlsYCwgYHRha2VgLCBgdGFrZVJpZ2h0YCwgYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGFuZCBgdG9BcnJheWBcbiAgICAgKlxuICAgICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBtZXRob2RzIGFyZTpcbiAgICAgKiBgYWZ0ZXJgLCBgYXJ5YCwgYGFzc2lnbmAsIGBhc3NpZ25JbmAsIGBhc3NpZ25JbldpdGhgLCBgYXNzaWduV2l0aGAsIGBhdGAsXG4gICAgICogYGJlZm9yZWAsIGBiaW5kYCwgYGJpbmRBbGxgLCBgYmluZEtleWAsIGBjYXN0QXJyYXlgLCBgY2hhaW5gLCBgY2h1bmtgLFxuICAgICAqIGBjb21taXRgLCBgY29tcGFjdGAsIGBjb25jYXRgLCBgY29uZm9ybXNgLCBgY29uc3RhbnRgLCBgY291bnRCeWAsIGBjcmVhdGVgLFxuICAgICAqIGBjdXJyeWAsIGBkZWJvdW5jZWAsIGBkZWZhdWx0c2AsIGBkZWZhdWx0c0RlZXBgLCBgZGVmZXJgLCBgZGVsYXlgLFxuICAgICAqIGBkaWZmZXJlbmNlYCwgYGRpZmZlcmVuY2VCeWAsIGBkaWZmZXJlbmNlV2l0aGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsXG4gICAgICogYGRyb3BSaWdodFdoaWxlYCwgYGRyb3BXaGlsZWAsIGBleHRlbmRgLCBgZXh0ZW5kV2l0aGAsIGBmaWxsYCwgYGZpbHRlcmAsXG4gICAgICogYGZsYXRNYXBgLCBgZmxhdE1hcERlZXBgLCBgZmxhdE1hcERlcHRoYCwgYGZsYXR0ZW5gLCBgZmxhdHRlbkRlZXBgLFxuICAgICAqIGBmbGF0dGVuRGVwdGhgLCBgZmxpcGAsIGBmbG93YCwgYGZsb3dSaWdodGAsIGBmcm9tUGFpcnNgLCBgZnVuY3Rpb25zYCxcbiAgICAgKiBgZnVuY3Rpb25zSW5gLCBgZ3JvdXBCeWAsIGBpbml0aWFsYCwgYGludGVyc2VjdGlvbmAsIGBpbnRlcnNlY3Rpb25CeWAsXG4gICAgICogYGludGVyc2VjdGlvbldpdGhgLCBgaW52ZXJ0YCwgYGludmVydEJ5YCwgYGludm9rZU1hcGAsIGBpdGVyYXRlZWAsIGBrZXlCeWAsXG4gICAgICogYGtleXNgLCBga2V5c0luYCwgYG1hcGAsIGBtYXBLZXlzYCwgYG1hcFZhbHVlc2AsIGBtYXRjaGVzYCwgYG1hdGNoZXNQcm9wZXJ0eWAsXG4gICAgICogYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWVyZ2VXaXRoYCwgYG1ldGhvZGAsIGBtZXRob2RPZmAsIGBtaXhpbmAsIGBuZWdhdGVgLFxuICAgICAqIGBudGhBcmdgLCBgb21pdGAsIGBvbWl0QnlgLCBgb25jZWAsIGBvcmRlckJ5YCwgYG92ZXJgLCBgb3ZlckFyZ3NgLFxuICAgICAqIGBvdmVyRXZlcnlgLCBgb3ZlclNvbWVgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGFydGl0aW9uYCwgYHBpY2tgLFxuICAgICAqIGBwaWNrQnlgLCBgcGxhbnRgLCBgcHJvcGVydHlgLCBgcHJvcGVydHlPZmAsIGBwdWxsYCwgYHB1bGxBbGxgLCBgcHVsbEFsbEJ5YCxcbiAgICAgKiBgcHVsbEFsbFdpdGhgLCBgcHVsbEF0YCwgYHB1c2hgLCBgcmFuZ2VgLCBgcmFuZ2VSaWdodGAsIGByZWFyZ2AsIGByZWplY3RgLFxuICAgICAqIGByZW1vdmVgLCBgcmVzdGAsIGByZXZlcnNlYCwgYHNhbXBsZVNpemVgLCBgc2V0YCwgYHNldFdpdGhgLCBgc2h1ZmZsZWAsXG4gICAgICogYHNsaWNlYCwgYHNvcnRgLCBgc29ydEJ5YCwgYHNwbGljZWAsIGBzcHJlYWRgLCBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsXG4gICAgICogYHRha2VSaWdodFdoaWxlYCwgYHRha2VXaGlsZWAsIGB0YXBgLCBgdGhyb3R0bGVgLCBgdGhydWAsIGB0b0FycmF5YCxcbiAgICAgKiBgdG9QYWlyc2AsIGB0b1BhaXJzSW5gLCBgdG9QYXRoYCwgYHRvUGxhaW5PYmplY3RgLCBgdHJhbnNmb3JtYCwgYHVuYXJ5YCxcbiAgICAgKiBgdW5pb25gLCBgdW5pb25CeWAsIGB1bmlvbldpdGhgLCBgdW5pcWAsIGB1bmlxQnlgLCBgdW5pcVdpdGhgLCBgdW5zZXRgLFxuICAgICAqIGB1bnNoaWZ0YCwgYHVuemlwYCwgYHVuemlwV2l0aGAsIGB1cGRhdGVgLCBgdXBkYXRlV2l0aGAsIGB2YWx1ZXNgLFxuICAgICAqIGB2YWx1ZXNJbmAsIGB3aXRob3V0YCwgYHdyYXBgLCBgeG9yYCwgYHhvckJ5YCwgYHhvcldpdGhgLCBgemlwYCxcbiAgICAgKiBgemlwT2JqZWN0YCwgYHppcE9iamVjdERlZXBgLCBhbmQgYHppcFdpdGhgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBtZXRob2RzIHRoYXQgYXJlICoqbm90KiogY2hhaW5hYmxlIGJ5IGRlZmF1bHQgYXJlOlxuICAgICAqIGBhZGRgLCBgYXR0ZW1wdGAsIGBjYW1lbENhc2VgLCBgY2FwaXRhbGl6ZWAsIGBjZWlsYCwgYGNsYW1wYCwgYGNsb25lYCxcbiAgICAgKiBgY2xvbmVEZWVwYCwgYGNsb25lRGVlcFdpdGhgLCBgY2xvbmVXaXRoYCwgYGNvbmZvcm1zVG9gLCBgZGVidXJyYCxcbiAgICAgKiBgZGVmYXVsdFRvYCwgYGRpdmlkZWAsIGBlYWNoYCwgYGVhY2hSaWdodGAsIGBlbmRzV2l0aGAsIGBlcWAsIGBlc2NhcGVgLFxuICAgICAqIGBlc2NhcGVSZWdFeHBgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLCBgZmluZEtleWAsIGBmaW5kTGFzdGAsXG4gICAgICogYGZpbmRMYXN0SW5kZXhgLCBgZmluZExhc3RLZXlgLCBgZmlyc3RgLCBgZmxvb3JgLCBgZm9yRWFjaGAsIGBmb3JFYWNoUmlnaHRgLFxuICAgICAqIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsIGBnZXRgLCBgZ3RgLCBgZ3RlYCwgYGhhc2AsXG4gICAgICogYGhhc0luYCwgYGhlYWRgLCBgaWRlbnRpdHlgLCBgaW5jbHVkZXNgLCBgaW5kZXhPZmAsIGBpblJhbmdlYCwgYGludm9rZWAsXG4gICAgICogYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNBcnJheUJ1ZmZlcmAsIGBpc0FycmF5TGlrZWAsIGBpc0FycmF5TGlrZU9iamVjdGAsXG4gICAgICogYGlzQm9vbGVhbmAsIGBpc0J1ZmZlcmAsIGBpc0RhdGVgLCBgaXNFbGVtZW50YCwgYGlzRW1wdHlgLCBgaXNFcXVhbGAsXG4gICAgICogYGlzRXF1YWxXaXRoYCwgYGlzRXJyb3JgLCBgaXNGaW5pdGVgLCBgaXNGdW5jdGlvbmAsIGBpc0ludGVnZXJgLCBgaXNMZW5ndGhgLFxuICAgICAqIGBpc01hcGAsIGBpc01hdGNoYCwgYGlzTWF0Y2hXaXRoYCwgYGlzTmFOYCwgYGlzTmF0aXZlYCwgYGlzTmlsYCwgYGlzTnVsbGAsXG4gICAgICogYGlzTnVtYmVyYCwgYGlzT2JqZWN0YCwgYGlzT2JqZWN0TGlrZWAsIGBpc1BsYWluT2JqZWN0YCwgYGlzUmVnRXhwYCxcbiAgICAgKiBgaXNTYWZlSW50ZWdlcmAsIGBpc1NldGAsIGBpc1N0cmluZ2AsIGBpc1VuZGVmaW5lZGAsIGBpc1R5cGVkQXJyYXlgLFxuICAgICAqIGBpc1dlYWtNYXBgLCBgaXNXZWFrU2V0YCwgYGpvaW5gLCBga2ViYWJDYXNlYCwgYGxhc3RgLCBgbGFzdEluZGV4T2ZgLFxuICAgICAqIGBsb3dlckNhc2VgLCBgbG93ZXJGaXJzdGAsIGBsdGAsIGBsdGVgLCBgbWF4YCwgYG1heEJ5YCwgYG1lYW5gLCBgbWVhbkJ5YCxcbiAgICAgKiBgbWluYCwgYG1pbkJ5YCwgYG11bHRpcGx5YCwgYG5vQ29uZmxpY3RgLCBgbm9vcGAsIGBub3dgLCBgbnRoYCwgYHBhZGAsXG4gICAgICogYHBhZEVuZGAsIGBwYWRTdGFydGAsIGBwYXJzZUludGAsIGBwb3BgLCBgcmFuZG9tYCwgYHJlZHVjZWAsIGByZWR1Y2VSaWdodGAsXG4gICAgICogYHJlcGVhdGAsIGByZXN1bHRgLCBgcm91bmRgLCBgcnVuSW5Db250ZXh0YCwgYHNhbXBsZWAsIGBzaGlmdGAsIGBzaXplYCxcbiAgICAgKiBgc25ha2VDYXNlYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgc29ydGVkSW5kZXhCeWAsIGBzb3J0ZWRMYXN0SW5kZXhgLFxuICAgICAqIGBzb3J0ZWRMYXN0SW5kZXhCeWAsIGBzdGFydENhc2VgLCBgc3RhcnRzV2l0aGAsIGBzdHViQXJyYXlgLCBgc3R1YkZhbHNlYCxcbiAgICAgKiBgc3R1Yk9iamVjdGAsIGBzdHViU3RyaW5nYCwgYHN0dWJUcnVlYCwgYHN1YnRyYWN0YCwgYHN1bWAsIGBzdW1CeWAsXG4gICAgICogYHRlbXBsYXRlYCwgYHRpbWVzYCwgYHRvRmluaXRlYCwgYHRvSW50ZWdlcmAsIGB0b0pTT05gLCBgdG9MZW5ndGhgLFxuICAgICAqIGB0b0xvd2VyYCwgYHRvTnVtYmVyYCwgYHRvU2FmZUludGVnZXJgLCBgdG9TdHJpbmdgLCBgdG9VcHBlcmAsIGB0cmltYCxcbiAgICAgKiBgdHJpbUVuZGAsIGB0cmltU3RhcnRgLCBgdHJ1bmNhdGVgLCBgdW5lc2NhcGVgLCBgdW5pcXVlSWRgLCBgdXBwZXJDYXNlYCxcbiAgICAgKiBgdXBwZXJGaXJzdGAsIGB2YWx1ZWAsIGFuZCBgd29yZHNgXG4gICAgICpcbiAgICAgKiBAbmFtZSBfXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICAgKlxuICAgICAqIC8vIFJldHVybnMgYW4gdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIHdyYXBwZWQucmVkdWNlKF8uYWRkKTtcbiAgICAgKiAvLyA9PiA2XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKHNxdWFyZSk7XG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdExpa2UodmFsdWUpICYmICFpc0FycmF5KHZhbHVlKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIExvZGFzaFdyYXBwZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdfX3dyYXBwZWRfXycpKSB7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZXJDbG9uZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY3JlYXRlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGFzc2lnbmluZ1xuICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocHJvdG8pIHtcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgICAgIHJldHVybiBvYmplY3RDcmVhdGUocHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wcm90b3R5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gd2hvc2UgcHJvdG90eXBlIGNoYWluIHNlcXVlbmNlIHdyYXBwZXJzIGluaGVyaXQgZnJvbS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUxvZGFzaCgpIHtcbiAgICAgIC8vIE5vIG9wZXJhdGlvbiBwZXJmb3JtZWQuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgY29uc3RydWN0b3IgZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjaGFpbkFsbF0gRW5hYmxlIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9kYXNoV3JhcHBlcih2YWx1ZSwgY2hhaW5BbGwpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19jaGFpbl9fID0gISFjaGFpbkFsbDtcbiAgICAgIHRoaXMuX19pbmRleF9fID0gMDtcbiAgICAgIHRoaXMuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGUgdGVtcGxhdGUgZGVsaW1pdGVycyB1c2VkIGJ5IGxvZGFzaCBhcmUgbGlrZSB0aG9zZSBpblxuICAgICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikgYXMgd2VsbCBhcyBFUzIwMTUgdGVtcGxhdGUgc3RyaW5ncy4gQ2hhbmdlIHRoZVxuICAgICAqIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBiZSBIVE1MLWVzY2FwZWQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2VzY2FwZSc6IHJlRXNjYXBlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGNvZGUgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdldmFsdWF0ZSc6IHJlRXZhbHVhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge1JlZ0V4cH1cbiAgICAgICAqL1xuICAgICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIHJlZmVyZW5jZSB0aGUgZGF0YSBvYmplY3QgaW4gdGhlIHRlbXBsYXRlIHRleHQuXG4gICAgICAgKlxuICAgICAgICogQG1lbWJlck9mIF8udGVtcGxhdGVTZXR0aW5nc1xuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgJ3ZhcmlhYmxlJzogJycsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBpbXBvcnQgdmFyaWFibGVzIGludG8gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgKi9cbiAgICAgICdpbXBvcnRzJzoge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3MuaW1wb3J0c1xuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICAnXyc6IGxvZGFzaFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBFbnN1cmUgd3JhcHBlcnMgYXJlIGluc3RhbmNlcyBvZiBgYmFzZUxvZGFzaGAuXG4gICAgbG9kYXNoLnByb3RvdHlwZSA9IGJhc2VMb2Rhc2gucHJvdG90eXBlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsb2Rhc2g7XG5cbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGJhc2VDcmVhdGUoYmFzZUxvZGFzaC5wcm90b3R5cGUpO1xuICAgIExvZGFzaFdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9kYXNoV3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBsYXp5IHdyYXBwZXIgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGxhenkgZXZhbHVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMYXp5V3JhcHBlcih2YWx1ZSkge1xuICAgICAgdGhpcy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgdGhpcy5fX2FjdGlvbnNfXyA9IFtdO1xuICAgICAgdGhpcy5fX2Rpcl9fID0gMTtcbiAgICAgIHRoaXMuX19maWx0ZXJlZF9fID0gZmFsc2U7XG4gICAgICB0aGlzLl9faXRlcmF0ZWVzX18gPSBbXTtcbiAgICAgIHRoaXMuX190YWtlQ291bnRfXyA9IE1BWF9BUlJBWV9MRU5HVEg7XG4gICAgICB0aGlzLl9fdmlld3NfXyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgbGF6eSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xvbmVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eUNsb25lKCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzLl9fd3JhcHBlZF9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh0aGlzLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2Rpcl9fID0gdGhpcy5fX2Rpcl9fO1xuICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRoaXMuX19maWx0ZXJlZF9fO1xuICAgICAgcmVzdWx0Ll9faXRlcmF0ZWVzX18gPSBjb3B5QXJyYXkodGhpcy5fX2l0ZXJhdGVlc19fKTtcbiAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gdGhpcy5fX3Rha2VDb3VudF9fO1xuICAgICAgcmVzdWx0Ll9fdmlld3NfXyA9IGNvcHlBcnJheSh0aGlzLl9fdmlld3NfXyk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldmVyc2VzIHRoZSBkaXJlY3Rpb24gb2YgbGF6eSBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgcmV2ZXJzZWQgYExhenlXcmFwcGVyYCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGF6eVJldmVyc2UoKSB7XG4gICAgICBpZiAodGhpcy5fX2ZpbHRlcmVkX18pIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgcmVzdWx0Ll9fZGlyX18gPSAtMTtcbiAgICAgICAgcmVzdWx0Ll9fZmlsdGVyZWRfXyA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fICo9IC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgdW53cmFwcGVkIHZhbHVlIGZyb20gaXRzIGxhenkgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgTGF6eVdyYXBwZXJcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlWYWx1ZSgpIHtcbiAgICAgIHZhciBhcnJheSA9IHRoaXMuX193cmFwcGVkX18udmFsdWUoKSxcbiAgICAgICAgICBkaXIgPSB0aGlzLl9fZGlyX18sXG4gICAgICAgICAgaXNBcnIgPSBpc0FycmF5KGFycmF5KSxcbiAgICAgICAgICBpc1JpZ2h0ID0gZGlyIDwgMCxcbiAgICAgICAgICBhcnJMZW5ndGggPSBpc0FyciA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgICAgdmlldyA9IGdldFZpZXcoMCwgYXJyTGVuZ3RoLCB0aGlzLl9fdmlld3NfXyksXG4gICAgICAgICAgc3RhcnQgPSB2aWV3LnN0YXJ0LFxuICAgICAgICAgIGVuZCA9IHZpZXcuZW5kLFxuICAgICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0LFxuICAgICAgICAgIGluZGV4ID0gaXNSaWdodCA/IGVuZCA6IChzdGFydCAtIDEpLFxuICAgICAgICAgIGl0ZXJhdGVlcyA9IHRoaXMuX19pdGVyYXRlZXNfXyxcbiAgICAgICAgICBpdGVyTGVuZ3RoID0gaXRlcmF0ZWVzLmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgdGFrZUNvdW50ID0gbmF0aXZlTWluKGxlbmd0aCwgdGhpcy5fX3Rha2VDb3VudF9fKTtcblxuICAgICAgaWYgKCFpc0FyciB8fCAoIWlzUmlnaHQgJiYgYXJyTGVuZ3RoID09IGxlbmd0aCAmJiB0YWtlQ291bnQgPT0gbGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZShhcnJheSwgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKGxlbmd0aC0tICYmIHJlc0luZGV4IDwgdGFrZUNvdW50KSB7XG4gICAgICAgIGluZGV4ICs9IGRpcjtcblxuICAgICAgICB2YXIgaXRlckluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcblxuICAgICAgICB3aGlsZSAoKytpdGVySW5kZXggPCBpdGVyTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBpdGVyYXRlZXNbaXRlckluZGV4XSxcbiAgICAgICAgICAgICAgaXRlcmF0ZWUgPSBkYXRhLml0ZXJhdGVlLFxuICAgICAgICAgICAgICB0eXBlID0gZGF0YS50eXBlLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0eXBlID09IExBWllfTUFQX0ZMQUcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY29tcHV0ZWQ7XG4gICAgICAgICAgfSBlbHNlIGlmICghY29tcHV0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09IExBWllfRklMVEVSX0ZMQUcpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVhayBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBgTGF6eVdyYXBwZXJgIGlzIGFuIGluc3RhbmNlIG9mIGBiYXNlTG9kYXNoYC5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMYXp5V3JhcHBlcjtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmF0aXZlQ3JlYXRlID8gbmF0aXZlQ3JlYXRlKG51bGwpIDoge307XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gICAgICB0aGlzLnNpemUgLT0gcmVzdWx0ID8gMSA6IDA7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgSGFzaFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBoYXNoIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgICAgIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuICAgIEhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG4gICAgSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbiAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuICAgIEhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGxpc3QgY2FjaGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaXN0Q2FjaGUoZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgZGF0YS5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICAgIC0tdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgICAgIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICsrdGhpcy5zaXplO1xuICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbiAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAgICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBzZXRcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuICAgIE1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGNhY2hlIG9iamVjdCB0byBzdG9yZSB1bmlxdWUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNldENhY2hlKHZhbHVlcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzID09IG51bGwgPyAwIDogdmFsdWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBNYXBDYWNoZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHZhbHVlYCB0byB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGFkZFxuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBhbGlhcyBwdXNoXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2FjaGUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2FjaGUgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q2FjaGVBZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX19kYXRhX18uc2V0KHZhbHVlLCBIQVNIX1VOREVGSU5FRCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTZXRDYWNoZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlSGFzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBTZXRDYWNoZWAuXG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG4gICAgU2V0Q2FjaGUucHJvdG90eXBlLmhhcyA9IHNldENhY2hlSGFzO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN0YWNrKGVudHJpZXMpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsZWFyXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHtcbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlO1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGRlbGV0ZVxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0RlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICByZXN1bHQgPSBkYXRhWydkZWxldGUnXShrZXkpO1xuXG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrR2V0KGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrSGFzKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIFN0YWNrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHN0YWNrIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgTGlzdENhY2hlKSB7XG4gICAgICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgICAgIGlmICghTWFwIHx8IChwYWlycy5sZW5ndGggPCBMQVJHRV9BUlJBWV9TSVpFIC0gMSkpIHtcbiAgICAgICAgICBwYWlycy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICAgICAgfVxuICAgICAgZGF0YS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuICAgIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IHN0YWNrQ2xlYXI7XG4gICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlO1xuICAgIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcbiAgICBTdGFjay5wcm90b3R5cGUuaGFzID0gc3RhY2tIYXM7XG4gICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaGVyaXRlZCBTcGVjaWZ5IHJldHVybmluZyBpbmhlcml0ZWQgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheUxpa2VLZXlzKHZhbHVlLCBpbmhlcml0ZWQpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgICAgICBpc0J1ZmYgPSAhaXNBcnIgJiYgIWlzQXJnICYmIGlzQnVmZmVyKHZhbHVlKSxcbiAgICAgICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICAgICAgcmVzdWx0ID0gc2tpcEluZGV4ZXMgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpIDogW10sXG4gICAgICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmICgoaW5oZXJpdGVkIHx8IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpICYmXG4gICAgICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAgICAgIGtleSA9PSAnbGVuZ3RoJyB8fFxuICAgICAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFBoYW50b21KUyAyIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIHR5cGVkIGFycmF5cy5cbiAgICAgICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgICAgaXNJbmRleChrZXksIGxlbmd0aClcbiAgICAgICAgICAgICkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBhcnJheVtiYXNlUmFuZG9tKDAsIGxlbmd0aCAtIDEpXSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2FtcGxlU2l6ZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNhbXBsZVNpemUoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpLCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IHNodWZmbGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFycmF5U2h1ZmZsZShhcnJheSkge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGNvcHlBcnJheShhcnJheSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gICAgICogYHVuZGVmaW5lZGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NpZ25NZXJnZVZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZ2dyZWdhdGVzIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCBvbiBgYWNjdW11bGF0b3JgIHdpdGgga2V5cyB0cmFuc2Zvcm1lZFxuICAgICAqIGJ5IGBpdGVyYXRlZWAgYW5kIHZhbHVlcyBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGFnZ3JlZ2F0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBZ2dyZWdhdG9yKGNvbGxlY3Rpb24sIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlc1xuICAgICAqIG9yIGBjdXN0b21pemVyYCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUFzc2lnbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmFzc2lnbkluYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25JbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGFzc2lnblZhbHVlYCBhbmQgYGFzc2lnbk1lcmdlVmFsdWVgIHdpdGhvdXRcbiAgICAgKiB2YWx1ZSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycgJiYgZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAgICAgICAnZW51bWVyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAgICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXQob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCksXG4gICAgICAgICAgc2tpcCA9IG9iamVjdCA9PSBudWxsO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gc2tpcCA/IHVuZGVmaW5lZCA6IGdldChvYmplY3QsIHBhdGhzW2luZGV4XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsYW1wYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjbGFtcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyXSBUaGUgbG93ZXIgYm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjbGFtcGVkIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmIChudW1iZXIgPT09IG51bWJlcikge1xuICAgICAgICBpZiAodXBwZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA8PSB1cHBlciA/IG51bWJlciA6IHVwcGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtYmVyID0gbnVtYmVyID49IGxvd2VyID8gbnVtYmVyIDogbG93ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY2xvbmVgIGFuZCBgXy5jbG9uZURlZXBgIHdoaWNoIHRyYWNrc1xuICAgICAqIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBEZWVwIGNsb25lXG4gICAgICogIDIgLSBGbGF0dGVuIGluaGVyaXRlZCBwcm9wZXJ0aWVzXG4gICAgICogIDQgLSBDbG9uZSBzeW1ib2xzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gVGhlIGtleSBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgcGFyZW50IG9iamVjdCBvZiBgdmFsdWVgLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBjbG9uZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsb25lKHZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgaXNEZWVwID0gYml0bWFzayAmIENMT05FX0RFRVBfRkxBRyxcbiAgICAgICAgICBpc0ZsYXQgPSBiaXRtYXNrICYgQ0xPTkVfRkxBVF9GTEFHLFxuICAgICAgICAgIGlzRnVsbCA9IGJpdG1hc2sgJiBDTE9ORV9TWU1CT0xTX0ZMQUc7XG5cbiAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgIHJlc3VsdCA9IG9iamVjdCA/IGN1c3RvbWl6ZXIodmFsdWUsIGtleSwgb2JqZWN0LCBzdGFjaykgOiBjdXN0b21pemVyKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheSh2YWx1ZSk7XG4gICAgICBpZiAoaXNBcnIpIHtcbiAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQXJyYXkodmFsdWUpO1xuICAgICAgICBpZiAoIWlzRGVlcCkge1xuICAgICAgICAgIHJldHVybiBjb3B5QXJyYXkodmFsdWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgICAgaXNGdW5jID0gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcblxuICAgICAgICBpZiAoaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IChpc0Z1bmMgJiYgIW9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQgPSAoaXNGbGF0IHx8IGlzRnVuYykgPyB7fSA6IGluaXRDbG9uZU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICAgIHJldHVybiBpc0ZsYXRcbiAgICAgICAgICAgICAgPyBjb3B5U3ltYm9sc0luKHZhbHVlLCBiYXNlQXNzaWduSW4ocmVzdWx0LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogY29weVN5bWJvbHModmFsdWUsIGJhc2VBc3NpZ24ocmVzdWx0LCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWNsb25lYWJsZVRhZ3NbdGFnXSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUJ5VGFnKHZhbHVlLCB0YWcsIGlzRGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGZvciBjaXJjdWxhciByZWZlcmVuY2VzIGFuZCByZXR1cm4gaXRzIGNvcnJlc3BvbmRpbmcgY2xvbmUuXG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQodmFsdWUpO1xuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQ7XG4gICAgICB9XG4gICAgICBzdGFjay5zZXQodmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQoYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdWJWYWx1ZSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc01hcCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgICAgcmVzdWx0LnNldChrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgdmFyIGtleXNGdW5jID0gaXNGdWxsXG4gICAgICAgID8gKGlzRmxhdCA/IGdldEFsbEtleXNJbiA6IGdldEFsbEtleXMpXG4gICAgICAgIDogKGlzRmxhdCA/IGtleXNJbiA6IGtleXMpO1xuXG4gICAgICB2YXIgcHJvcHMgPSBpc0FyciA/IHVuZGVmaW5lZCA6IGtleXNGdW5jKHZhbHVlKTtcbiAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTtcbiAgICAgICAgICBzdWJWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgcG9wdWxhdGUgY2xvbmUgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtcyhzb3VyY2UpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zVG9gIHdoaWNoIGFjY2VwdHMgYHByb3BzYCB0byBjaGVjay5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHByZWRpY2F0ZXMgdG8gY29uZm9ybSB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgY29uZm9ybXMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbbGVuZ3RoXSxcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHNvdXJjZVtrZXldLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkgfHwgIXByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmRlbGF5YCBhbmQgYF8uZGVmZXJgIHdoaWNoIGFjY2VwdHMgYGFyZ3NgXG4gICAgICogdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGVsYXkoZnVuYywgd2FpdCwgYXJncykge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBleGNsdWRpbmcgbXVsdGlwbGUgYXJyYXlzIG9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBpc0NvbW1vbiA9IHRydWUsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHZhbHVlc0xlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPT0gbnVsbCA/IHZhbHVlIDogaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHZhbHVlc0luZGV4ID0gdmFsdWVzTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICh2YWx1ZXNJbmRleC0tKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2ggPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hSaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fSBSZXR1cm5zIGBjb2xsZWN0aW9uYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUVhY2hSaWdodCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd25SaWdodCwgdHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ldmVyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFdmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9ICEhcHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLm1heGAgYW5kIGBfLm1pbmAgd2hpY2ggYWNjZXB0cyBhXG4gICAgICogYGNvbXBhcmF0b3JgIHRvIGRldGVybWluZSB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIHVzZWQgdG8gY29tcGFyZSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VFeHRyZW11bShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudCA9IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudCAhPSBudWxsICYmIChjb21wdXRlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPT09IGN1cnJlbnQgJiYgIWlzU3ltYm9sKGN1cnJlbnQpKVxuICAgICAgICAgICAgICA6IGNvbXBhcmF0b3IoY3VycmVudCwgY29tcHV0ZWQpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgdmFyIGNvbXB1dGVkID0gY3VycmVudCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsbGAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBzdGFydCA9IHRvSW50ZWdlcihzdGFydCk7XG4gICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ID0gLXN0YXJ0ID4gbGVuZ3RoID8gMCA6IChsZW5ndGggKyBzdGFydCk7XG4gICAgICB9XG4gICAgICBlbmQgPSAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gbGVuZ3RoKSA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ID4gZW5kID8gMCA6IHRvTGVuZ3RoKGVuZCk7XG4gICAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgYXJyYXlbc3RhcnQrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWx0ZXJgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aCBzdXBwb3J0IGZvciByZXN0cmljdGluZyBmbGF0dGVuaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVwdGggVGhlIG1heGltdW0gcmVjdXJzaW9uIGRlcHRoLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RyaWN0XSBSZXN0cmljdCB0byB2YWx1ZXMgdGhhdCBwYXNzIGBwcmVkaWNhdGVgIGNoZWNrcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0PVtdXSBUaGUgaW5pdGlhbCByZXN1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGbGF0dGVuKGFycmF5LCBkZXB0aCwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gaXNGbGF0dGVuYWJsZSk7XG4gICAgICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAoZGVwdGggPiAxKSB7XG4gICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNTdHJpY3QpIHtcbiAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgYmFzZUZvck93bmAgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgb2JqZWN0YFxuICAgICAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICAgICAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUZvcmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzXG4gICAgICogaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yUmlnaHQgPSBjcmVhdGVCYXNlRm9yKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yKG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93blJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGb3JPd25SaWdodChvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JSaWdodChvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mdW5jdGlvbnNgIHdoaWNoIGNyZWF0ZXMgYW4gYXJyYXkgb2ZcbiAgICAgKiBgb2JqZWN0YCBmdW5jdGlvbiBwcm9wZXJ0eSBuYW1lcyBmaWx0ZXJlZCBmcm9tIGBwcm9wc2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBmaWx0ZXIuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRnVuY3Rpb25zKG9iamVjdCwgcHJvcHMpIHtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iamVjdFtrZXldKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmdldGAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWZhdWx0IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKG9iamVjdCAhPSBudWxsICYmIGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFt0b0tleShwYXRoW2luZGV4KytdKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09IGxlbmd0aCkgPyBvYmplY3QgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gICAgICogYGtleXNGdW5jYCBhbmQgYHN5bWJvbHNGdW5jYCB0byBnZXQgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kXG4gICAgICogc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3ltYm9sc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5c0Z1bmMob2JqZWN0KTtcbiAgICAgIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICAgICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmd0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VHdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc2Agd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNJbmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VIYXNJbihvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGtleSBpbiBPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pblJhbmdlYCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHJldHVybiBudW1iZXIgPj0gbmF0aXZlTWluKHN0YXJ0LCBlbmQpICYmIG51bWJlciA8IG5hdGl2ZU1heChzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uaW50ZXJzZWN0aW9uYCwgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHRoYXQgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlzIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludGVyc2VjdGlvbihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5jbHVkZXMgPSBjb21wYXJhdG9yID8gYXJyYXlJbmNsdWRlc1dpdGggOiBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5c1swXS5sZW5ndGgsXG4gICAgICAgICAgb3RoTGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aCxcbiAgICAgICAgICBjYWNoZXMgPSBBcnJheShvdGhMZW5ndGgpLFxuICAgICAgICAgIG1heExlbmd0aCA9IEluZmluaXR5LFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAob3RoSW5kZXgtLSkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbb3RoSW5kZXhdO1xuICAgICAgICBpZiAob3RoSW5kZXggJiYgaXRlcmF0ZWUpIHtcbiAgICAgICAgICBhcnJheSA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgICAgfVxuICAgICAgICBtYXhMZW5ndGggPSBuYXRpdmVNaW4oYXJyYXkubGVuZ3RoLCBtYXhMZW5ndGgpO1xuICAgICAgICBjYWNoZXNbb3RoSW5kZXhdID0gIWNvbXBhcmF0b3IgJiYgKGl0ZXJhdGVlIHx8IChsZW5ndGggPj0gMTIwICYmIGFycmF5Lmxlbmd0aCA+PSAxMjApKVxuICAgICAgICAgID8gbmV3IFNldENhY2hlKG90aEluZGV4ICYmIGFycmF5KVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgYXJyYXkgPSBhcnJheXNbMF07XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHNlZW4gPSBjYWNoZXNbMF07XG5cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgcmVzdWx0Lmxlbmd0aCA8IG1heExlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmICghKHNlZW5cbiAgICAgICAgICAgICAgPyBjYWNoZUhhcyhzZWVuLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgOiBpbmNsdWRlcyhyZXN1bHQsIGNvbXB1dGVkLCBjb21wYXJhdG9yKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLW90aEluZGV4KSB7XG4gICAgICAgICAgICB2YXIgY2FjaGUgPSBjYWNoZXNbb3RoSW5kZXhdO1xuICAgICAgICAgICAgaWYgKCEoY2FjaGVcbiAgICAgICAgICAgICAgICAgID8gY2FjaGVIYXMoY2FjaGUsIGNvbXB1dGVkKVxuICAgICAgICAgICAgICAgICAgOiBpbmNsdWRlcyhhcnJheXNbb3RoSW5kZXhdLCBjb21wdXRlZCwgY29tcGFyYXRvcikpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2Vlbikge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludmVydGAgYW5kIGBfLmludmVydEJ5YCB3aGljaCBpbnZlcnRzXG4gICAgICogYG9iamVjdGAgd2l0aCB2YWx1ZXMgdHJhbnNmb3JtZWQgYnkgYGl0ZXJhdGVlYCBhbmQgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0gdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgc2V0dGVyKGFjY3VtdWxhdG9yLCBpdGVyYXRlZSh2YWx1ZSksIGtleSwgb2JqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmludm9rZWAgd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogbWV0aG9kIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgdmFyIGZ1bmMgPSBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXBwbHkoZnVuYywgb2JqZWN0LCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFyZ3NUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcnJheUJ1ZmZlcmAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FycmF5QnVmZmVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcnJheUJ1ZmZlclRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0RhdGVgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGRhdGUgb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRGF0ZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gZGF0ZVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0VxdWFsYCB3aGljaCBzdXBwb3J0cyBwYXJ0aWFsIGNvbXBhcmlzb25zXG4gICAgICogYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgMSAtIFVub3JkZXJlZCBjb21wYXJpc29uXG4gICAgICogIDIgLSBQYXJ0aWFsIGNvbXBhcmlzb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGB2YWx1ZWAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCBvdGhlciA9PSBudWxsIHx8ICghaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNPYmplY3RMaWtlKG90aGVyKSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUlzRXF1YWxEZWVwKHZhbHVlLCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgYmFzZUlzRXF1YWwsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBjb21wYXJpc29ucyBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzIGVuYWJsaW5nIG9iamVjdHMgd2l0aCBjaXJjdWxhclxuICAgICAqIHJlZmVyZW5jZXMgdG8gYmUgY29tcGFyZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIGBvYmplY3RgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWxEZWVwKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spIHtcbiAgICAgIHZhciBvYmpJc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBvdGhJc0FyciA9IGlzQXJyYXkob3RoZXIpLFxuICAgICAgICAgIG9ialRhZyA9IG9iaklzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob2JqZWN0KSxcbiAgICAgICAgICBvdGhUYWcgPSBvdGhJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG90aGVyKTtcblxuICAgICAgb2JqVGFnID0gb2JqVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvYmpUYWc7XG4gICAgICBvdGhUYWcgPSBvdGhUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG90aFRhZztcblxuICAgICAgdmFyIG9iaklzT2JqID0gb2JqVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBvdGhJc09iaiA9IG90aFRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgaXNTYW1lVGFnID0gb2JqVGFnID09IG90aFRhZztcblxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiBpc0J1ZmZlcihvYmplY3QpKSB7XG4gICAgICAgIGlmICghaXNCdWZmZXIob3RoZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9iaklzQXJyID0gdHJ1ZTtcbiAgICAgICAgb2JqSXNPYmogPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgIW9iaklzT2JqKSB7XG4gICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgIHJldHVybiAob2JqSXNBcnIgfHwgaXNUeXBlZEFycmF5KG9iamVjdCkpXG4gICAgICAgICAgPyBlcXVhbEFycmF5cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKVxuICAgICAgICAgIDogZXF1YWxCeVRhZyhvYmplY3QsIG90aGVyLCBvYmpUYWcsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgICAgfVxuICAgICAgaWYgKCEoYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHKSkge1xuICAgICAgICB2YXIgb2JqSXNXcmFwcGVkID0gb2JqSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdfX3dyYXBwZWRfXycpLFxuICAgICAgICAgICAgb3RoSXNXcmFwcGVkID0gb3RoSXNPYmogJiYgaGFzT3duUHJvcGVydHkuY2FsbChvdGhlciwgJ19fd3JhcHBlZF9fJyk7XG5cbiAgICAgICAgaWYgKG9iaklzV3JhcHBlZCB8fCBvdGhJc1dyYXBwZWQpIHtcbiAgICAgICAgICB2YXIgb2JqVW53cmFwcGVkID0gb2JqSXNXcmFwcGVkID8gb2JqZWN0LnZhbHVlKCkgOiBvYmplY3QsXG4gICAgICAgICAgICAgIG90aFVud3JhcHBlZCA9IG90aElzV3JhcHBlZCA/IG90aGVyLnZhbHVlKCkgOiBvdGhlcjtcblxuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgcmV0dXJuIGVxdWFsRnVuYyhvYmpVbndyYXBwZWQsIG90aFVud3JhcHBlZCwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FtZVRhZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgcmV0dXJuIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hcGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWFwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IG1hcFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc01hdGNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0Y2hEYXRhIFRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpbmRleCA9IG1hdGNoRGF0YS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gaW5kZXgsXG4gICAgICAgICAgbm9DdXN0b21pemVyID0gIWN1c3RvbWl6ZXI7XG5cbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgdmFyIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICBpZiAoKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKVxuICAgICAgICAgICAgICA/IGRhdGFbMV0gIT09IG9iamVjdFtkYXRhWzBdXVxuICAgICAgICAgICAgICA6ICEoZGF0YVswXSBpbiBvYmplY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGRhdGEgPSBtYXRjaERhdGFbaW5kZXhdO1xuICAgICAgICB2YXIga2V5ID0gZGF0YVswXSxcbiAgICAgICAgICAgIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBzcmNWYWx1ZSA9IGRhdGFbMV07XG5cbiAgICAgICAgaWYgKG5vQ3VzdG9taXplciAmJiBkYXRhWzJdKSB7XG4gICAgICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2s7XG4gICAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSwgc3RhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcsIGN1c3RvbWl6ZXIsIHN0YWNrKVxuICAgICAgICAgICAgICAgIDogcmVzdWx0XG4gICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IGlzTWFza2VkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgcGF0dGVybiA9IGlzRnVuY3Rpb24odmFsdWUpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodG9Tb3VyY2UodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1JlZ0V4cGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcmVnZXhwLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzUmVnRXhwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSByZWdleHBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNTZXRgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBzZXRUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgICAgIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgISF0eXBlZEFycmF5VGFnc1tiYXNlR2V0VGFnKHZhbHVlKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXRlcmF0ZWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZT1fLmlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGl0ZXJhdGVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJdGVyYXRlZSh2YWx1ZSkge1xuICAgICAgLy8gRG9uJ3Qgc3RvcmUgdGhlIGB0eXBlb2ZgIHJlc3VsdCBpbiBhIHZhcmlhYmxlIHRvIGF2b2lkIGEgSklUIGJ1ZyBpbiBTYWZhcmkgOS5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTU2MDM0IGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICA/IGJhc2VNYXRjaGVzUHJvcGVydHkodmFsdWVbMF0sIHZhbHVlWzFdKVxuICAgICAgICAgIDogYmFzZU1hdGNoZXModmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzKG9iamVjdCkge1xuICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGtleSAhPSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzSW5gIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXNJbihvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB2YXIgaXNQcm90byA9IGlzUHJvdG90eXBlKG9iamVjdCksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKCEoa2V5ID09ICdjb25zdHJ1Y3RvcicgJiYgKGlzUHJvdG8gfHwgIWhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmx0YCB3aGljaCBkb2Vzbid0IGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMdCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA8IG90aGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hcGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gaXNBcnJheUxpa2UoY29sbGVjdGlvbikgPyBBcnJheShjb2xsZWN0aW9uLmxlbmd0aCkgOiBbXTtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpdGVyYXRlZSh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2hEYXRhID0gZ2V0TWF0Y2hEYXRhKHNvdXJjZSk7XG4gICAgICBpZiAobWF0Y2hEYXRhLmxlbmd0aCA9PSAxICYmIG1hdGNoRGF0YVswXVsyXSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUobWF0Y2hEYXRhWzBdWzBdLCBtYXRjaERhdGFbMF1bMV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNQcm9wZXJ0eWAgd2hpY2ggZG9lc24ndCBjbG9uZSBgc3JjVmFsdWVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgaWYgKGlzS2V5KHBhdGgpICYmIGlzU3RyaWN0Q29tcGFyYWJsZShzcmNWYWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKHRvS2V5KHBhdGgpLCBzcmNWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmpWYWx1ZSA9IGdldChvYmplY3QsIHBhdGgpO1xuICAgICAgICByZXR1cm4gKG9ialZhbHVlID09PSB1bmRlZmluZWQgJiYgb2JqVmFsdWUgPT09IHNyY1ZhbHVlKVxuICAgICAgICAgID8gaGFzSW4ob2JqZWN0LCBwYXRoKVxuICAgICAgICAgIDogYmFzZUlzRXF1YWwoc3JjVmFsdWUsIG9ialZhbHVlLCBDT01QQVJFX1BBUlRJQUxfRkxBRyB8IENPTVBBUkVfVU5PUkRFUkVEX0ZMQUcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZXJnZWAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIG1lcmdlZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24pIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoJ3NvdXJjZVVSTCcgaW4gb3B0aW9uc1xuICAgICAgICAgID8gb3B0aW9ucy5zb3VyY2VVUkxcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltRW5kLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gKGxvZGFzaEZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICAgIG5hbWVzID0gcmVhbE5hbWVzW2tleV0gfHwgKHJlYWxOYW1lc1trZXldID0gW10pO1xuXG4gICAgICAgIG5hbWVzLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiaW1wb3J0IHsgTWF0cml4LCBFbnZpcm9ubWVudCwgQ29kZUNvbnN0cnVjdCwgRW52aXJvbm1lbnRMaXN0ZW5lciwgVmFyaWFibGUgfSBmcm9tIFwiLi9tYXRsYWJcIjtcclxuaW1wb3J0IHsgTXV0YWJsZSwgZ2V0UXVlcnlTdHJpbmcsIGFzc2VydCB9IGZyb20gXCIuL3V0aWwvdXRpbFwiO1xyXG5pbXBvcnQge1N5bnRheEVycm9yLCBwYXJzZSBhcyBtYXRsYWJfcGFyc2UsIHBhcnNlfSBmcm9tIFwiLi9tYXRsYWJfcGFyc2VyXCJcclxuXHJcbmNsYXNzIFZhcmlhYmxlRXhlcmNpc2Uge1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSB2YXJpYWJsZU5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXRWYWx1ZTogTWF0cml4O1xyXG4gICAgLy8gcHVibGljIHJlYWRvbmx5IGlzQ29tcGxldGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IodmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldDogTWF0cml4KSB7XHJcbiAgICAgICAgdGhpcy52YXJpYWJsZU5hbWUgPSB2YXJpYWJsZU5hbWU7XHJcbiAgICAgICAgdGhpcy50YXJnZXRWYWx1ZSA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hlY2soZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIGxldCB2ID0gZW52LnZhckxvb2t1cCh0aGlzLnZhcmlhYmxlTmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHYgJiYgdi52YWx1ZS5lcXVhbHModGhpcy50YXJnZXRWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIGF0dGVtcHQodmFsdWU6IE1hdHJpeCkge1xyXG4gICAgLy8gICAgIGlmICh2YWx1ZS5lcXVhbHModGhpcy50YXJnZXRWYWx1ZSkpIHtcclxuICAgIC8vICAgICAgICAgKDxNdXRhYmxlPHRoaXM+PnRoaXMpLmlzQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgdmlzdWFsaXplX2h0bWwoZW52OiBFbnZpcm9ubWVudCkge1xyXG4gICAgICAgIGxldCBpc0NvbXBsZXRlID0gdGhpcy5jaGVjayhlbnYpO1xyXG4gICAgICAgIGxldCBjb21wbGV0ZU1lc3NhZ2UgPSAnPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW9rIG1hdGNyYWItY29tcGxldGUtZ2x5cGhpY29uXCI+PC9zcGFuPic7XHJcbiAgICAgICAgbGV0IGluY29tcGxldGVNZXNzYWdlID0gJzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1vcHRpb24taG9yaXpvbnRhbCBtYXRjcmFiLWluY29tcGxldGUtZ2x5cGhpY29uXCI+PC9zcGFuPic7XHJcblxyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYmFkZ2UgbWF0bGFiLXZhci1iYWRnZVwiPiR7dGhpcy52YXJpYWJsZU5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGNyYWItdmlzdWFsaXphdGlvblwiPiR7dGhpcy50YXJnZXRWYWx1ZS52aXN1YWxpemVfaHRtbCgpfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1hdGNyYWItdmFyaWFibGUtZXhlcmNpc2Utc3RhdHVzXCI+JHtpc0NvbXBsZXRlID8gY29tcGxldGVNZXNzYWdlIDogaW5jb21wbGV0ZU1lc3NhZ2V9PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEV4ZXJjaXNlR3JvdXAgaW1wbGVtZW50cyBFbnZpcm9ubWVudExpc3RlbmVyIHtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZW52OiBFbnZpcm9ubWVudDtcclxuXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZXhlcmNpc2VzIDogcmVhZG9ubHkgVmFyaWFibGVFeGVyY2lzZVtdO1xyXG5cclxuICAgIHB1YmxpYyByZWFkb25seSBkZXNjcmlwdGlvbj86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBzb2x1dGlvbk1lc3NhZ2U/OiBzdHJpbmc7XHJcblxyXG4gICAgcHJpdmF0ZSBlbGVtOiBKUXVlcnk7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGVsZW06IEpRdWVyeSwgZW52OiBFbnZpcm9ubWVudCwgdGFyZ2V0czoge1tpbmRleDpzdHJpbmddOiBNYXRyaXh9LCBkZXNjcmlwdGlvbj86IHN0cmluZywgc29sdXRpb25NZXNzYWdlPzogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtID0gZWxlbTtcclxuICAgICAgICB0aGlzLmVudiA9IGVudjtcclxuICAgICAgICB0aGlzLmV4ZXJjaXNlcyA9IE9iamVjdC5rZXlzKHRhcmdldHMpLm1hcCgodikgPT4gbmV3IFZhcmlhYmxlRXhlcmNpc2UodiwgdGFyZ2V0c1t2XSkpO1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgICB0aGlzLnNvbHV0aW9uTWVzc2FnZSA9IHNvbHV0aW9uTWVzc2FnZTtcclxuXHJcbiAgICAgICAgZW52LmFkZExpc3RlbmVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZWxlbS5odG1sKHRoaXMudmlzdWFsaXplX2h0bWwoKSlcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25WYXJpYWJsZVNldCh2YXJpOiBWYXJpYWJsZSkge1xyXG4gICAgICAgIHRoaXMuZXhlcmNpc2VzLmZvckVhY2goZXggPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXgudmFyaWFibGVOYW1lID09PSB2YXJpLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbS5odG1sKHRoaXMudmlzdWFsaXplX2h0bWwoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHVibGljIGNoZWNrKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZXJjaXNlcy5ldmVyeShlID0+IGUuY2hlY2sodGhpcy5lbnYpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHZpc3VhbGl6ZV9odG1sKCkge1xyXG4gICAgICAgIHJldHVybiBgXHJcbiAgICAgICAgJHt0aGlzLmRlc2NyaXB0aW9uID8gYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPiR7dGhpcy5kZXNjcmlwdGlvbn08L2Rpdj5gIDogXCJcIn1cclxuICAgICAgICA8dGFibGU+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICR7dGhpcy5leGVyY2lzZXMucmVkdWNlKChwcmV2LCBleCkgPT4gcHJldiArIGA8dGQ+JHtleC52aXN1YWxpemVfaHRtbCh0aGlzLmVudil9PC90ZD5gLCBcIlwiKX1cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICR7KHRoaXMuc29sdXRpb25NZXNzYWdlICYmIHRoaXMuY2hlY2soKSkgPyBgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+JHt0aGlzLnNvbHV0aW9uTWVzc2FnZX08L2Rpdj5gIDogXCJcIn1gO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VFeGVjdXRlVmlzdWFsaXplKHRleHQ6IHN0cmluZywgZW52OiBFbnZpcm9ubWVudCwgdmlzOiBKUXVlcnkpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKHRleHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgc3JjID0gbWF0bGFiX3BhcnNlKHRleHQpO1xyXG4gICAgICAgICAgICB2YXIgY2MgPSBDb2RlQ29uc3RydWN0LmNyZWF0ZShzcmMsIGVudik7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYy5leGVjdXRlKCk7XHJcbiAgICAgICAgICAgIHZpcy5odG1sKGNjLnZpc3VhbGl6ZV9odG1sKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoKGVycikge1xyXG4gICAgICAgIGlmIChlcnIubmFtZSA9PT0gXCJTeW50YXhFcnJvclwiKSB7XHJcbiAgICAgICAgICAgIHZpcy5odG1sKFwiU3ludGF4IEVycm9yXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmlzLmh0bWwoXCJTb3JyeSwgYW4gdW5leHBlY3RlZCBNYXRDcmFiIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgcmVwb3J0IHRvIGpqdWV0dEB1bWljaC5lZHUuXCIpXHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJpbmRFbnRyeVRvVmlzdWFsaXphdGlvbihlbnRyeTogSlF1ZXJ5LCB2aXM6IEpRdWVyeSwgZ2xvYmFsV29ya3NwYWNlOiBFbnZpcm9ubWVudCkge1xyXG4gICAgbGV0IGV4cF9pbl90aW1lb3V0OiBudW1iZXI7XHJcblxyXG4gICAgZW50cnkua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgY29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoO1xyXG5cclxuICAgICAgICAvLyBEbyBub3RoaW5nIHVubGVzcyBpdCdzIGFuIDxFbnRlcj4gd2l0aCBrZXljb2RlIDEzXHJcbiAgICAgICAgLy8gKGFuZCBub3QgYSBzaGlmdCBlbnRlcilcclxuICAgICAgICBpZiAoY29kZSAhPSAxMyB8fCBlLnNoaWZ0S2V5KSB7IHJldHVybjsgfVxyXG5cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHZhciBkZWxheSA9IDUwMDsgLy8gbXNcclxuICAgICAgICBjbGVhclRpbWVvdXQoZXhwX2luX3RpbWVvdXQpO1xyXG4gICAgICAgIGV4cF9pbl90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbnRyeS52YWwoKSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybjsgfVxyXG4gICAgICAgICAgICB2YXIgdGV4dCA9ICg8c3RyaW5nPmVudHJ5LnZhbCgpKS50cmltKCk7XHJcbiAgICAgICAgICAgIHZpcy5lbXB0eSgpO1xyXG4gICAgICAgICAgICBwYXJzZUV4ZWN1dGVWaXN1YWxpemUodGV4dCwgZ2xvYmFsV29ya3NwYWNlLCB2aXMpO1xyXG4gICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmluZFJ1bkJ1dHRvblRvVmlzdWFsaXphdGlvbihydW5CdXR0b246IEpRdWVyeSwgZW50cnk6IEpRdWVyeSwgdmlzOiBKUXVlcnksIGdsb2JhbFdvcmtzcGFjZTogRW52aXJvbm1lbnQpIHtcclxuICAgIGxldCBleHBfaW5fdGltZW91dDogbnVtYmVyO1xyXG5cclxuICAgIHJ1bkJ1dHRvbi5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdmFyIGRlbGF5ID0gNTAwOyAvLyBtc1xyXG4gICAgICAgIGNsZWFyVGltZW91dChleHBfaW5fdGltZW91dCk7XHJcbiAgICAgICAgZXhwX2luX3RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVudHJ5LnZhbCgpID09PSB1bmRlZmluZWQpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gKDxzdHJpbmc+ZW50cnkudmFsKCkpLnRyaW0oKTtcclxuICAgICAgICAgICAgdmlzLmVtcHR5KCk7XHJcbiAgICAgICAgICAgIHBhcnNlRXhlY3V0ZVZpc3VhbGl6ZSh0ZXh0LCBnbG9iYWxXb3Jrc3BhY2UsIHZpcyk7XHJcbiAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmltV2hpdGVzcGFjZShzcmM6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHNyYy50cmltKCkuc3BsaXQoXCJcXG5cIikubWFwKGxpbmUgPT4gbGluZS50cmltKCkpLmpvaW4oXCJcXG5cIilcclxufSBcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckV4ZXJjaXNlcygpIHtcclxuXHJcbiAgICAkKFwiLm1hdGNyYWItdmFyaWFibGUtdGFyZ2V0LWV4ZXJjaXNlXCIpLmZpbHRlcihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gISQodGhpcykuZGF0YShcInJlbmRlcmVkXCIpO1xyXG4gICAgfSkuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgdGFyZ2V0cyA6IHtbaW5kZXg6c3RyaW5nXTogTWF0cml4fSA9IHt9O1xyXG5cclxuICAgICAgICAvLyBBZGQgZWFjaCB0YXJnZXQgdG8gZXhlY2lzZVxyXG4gICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLXZhcmlhYmxlLXRhcmdldFwiKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgdCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGxldCBzcmMgPSB0cmltV2hpdGVzcGFjZSh0Lmh0bWwoKSk7XHJcbiAgICAgICAgICAgIGxldCBhc3QgPSBtYXRsYWJfcGFyc2Uoc3JjKTtcclxuICAgICAgICAgICAgbGV0IHRlbXBXb3Jrc3BhY2UgPSBuZXcgRW52aXJvbm1lbnQoKTtcclxuICAgICAgICAgICAgbGV0IGNjID0gQ29kZUNvbnN0cnVjdC5jcmVhdGUoYXN0LCB0ZW1wV29ya3NwYWNlKTtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNjLmV4ZWN1dGUoKTtcclxuICAgICAgICAgICAgYXNzZXJ0KHJlc3VsdC5raW5kID09PSBcInN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgIHRhcmdldHNbdC5kYXRhKFwibmFtZVwiKV0gPSByZXN1bHQudmFsdWU7XHJcbiAgICAgICAgfSkucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIGxldCBxdWVzdGlvbk1zZyA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLWV4ZXJjaXNlLXF1ZXN0aW9uXCIpLmh0bWwoKSA/PyBcIlwiO1xyXG4gICAgICAgIHF1ZXN0aW9uTXNnID0gcXVlc3Rpb25Nc2cudHJpbSgpO1xyXG4gICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLWV4ZXJjaXNlLXF1ZXN0aW9uXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICBsZXQgY29tcGxldGVNc2cgPSAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1leGVyY2lzZS1jb21wbGV0ZVwiKS5odG1sKCkgPz8gXCJcIjtcclxuICAgICAgICBjb21wbGV0ZU1zZyA9IGNvbXBsZXRlTXNnLnRyaW0oKTtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1leGVyY2lzZS1jb21wbGV0ZVwiKS5yZW1vdmUoKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgZXhlcmNpc2VXb3Jrc3BhY2UgPSBuZXcgRW52aXJvbm1lbnQoJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItd29ya3NwYWNlXCIpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgYW55IGluaXRpYWwgc2V0dXAgY29kZSAoZS5nLiB0byBwb3B1bGF0ZSB3b3Jrc3BhY2UgdmFycylcclxuICAgICAgICBsZXQgc2V0dXBTcmMgPSB0cmltV2hpdGVzcGFjZSgkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1zZXR1cFwiKS5odG1sKCkgfHwgXCJcIik7XHJcbiAgICAgICAgbGV0IHNldHVwQXN0ID0gbWF0bGFiX3BhcnNlKHNldHVwU3JjKTtcclxuICAgICAgICBpZiAoIXNldHVwQXN0LnN0YXRlbWVudHMgfHwgc2V0dXBBc3Quc3RhdGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNldHVwQXN0LCBleGVyY2lzZVdvcmtzcGFjZSkuZXhlY3V0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1zZXR1cFwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgbmV3IEV4ZXJjaXNlR3JvdXAoXHJcbiAgICAgICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLWV4ZXJjaXNlLXN0YXR1c1wiKSxcclxuICAgICAgICAgICAgZXhlcmNpc2VXb3Jrc3BhY2UsXHJcbiAgICAgICAgICAgIHRhcmdldHMsXHJcbiAgICAgICAgICAgIHF1ZXN0aW9uTXNnLFxyXG4gICAgICAgICAgICBjb21wbGV0ZU1zZ1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGxldCByZXNldCA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXJlc2V0XCIpO1xyXG4gICAgICAgIGxldCBydW4gPSAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1ydW5cIik7XHJcbiAgICAgICAgbGV0IGVudHJ5ID0gJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItZW50cnlcIik7XHJcbiAgICAgICAgbGV0IHZpcyA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXZpc1wiKTtcclxuXHJcbiAgICAgICAgYmluZEVudHJ5VG9WaXN1YWxpemF0aW9uKGVudHJ5LCB2aXMsIGV4ZXJjaXNlV29ya3NwYWNlKTtcclxuICAgICAgICBiaW5kUnVuQnV0dG9uVG9WaXN1YWxpemF0aW9uKHJ1biwgZW50cnksIHZpcywgZXhlcmNpc2VXb3Jrc3BhY2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCB1cCByZXNldCBidXR0b25cclxuICAgICAgICByZXNldC5vbihcImNsaWNrXCIsIChlKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGVhciBlbnZyaW9ubWVudCBhbmQgcmUtZXhlY3V0ZSBzZXR1cFxyXG4gICAgICAgICAgICBleGVyY2lzZVdvcmtzcGFjZS5jbGVhcigpXHJcbiAgICAgICAgICAgIGlmICghc2V0dXBBc3Quc3RhdGVtZW50cyB8fCBzZXR1cEFzdC5zdGF0ZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNldHVwQXN0LCBleGVyY2lzZVdvcmtzcGFjZSkuZXhlY3V0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSkuZGF0YShcInJlbmRlcmVkXCIsIHRydWUpO1xyXG5cclxuICAgIC8vIGxldCBiYWNrZ3JvdW5kV29ya3NwYWNlID0gbmV3IEVudmlyb25tZW50KCk7XHJcblxyXG4gICAgJChcIi5tYXRjcmFiLXZpcy1leHBcIikuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhJCh0aGlzKS5kYXRhKFwicmVuZGVyZWRcIik7XHJcbiAgICB9KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBzcmMgPSAkKHRoaXMpLmh0bWwoKTtcclxuICAgICAgICAvLyBUcmltIGxlYWRpbmcgd2hpdGVzcGFjZSBvbiBlYWNoIGxpbmUgb2YgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIC8vIG9mIGVudHJ5LiBUaGlzIGlzIGhlbHBmdWwgc2luY2UgdGhlcmUncyBpbmRlbnRhdGlvbiB3aGl0ZXNwYWNlXHJcbiAgICAgICAgLy8gaW4gdGhlIGh0bWwuXHJcbiAgICAgICAgc3JjID0gdHJpbVdoaXRlc3BhY2Uoc3JjKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhzcmMpO1xyXG5cclxuICAgICAgICBsZXQgYXN0ID0gbWF0bGFiX3BhcnNlKHNyYyk7XHJcbiAgICAgICAgbGV0IHRlbXBXb3Jrc3BhY2UgPSBuZXcgRW52aXJvbm1lbnQoKTtcclxuICAgICAgICBsZXQgY2MgPSBDb2RlQ29uc3RydWN0LmNyZWF0ZShhc3QsIHRlbXBXb3Jrc3BhY2UpO1xyXG4gICAgICAgIGNjLmV4ZWN1dGUoKTtcclxuICAgICAgICAkKHRoaXMpLmh0bWwoY2MudmlzdWFsaXplX2h0bWwoKSk7XHJcbiAgICB9KS5kYXRhKFwicmVuZGVyZWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgJChcIi5tYXRjcmFiLWV4YW1wbGVcIikuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAhJCh0aGlzKS5kYXRhKFwicmVuZGVyZWRcIik7XHJcbiAgICB9KS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCByZXNldCA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXJlc2V0XCIpO1xyXG4gICAgICAgIGxldCBydW4gPSAkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1ydW5cIik7XHJcbiAgICAgICAgbGV0IGVudHJ5ID0gJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItZW50cnlcIik7XHJcbiAgICAgICAgbGV0IHZpcyA9ICQodGhpcykuZmluZChcIi5tYXRjcmFiLXZpc1wiKTtcclxuXHJcbiAgICAgICAgbGV0IGV4YW1wbGVXb3Jrc3BhY2UgPSBuZXcgRW52aXJvbm1lbnQoJCh0aGlzKS5maW5kKFwiLm1hdGNyYWItd29ya3NwYWNlXCIpKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIYW5kbGUgYW55IGluaXRpYWwgc2V0dXAgY29kZSAoZS5nLiB0byBwb3B1bGF0ZSB3b3Jrc3BhY2UgdmFycylcclxuICAgICAgICBsZXQgc2V0dXBTcmMgPSB0cmltV2hpdGVzcGFjZSgkKHRoaXMpLmZpbmQoXCIubWF0Y3JhYi1zZXR1cFwiKS5odG1sKCkgfHwgXCJcIik7XHJcbiAgICAgICAgbGV0IHNldHVwQXN0ID0gbWF0bGFiX3BhcnNlKHNldHVwU3JjKTtcclxuICAgICAgICBpZiAoIXNldHVwQXN0LnN0YXRlbWVudHMgfHwgc2V0dXBBc3Quc3RhdGVtZW50cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNldHVwQXN0LCBleGFtcGxlV29ya3NwYWNlKS5leGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLXNldHVwXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvLyBUcmltIGxlYWRpbmcgd2hpdGVzcGFjZSBvbiBlYWNoIGxpbmUgb2YgaW5pdGlhbCB2YWx1ZVxyXG4gICAgICAgIC8vIG9mIGVudHJ5LiBUaGlzIGlzIGhlbHBmdWwgZm9yIHRleHRhcmVhIGVudHJpZXMgdGhhdCBtaWdodFxyXG4gICAgICAgIC8vIGhhdmUgcmFuZG9tIHdoaXRlc3BhY2UgZnJvbSBpbmRlbnRhdGlvbiBpbiB0aGVpciBodG1sXHJcbiAgICAgICAgbGV0IHYgPSBlbnRyeS52YWwoKTtcclxuICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgZW50cnkudmFsKHRyaW1XaGl0ZXNwYWNlKHYpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBpbml0aWFsU3JjID0gXCJcIjtcclxuICAgICAgICAvLyBHbyBhaGVhZCBhbmQgZXZhbHVhdGUgaW5pdGlhbCB2YWx1ZSBvZiBlbnRyeVxyXG4gICAgICAgIGlmIChlbnRyeS52YWwoKSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxTcmMgPSAoPHN0cmluZz5lbnRyeS52YWwoKSkudHJpbSgpO1xyXG4gICAgICAgICAgICB2aXMuZW1wdHkoKTtcclxuICAgICAgICAgICAgcGFyc2VFeGVjdXRlVmlzdWFsaXplKGluaXRpYWxTcmMsIGV4YW1wbGVXb3Jrc3BhY2UsIHZpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVcGRhdGUgZXZlcnkgdGltZSBlbnRyeSBjaGFuZ2VzICh3aXRoIDxFbnRlcj4pXHJcbiAgICAgICAgYmluZEVudHJ5VG9WaXN1YWxpemF0aW9uKGVudHJ5LCB2aXMsIGV4YW1wbGVXb3Jrc3BhY2UpO1xyXG4gICAgICAgIGJpbmRSdW5CdXR0b25Ub1Zpc3VhbGl6YXRpb24ocnVuLCBlbnRyeSwgdmlzLCBleGFtcGxlV29ya3NwYWNlKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIHJlc2V0IGJ1dHRvblxyXG4gICAgICAgIHJlc2V0Lm9uKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIENsZWFyIGVudnJpb25tZW50XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZChcIi5tYXRjcmFiLXdvcmtzcGFjZVwiKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICBleGFtcGxlV29ya3NwYWNlID0gbmV3IEVudmlyb25tZW50KCQodGhpcykuZmluZChcIi5tYXRjcmFiLXdvcmtzcGFjZVwiKSk7XHJcbiAgICAgICAgICAgIGlmICghc2V0dXBBc3Quc3RhdGVtZW50cyB8fCBzZXR1cEFzdC5zdGF0ZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIENvZGVDb25zdHJ1Y3QuY3JlYXRlKHNldHVwQXN0LCBleGFtcGxlV29ya3NwYWNlKS5leGVjdXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNldCBlbnRyeSB2YWx1ZSBiYWNrIHRvIGluaXRpYWxcclxuICAgICAgICAgICAgZW50cnkudmFsKGluaXRpYWxTcmMpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVydW4gaW5pdGlhbCBzdHVmZlxyXG4gICAgICAgICAgICB2aXMuZW1wdHkoKTtcclxuICAgICAgICAgICAgcGFyc2VFeGVjdXRlVmlzdWFsaXplKGluaXRpYWxTcmMsIGV4YW1wbGVXb3Jrc3BhY2UsIHZpcyk7XHJcbiAgICAgICAgfSlcclxuICAgIH0pLmRhdGEoXCJyZW5kZXJlZFwiLCB0cnVlKTtcclxufVxyXG5cclxuJChkb2N1bWVudCkucmVhZHkocmVuZGVyRXhlcmNpc2VzKTtcclxuXHJcbi8vIFRyeSB0byBjYXRjaCBhbnkgZXhlcmNpc2VzIHRoYXQgZ2V0IGxvYWRlZCBpbnRvIERPTSBhIGJpdCBsYXRlXHJcbnNldFRpbWVvdXQocmVuZGVyRXhlcmNpc2VzLCAxMDAwKTtcclxuc2V0VGltZW91dChyZW5kZXJFeGVyY2lzZXMsIDIwMDApO1xyXG5zZXRUaW1lb3V0KHJlbmRlckV4ZXJjaXNlcywgNTAwMCk7XHJcbnNldFRpbWVvdXQocmVuZGVyRXhlcmNpc2VzLCAxMDAwMCk7XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9